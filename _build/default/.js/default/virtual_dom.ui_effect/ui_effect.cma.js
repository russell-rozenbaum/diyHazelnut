// Generated by js_of_ocaml
//# buildInfo:effects=false, kind=cma, use-js-string=true, version=5.8.1+5.8.1

//# unitInfo: Provides: Ui_effect__
(function
  (globalThis){
   "use strict";
   var runtime = globalThis.jsoo_runtime, Ui_effect = [0];
   runtime.caml_register_global(0, Ui_effect, "Ui_effect__");
   return;
  }
  (globalThis));

//# unitInfo: Provides: Ui_effect__Ui_effect_intf
//# unitInfo: Requires: Expect_test_collector, Ppx_bench_lib__Benchmark_accumulator, Ppx_inline_test_lib__Runtime, Ppx_module_timer_runtime
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_Ui_effect_Ui_effect_intf = "Ui_effect__Ui_effect_intf",
    cst_ui_effect = "ui_effect";
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    cst = "",
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Expect_test_collector = global_data.Expect_test_collector,
    Ppx_inline_test_lib_Runtime = global_data.Ppx_inline_test_lib__Runtime;
   caml_call1(Ppx_module_timer_runtime[4], cst_Ui_effect_Ui_effect_intf);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][1], cst_ui_effect);
   caml_call1(Expect_test_collector[5][1], "ui_effect/ui_effect_intf.ml");
   caml_call2(Ppx_inline_test_lib_Runtime[2], cst_ui_effect, cst);
   caml_call1(Ppx_inline_test_lib_Runtime[3], cst_ui_effect);
   caml_call1(Expect_test_collector[5][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Ui_effect_Ui_effect_intf);
   var Ui_effect_Ui_effect_intf = [0];
   runtime.caml_register_global
    (11, Ui_effect_Ui_effect_intf, cst_Ui_effect_Ui_effect_intf);
   return;
  }
  (globalThis));

//# unitInfo: Provides: Ui_effect
//# unitInfo: Requires: Base__Monad, CamlinternalLazy, Core, Core__Bag, Core__Hashtbl, Core__Int, Core__List, Core__Sexp, Expect_test_collector, Ppx_bench_lib__Benchmark_accumulator, Ppx_inline_test_lib__Runtime, Ppx_module_timer_runtime, Sexplib0__Sexp_conv, Stdlib__Obj, Ui_effect__Ui_effect_intf
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_Ui_effect = "Ui_effect",
    cst_Unrecognized_variant$1 = "Unrecognized variant",
    cst_ui_effect = "ui_effect",
    caml_fresh_oo_id = runtime.caml_fresh_oo_id;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    cst = "",
    CamlinternalLazy = global_data.CamlinternalLazy,
    Core_List = global_data.Core__List,
    Core_Bag = global_data.Core__Bag,
    Core = global_data.Core,
    Core_Hashtbl = global_data.Core__Hashtbl,
    Stdlib_Obj = global_data.Stdlib__Obj,
    Sexplib0_Sexp_conv = global_data.Sexplib0__Sexp_conv,
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Expect_test_collector = global_data.Expect_test_collector,
    Ppx_inline_test_lib_Runtime = global_data.Ppx_inline_test_lib__Runtime,
    Core_Int = global_data.Core__Int,
    Base_Monad = global_data.Base__Monad;
   caml_call1(Ppx_module_timer_runtime[4], cst_Ui_effect);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][1], cst_ui_effect);
   caml_call1(Expect_test_collector[5][1], "ui_effect/ui_effect.ml");
   caml_call2(Ppx_inline_test_lib_Runtime[2], cst_ui_effect, cst);
   var
    Ignore = [248, "Ui_effect.Ignore", caml_fresh_oo_id(0)],
    Many = [248, "Ui_effect.Many", caml_fresh_oo_id(0)],
    handlers =
      caml_call3
       (Core_Hashtbl[4],
        0,
        [0, 8],
        [0, Core_Int[91], Core_Int[80], Core_Int[104]]),
    cst_Ui_effect_Define_Handler_C = "Ui_effect.Define(Handler).C",
    cst_Unrecognized_variant = cst_Unrecognized_variant$1,
    cst_Ui_effect_Define1_Handler_ = "Ui_effect.Define1(Handler).C",
    cst_on_response_called_multipl = "on_response called multiple times!",
    cst_Unrecognized_variant$0 = cst_Unrecognized_variant$1;
   function Define(Handler){
    var
     C = [248, cst_Ui_effect_Define_Handler_C, caml_fresh_oo_id(0)],
     key = caml_call1(Stdlib_Obj[22][3], C);
    caml_call3
     (Core_Hashtbl[36],
      handlers,
      key,
      function(inp){
       var _r_ = inp[1], match = _r_[1];
       if(match[1] === C){
        var callback = _r_[2], value = match[2];
        caml_call1(Handler[2], value);
        return caml_call1(callback, 0);
       }
       var _s_ = caml_call1(Sexplib0_Sexp_conv[7], cst_Unrecognized_variant);
       return caml_call1(Core[253], _s_);
      });
    function inject(v){return [0, C, v];}
    return [0, inject];
   }
   function Define1(Handler){
    var
     C = [248, cst_Ui_effect_Define1_Handler_, caml_fresh_oo_id(0)],
     key = caml_call1(Stdlib_Obj[22][3], C);
    caml_call3
     (Core_Hashtbl[36],
      handlers,
      key,
      function(inp){
       var _p_ = inp[1], match = _p_[1];
       if(match[1] === C){
        var
         callback = _p_[2],
         value = match[2],
         called = [0, 0],
         callback$0 =
           function(a){
            if(called[1])
             caml_call1(Core[6], cst_on_response_called_multipl);
            else
             called[1] = 1;
            return caml_call1(callback, a);
           };
        return caml_call2(Handler[2], value, callback$0);
       }
       var
        _q_ = caml_call1(Sexplib0_Sexp_conv[7], cst_Unrecognized_variant$0);
       return caml_call1(Core[253], _q_);
      });
    function inject(v){return [0, C, v];}
    return [0, inject];
   }
   function handle(s){return caml_call2(Core[248], 0, s);}
   var
    Print_s = Define([0, [0], handle]),
    print_s = Print_s[1],
    Return = [248, "Ui_effect.Return", caml_fresh_oo_id(0)],
    Lazy = [248, "Ui_effect.Lazy", caml_fresh_oo_id(0)],
    Bind = [248, "Ui_effect.Bind", caml_fresh_oo_id(0)],
    Map = [248, "Ui_effect.Map", caml_fresh_oo_id(0)],
    Never = [248, "Ui_effect.Never", caml_fresh_oo_id(0)],
    Fun = [248, "Ui_effect.Fun", caml_fresh_oo_id(0)];
   function return$0(a){return [0, Return, a];}
   function bind(t, f){return [0, Bind, t, f];}
   function of_fun(f){return [0, Fun, f];}
   function lazy(a){return [0, Lazy, a];}
   var
    map = [0, -198771759, function(t, f){return [0, Map, t, f];}],
    include = caml_call1(Base_Monad[1], [0, bind, return$0, map]),
    symbol_bind = include[1],
    symbol_map = include[2],
    Monad_infix = include[3],
    bind$0 = include[4],
    return$1 = include[5],
    map$0 = include[6],
    join = include[7],
    ignore_m = include[8],
    all = include[9],
    all_unit = include[10],
    Let_syntax = include[11];
   function eval$0(t, callback){
    var t$0 = t, callback$0 = callback;
    for(;;){
     if(t$0[1] === Fun){var f = t$0[2]; return caml_call1(f, callback$0);}
     if(t$0 === Ignore) return caml_call1(callback$0, 0);
     if(t$0[1] === Return){var a = t$0[2]; return caml_call1(callback$0, a);}
     if(t$0[1] === Lazy){
      var
       _k_ = t$0[2],
       _l_ = runtime.caml_obj_tag(_k_),
       t$1 =
         250 === _l_
          ? _k_[1]
          : 246 === _l_ ? caml_call1(CamlinternalLazy[2], _k_) : _k_;
      t$0 = t$1;
     }
     else{
      if(t$0[1] === Many){
       var l = t$0[2], _m_ = function(_o_){return 0;};
       caml_call2(Core_List[9], l, function(_n_){return eval$0(_n_, _m_);});
       return caml_call1(callback$0, 0);
      }
      if(t$0[1] === Bind){
       var f$0 = t$0[3], t$2 = t$0[2];
       let callback = callback$0, f = f$0;
       var
        callback$1 = function(a){return eval$0(caml_call1(f, a), callback);};
       t$0 = t$2;
       callback$0 = callback$1;
      }
      else{
       if(t$0[1] !== Map){
        if(t$0 === Never) return 0;
        var
         _i_ = caml_call1(Stdlib_Obj[22][1], t$0),
         _j_ = caml_call1(Stdlib_Obj[22][3], _i_);
        return caml_call3
                (Core_Hashtbl[54], handlers, _j_, [0, [0, t$0, callback$0]]);
       }
       var f$1 = t$0[3], t$3 = t$0[2];
       let callback = callback$0, f = f$1;
       var
        callback$2 =
          function(a){return caml_call1(callback, caml_call1(f, a));};
       t$0 = t$3;
       callback$0 = callback$2;
      }
     }
    }
   }
   function _a_(_h_){return 0;}
   function handle$0(_g_){return eval$0(_g_, _a_);}
   var Expert = [0, handle$0, handlers, of_fun], Action = [0];
   function handle$1(param, on_response){
    var f = param[2], a = param[1];
    return caml_call1(on_response, caml_call1(f, a));
   }
   var Sync_fun_arg = [0, Action, handle$1], Sync_fun = Define1(Sync_fun_arg);
   function of_sync_fun(f, a){return caml_call1(Sync_fun[1], [0, a, f]);}
   function make(request, on_response){return [0, request, on_response];}
   function request(param){var request = param[1]; return request;}
   function respond_to(param, response){
    var on_response = param[2];
    return caml_call1(on_response, response);
   }
   var Callback = [0, make, request, respond_to];
   function make$0(request, evaluator){
    return caml_call1
            (Expert[3],
             function(callback){
              var
               callback$0 =
                 caml_call2
                  (Callback[1],
                   request,
                   function(response){
                    caml_call1(callback, response);
                    return Ignore;
                   }),
               _f_ = caml_call1(evaluator, callback$0);
              return caml_call1(Expert[1], _f_);
             });
   }
   var Private = [0, Callback, make$0];
   function create(param){return [0, [0, caml_call1(Core_Bag[22], 0)]];}
   function upon(t, handler){
    var match = t[1];
    if(0 === match[0]){
     var handlers = match[1];
     caml_call2(Core_Bag[23], handlers, handler);
     return 0;
    }
    var x = match[1];
    return caml_call1(handler, x);
   }
   function fill_if_empty(t, x){
    var match = t[1];
    if(0 !== match[0]) return 0;
    var handlers = match[1];
    caml_call2
     (Core_Bag[7],
      handlers,
      function(handler){return caml_call1(handler, x);});
    t[1] = [1, x];
    return 0;
   }
   function peek(t){
    var match = t[1];
    if(0 === match[0]) return 0;
    var x = match[1];
    return [0, x];
   }
   var Svar = [0, create, upon, fill_if_empty, peek], Action$0 = [0];
   function handle$2(param, on_response){
    var f = param[2], a = param[1], _e_ = caml_call1(f, a);
    return caml_call2(Svar[2], _e_, on_response);
   }
   var
    Svar_fun_arg = [0, Action$0, handle$2],
    Svar_fun = Define1(Svar_fun_arg);
   function of_svar_fun(f, a){return caml_call1(Svar_fun[1], [0, a, f]);}
   function create$0(param){return caml_call1(Core_Bag[22], 0);}
   function queries_pending_response(t){
    var _d_ = caml_call1(Core_Bag[17], t);
    return caml_call2
            (Core_List[72],
             _d_,
             function(param){var query = param[1]; return query;});
   }
   function maybe_respond(t, f){
    return caml_call2
            (Core_Bag[30],
             t,
             function(param){
              var
               response = param[2],
               query = param[1],
               match = caml_call1(f, query);
              if(! match) return 1;
              var resp = match[1];
              caml_call2(Svar[3], response, resp);
              return 0;
             });
   }
   function of_query_response_tracker(qrt){
    function _b_(query){
     var response = caml_call1(Svar[1], 0);
     caml_call2(Core_Bag[23], qrt, [0, query, response]);
     return response;
    }
    return function(_c_){return of_svar_fun(_b_, _c_);};
   }
   caml_call1(Ppx_inline_test_lib_Runtime[3], cst_ui_effect);
   caml_call1(Expect_test_collector[5][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Ui_effect);
   var
    Ui_effect =
      [0,
       Ignore,
       Many,
       symbol_bind,
       symbol_map,
       Monad_infix,
       bind$0,
       return$1,
       map$0,
       join,
       ignore_m,
       all,
       all_unit,
       Let_syntax,
       Never,
       lazy,
       print_s,
       of_sync_fun,
       Define,
       Define1,
       Expert,
       Private,
       [0,
        Svar,
        of_svar_fun,
        [0, create$0, maybe_respond, queries_pending_response],
        of_query_response_tracker]];
   runtime.caml_register_global(34, Ui_effect, cst_Ui_effect);
   return;
  }
  (globalThis));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLjAsImZpbGUiOiJ1aV9lZmZlY3QuY21hLmpzIiwic291cmNlUm9vdCI6IiIsIm5hbWVzIjpbImhhbmRsZXJzIiwia2V5IiwiaW5wIiwiY2FsbGJhY2siLCJ2YWx1ZSIsImluamVjdCIsInYiLCJjYWxsZWQiLCJjYWxsYmFjayQwIiwiYSIsImhhbmRsZSIsInMiLCJwcmludF9zIiwiTmV2ZXIiLCJyZXR1cm4kMCIsImJpbmQiLCJ0IiwiZiIsIm9mX2Z1biIsImxhenkiLCJtYXAiLCJldmFsJDAiLCJ0JDAiLCJ0JDEiLCJsIiwiZiQwIiwidCQyIiwiY2FsbGJhY2skMSIsImYkMSIsInQkMyIsImNhbGxiYWNrJDIiLCJoYW5kbGUkMCIsImhhbmRsZSQxIiwib25fcmVzcG9uc2UiLCJvZl9zeW5jX2Z1biIsIm1ha2UiLCJyZXF1ZXN0IiwicmVzcG9uZF90byIsInJlc3BvbnNlIiwibWFrZSQwIiwiZXZhbHVhdG9yIiwiY3JlYXRlIiwidXBvbiIsImhhbmRsZXIiLCJ4IiwiZmlsbF9pZl9lbXB0eSIsInBlZWsiLCJoYW5kbGUkMiIsIm9mX3N2YXJfZnVuIiwiY3JlYXRlJDAiLCJxdWVyaWVzX3BlbmRpbmdfcmVzcG9uc2UiLCJxdWVyeSIsIm1heWJlX3Jlc3BvbmQiLCJyZXNwIiwib2ZfcXVlcnlfcmVzcG9uc2VfdHJhY2tlciIsInFydCJdLCJzb3VyY2VzIjpbIi9Vc2Vycy9ydXNzZWxscm96ZW5iYXVtLy5vcGFtL2RpeS1oYXplbG51dC9saWIvdmlydHVhbF9kb20vdWlfZWZmZWN0L3VpX2VmZmVjdC5tbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztFOzs7Ozs7Ozs7Ozs7Rzs7Ozs7Rzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztFOzs7Ozs7Ozs7Ozs7OztHOzs7OztHOzs7OztHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQUlhO0lBQUE7SUFBZ0I7SUFLekJBO01BQStDOzs7Ozs7Ozs7OztJQUlyQztLQUFBO0tBRVJDLE1BQU07SUFHUjs7TUFUQUQ7TUFNRUM7ZUFHdUNDO09B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a0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztPQXZKdEZuQztPQUVBTTtPQXhCQVA7T0FzRUVzQjs7Ozs7OztRQW1FRWM7WUFVRUMsVUFnQkFHLGVBUkFGO1FBa0JGSTs7O0UiLCJzb3VyY2VzQ29udGVudCI6WyJvcGVuISBDb3JlXG5pbmNsdWRlIFVpX2VmZmVjdF9pbnRmXG5cbnR5cGUgJ2EgdCA9IC4uXG50eXBlICdhIHQgKz0gSWdub3JlIDogdW5pdCB0IHwgTWFueSA6IHVuaXQgdCBsaXN0IC0+IHVuaXQgdFxuXG4oKiBXZSB1c2UgdGhpcyB0YWJsZSBmb3IgZGlzcGF0Y2hpbmcgdG8gdGhlIGFwcHJvcHJpYXRlIGhhbmRsZXIgaW4gYW4gZWZmaWNpZW50IHdheS4gICopXG50eXBlIGhpZGRlbiA9IFQgOiAoJ2EgdCAqICgnYSAtPiB1bml0KSkgLT4gaGlkZGVuXG5cbmxldCBoYW5kbGVycyA6IChoaWRkZW4gLT4gdW5pdCkgSGFzaHRibC5NKEludCkudCA9IEhhc2h0YmwuY3JlYXRlIChtb2R1bGUgSW50KSB+c2l6ZTo4XG5cbm1vZHVsZSBEZWZpbmUgKEhhbmRsZXIgOiBIYW5kbGVyKSA6XG4gIFMgd2l0aCB0eXBlIGFjdGlvbiA6PSBIYW5kbGVyLkFjdGlvbi50IGFuZCB0eXBlICdhIHQgOj0gJ2EgdCA9IHN0cnVjdFxuICB0eXBlIF8gdCArPSBDIDogSGFuZGxlci5BY3Rpb24udCAtPiB1bml0IHRcblxuICBsZXQga2V5ID0gT2JqLkV4dGVuc2lvbl9jb25zdHJ1Y3Rvci5pZCBbJWV4dGVuc2lvbl9jb25zdHJ1Y3RvciBDXVxuXG4gIGxldCAoKSA9XG4gICAgSGFzaHRibC5hZGRfZXhuIGhhbmRsZXJzIH5rZXkgfmRhdGE6KGZ1biBpbnAgLT5cbiAgICAgIG1hdGNoIGlucCB3aXRoXG4gICAgICB8IFQgKEMgdmFsdWUsIGNhbGxiYWNrKSAtPlxuICAgICAgICBIYW5kbGVyLmhhbmRsZSB2YWx1ZTtcbiAgICAgICAgY2FsbGJhY2sgKClcbiAgICAgIHwgXyAtPiByYWlzZV9zIFslbWVzc2FnZSBcIlVucmVjb2duaXplZCB2YXJpYW50XCJdKVxuICA7O1xuXG4gIGxldCBpbmplY3QgdiA9IEMgdlxuZW5kXG5cbm1vZHVsZSBEZWZpbmUxIChIYW5kbGVyIDogSGFuZGxlcjEpIDpcbiAgUzEgd2l0aCB0eXBlICdhIGFjdGlvbiA6PSAnYSBIYW5kbGVyLkFjdGlvbi50IGFuZCB0eXBlICdhIHQgOj0gJ2EgdCA9IHN0cnVjdFxuICB0eXBlIF8gdCArPSBDIDogJ2EgSGFuZGxlci5BY3Rpb24udCAtPiAnYSB0XG5cbiAgbGV0IGtleSA9IE9iai5FeHRlbnNpb25fY29uc3RydWN0b3IuaWQgWyVleHRlbnNpb25fY29uc3RydWN0b3IgQ11cblxuICBsZXQgKCkgPVxuICAgIEhhc2h0YmwuYWRkX2V4biBoYW5kbGVycyB+a2V5IH5kYXRhOihmdW4gaW5wIC0+XG4gICAgICBtYXRjaCBpbnAgd2l0aFxuICAgICAgfCBUIChDIHZhbHVlLCBjYWxsYmFjaykgLT5cbiAgICAgICAgbGV0IGNhbGxlZCA9IHJlZiBmYWxzZSBpblxuICAgICAgICBsZXQgY2FsbGJhY2sgYSA9XG4gICAgICAgICAgaWYgIWNhbGxlZFxuICAgICAgICAgIHRoZW4gZmFpbHdpdGggXCJvbl9yZXNwb25zZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMhXCJcbiAgICAgICAgICBlbHNlIGNhbGxlZCA6PSB0cnVlO1xuICAgICAgICAgIGNhbGxiYWNrIGFcbiAgICAgICAgaW5cbiAgICAgICAgSGFuZGxlci5oYW5kbGUgdmFsdWUgfm9uX3Jlc3BvbnNlOmNhbGxiYWNrXG4gICAgICB8IF8gLT4gcmFpc2VfcyBbJW1lc3NhZ2UgXCJVbnJlY29nbml6ZWQgdmFyaWFudFwiXSlcbiAgOztcblxuICBsZXQgaW5qZWN0IHYgPSBDIHZcbmVuZFxuXG5sZXQgZ2V0X2tleSB0ID0gT2JqLkV4dGVuc2lvbl9jb25zdHJ1Y3Rvci5pZCAoT2JqLkV4dGVuc2lvbl9jb25zdHJ1Y3Rvci5vZl92YWwgdClcblxubGV0IGhhbmRsZV9yZWdpc3RlcmVkX2V2ZW50IChUICh0LCBjYikpID1cbiAgSGFzaHRibC5maW5kX2V4biBoYW5kbGVycyAoZ2V0X2tleSB0KSAoVCAodCwgY2IpKVxuOztcblxubW9kdWxlIFByaW50X3MgPSBEZWZpbmUgKHN0cnVjdFxuICAgIG1vZHVsZSBBY3Rpb24gPSBTZXhwXG5cbiAgICBsZXQgaGFuZGxlIHMgPSBwcmludF9zIHNcbiAgZW5kKVxuXG5sZXQgcHJpbnRfcyA9IFByaW50X3MuaW5qZWN0XG5cbigqIEVmZmVjdGZ1bCB0aGluZ3MgKilcbnR5cGUgJ2EgdCArPVxuICB8IFJldHVybiA6ICdhIC0+ICdhIHRcbiAgfCBMYXp5IDogJ2EgdCBMYXp5LnQgLT4gJ2EgdFxuICB8IEJpbmQgOlxuICAgICAgeyB0IDogJ2EgdFxuICAgICAgOyBmIDogJ2EgLT4gJ2IgdFxuICAgICAgfVxuICAgICAgLT4gJ2IgdFxuICB8IE1hcCA6XG4gICAgICB7IHQgOiAnYSB0XG4gICAgICA7IGYgOiAnYSAtPiAnYlxuICAgICAgfVxuICAgICAgLT4gJ2IgdFxuICB8IE5ldmVyIDogJ2IgdFxuICB8IEZ1biA6IChjYWxsYmFjazooJ2EgLT4gdW5pdCkgLT4gdW5pdCkgLT4gJ2EgdFxuXG5sZXQgcmV0dXJuIGEgPSBSZXR1cm4gYVxubGV0IGJpbmQgKHR5cGUgYSkgKHQgOiBhIHQpIH5mID0gQmluZCB7IHQ7IGYgfVxubGV0IG1hcCAodHlwZSBhIGIpICh0IDogYSB0KSB+ZiA6IGIgdCA9IE1hcCB7IHQ7IGYgfVxubGV0IG5ldmVyID0gTmV2ZXJcbmxldCBvZl9mdW4gfmYgPSBGdW4gZlxubGV0IGxhenlfIGEgPSBMYXp5IGFcblxuaW5jbHVkZSBDb3JlLk1vbmFkLk1ha2UgKHN0cnVjdFxuICAgIHR5cGUgbm9ucmVjICdhIHQgPSAnYSB0XG5cbiAgICBsZXQgcmV0dXJuID0gcmV0dXJuXG4gICAgbGV0IGJpbmQgPSBiaW5kXG4gICAgbGV0IG1hcCA9IGBDdXN0b20gbWFwXG4gIGVuZClcblxubGV0IHJlYyBldmFsIDogdHlwZSBhLiBhIHQgLT4gY2FsbGJhY2s6KGEgLT4gdW5pdCkgLT4gdW5pdCA9XG4gIGZ1biB0IH5jYWxsYmFjayAtPlxuICBtYXRjaCB0IHdpdGhcbiAgfCBGdW4gZiAtPiBmIH5jYWxsYmFja1xuICB8IElnbm9yZSAtPiBjYWxsYmFjayAoKVxuICB8IFJldHVybiBhIC0+IGNhbGxiYWNrIGFcbiAgfCBMYXp5IChsYXp5IHQpIC0+IGV2YWwgdCB+Y2FsbGJhY2tcbiAgfCBNYW55IGwgLT5cbiAgICBMaXN0Lml0ZXIgbCB+ZjooZXZhbCB+Y2FsbGJhY2s6aWdub3JlKTtcbiAgICBjYWxsYmFjayAoKVxuICB8IEJpbmQgeyB0OyBmIH0gLT4gZXZhbCB0IH5jYWxsYmFjazooZnVuIGEgLT4gZXZhbCAoZiBhKSB+Y2FsbGJhY2spXG4gIHwgTWFwIHsgdDsgZiB9IC0+IGV2YWwgdCB+Y2FsbGJhY2s6KGZ1biBhIC0+IGNhbGxiYWNrIChmIGEpKVxuICB8IE5ldmVyIC0+ICgpXG4gIHwgdCAtPiBoYW5kbGVfcmVnaXN0ZXJlZF9ldmVudCAoVCAodCwgY2FsbGJhY2spKVxuOztcblxubW9kdWxlIEV4cGVydCA9IHN0cnVjdFxuICBsZXQgaGFuZGxlID0gZXZhbCB+Y2FsbGJhY2s6aWdub3JlXG5cbiAgdHlwZSBoaWRlID0gaGlkZGVuID0gVCA6ICgnYSB0ICogKCdhIC0+IHVuaXQpKSAtPiBoaWRlXG5cbiAgbGV0IGhhbmRsZXJzID0gaGFuZGxlcnNcbiAgbGV0IG9mX2Z1biA9IG9mX2Z1blxuZW5kXG5cbm1vZHVsZSBBZHZhbmNlZCA9IHN0cnVjdFxuICBtb2R1bGUgU3luY19mdW5fYXJnID0gc3RydWN0XG4gICAgbW9kdWxlIEFjdGlvbiA9IHN0cnVjdFxuICAgICAgdHlwZSAnciB0ID0gVCA6ICdhICogKCdhIC0+ICdyKSAtPiAnciB0XG4gICAgZW5kXG5cbiAgICBsZXQgaGFuZGxlIChBY3Rpb24uVCAoYSwgZikpIH5vbl9yZXNwb25zZSA9IG9uX3Jlc3BvbnNlIChmIGEpXG4gIGVuZFxuXG4gIG1vZHVsZSBTeW5jX2Z1biA9IERlZmluZTEgKFN5bmNfZnVuX2FyZylcblxuICBsZXQgb2Zfc3luY19mdW4gZiBhID0gU3luY19mdW4uaW5qZWN0IChUIChhLCBmKSlcblxuICBtb2R1bGUgUHJpdmF0ZSA9IHN0cnVjdFxuICAgIG1vZHVsZSBDYWxsYmFjayA9IHN0cnVjdFxuICAgICAgdHlwZSBub25yZWMgKCdhLCAnYikgdCA9XG4gICAgICAgIHsgcmVxdWVzdCA6ICdhXG4gICAgICAgIDsgb25fcmVzcG9uc2UgOiAnYiAtPiB1bml0IHRcbiAgICAgICAgfVxuXG4gICAgICBsZXQgbWFrZSB+cmVxdWVzdCB+b25fcmVzcG9uc2UgPSB7IHJlcXVlc3Q7IG9uX3Jlc3BvbnNlIH1cbiAgICAgIGxldCByZXF1ZXN0IHsgcmVxdWVzdDsgXyB9ID0gcmVxdWVzdFxuICAgICAgbGV0IHJlc3BvbmRfdG8geyBvbl9yZXNwb25zZTsgXyB9IHJlc3BvbnNlID0gb25fcmVzcG9uc2UgcmVzcG9uc2VcbiAgICBlbmRcblxuICAgIGxldCBtYWtlIDogcmVxdWVzdDonYSAtPiBldmFsdWF0b3I6KCgnYSwgJ2IpIENhbGxiYWNrLnQgLT4gdW5pdCB0KSAtPiAnYiB0ID1cbiAgICAgIGZ1biB+cmVxdWVzdCB+ZXZhbHVhdG9yIC0+XG4gICAgICBFeHBlcnQub2ZfZnVuIH5mOihmdW4gfmNhbGxiYWNrIC0+XG4gICAgICAgIGxldCBjYWxsYmFjayA9XG4gICAgICAgICAgQ2FsbGJhY2subWFrZSB+cmVxdWVzdCB+b25fcmVzcG9uc2U6KGZ1biByZXNwb25zZSAtPlxuICAgICAgICAgICAgY2FsbGJhY2sgcmVzcG9uc2U7XG4gICAgICAgICAgICBJZ25vcmUpXG4gICAgICAgIGluXG4gICAgICAgIEV4cGVydC5oYW5kbGUgKGV2YWx1YXRvciBjYWxsYmFjaykpXG4gICAgOztcbiAgZW5kXG5cbiAgbW9kdWxlIEZvcl90ZXN0aW5nID0gc3RydWN0XG4gICAgbW9kdWxlIFN2YXIgPSBzdHJ1Y3RcbiAgICAgIHR5cGUgJ2Egc3RhdGUgPVxuICAgICAgICB8IEVtcHR5IG9mIHsgaGFuZGxlcnMgOiAoJ2EgLT4gdW5pdCkgQmFnLnQgfVxuICAgICAgICB8IEZ1bGwgb2YgJ2FcblxuICAgICAgdHlwZSAnYSB0ID0gJ2Egc3RhdGUgcmVmXG5cbiAgICAgIGxldCBjcmVhdGUgKCkgPSByZWYgKEVtcHR5IHsgaGFuZGxlcnMgPSBCYWcuY3JlYXRlICgpIH0pXG5cbiAgICAgIGxldCB1cG9uIHQgaGFuZGxlciA9XG4gICAgICAgIG1hdGNoICF0IHdpdGhcbiAgICAgICAgfCBFbXB0eSB7IGhhbmRsZXJzIH0gLT4gaWdub3JlIChCYWcuYWRkIGhhbmRsZXJzIGhhbmRsZXIgOiBfIEJhZy5FbHQudClcbiAgICAgICAgfCBGdWxsIHggLT4gaGFuZGxlciB4XG4gICAgICA7O1xuXG4gICAgICBsZXQgZmlsbF9pZl9lbXB0eSB0IHggPVxuICAgICAgICBtYXRjaCAhdCB3aXRoXG4gICAgICAgIHwgRnVsbCBfIC0+ICgpXG4gICAgICAgIHwgRW1wdHkgeyBoYW5kbGVycyB9IC0+XG4gICAgICAgICAgQmFnLml0ZXIgaGFuZGxlcnMgfmY6KGZ1biBoYW5kbGVyIC0+IGhhbmRsZXIgeCk7XG4gICAgICAgICAgdCA6PSBGdWxsIHhcbiAgICAgIDs7XG5cbiAgICAgIGxldCBwZWVrIHQgPVxuICAgICAgICBtYXRjaCAhdCB3aXRoXG4gICAgICAgIHwgRW1wdHkgXyAtPiBOb25lXG4gICAgICAgIHwgRnVsbCB4IC0+IFNvbWUgeFxuICAgICAgOztcbiAgICBlbmRcblxuICAgIG1vZHVsZSBTdmFyX2Z1bl9hcmcgPSBzdHJ1Y3RcbiAgICAgIG1vZHVsZSBBY3Rpb24gPSBzdHJ1Y3RcbiAgICAgICAgdHlwZSAnciB0ID0gVCA6ICdhICogKCdhIC0+ICdyIFN2YXIudCkgLT4gJ3IgdFxuICAgICAgZW5kXG5cbiAgICAgIGxldCBoYW5kbGUgKEFjdGlvbi5UIChhLCBmKSkgfm9uX3Jlc3BvbnNlID0gU3Zhci51cG9uIChmIGEpIG9uX3Jlc3BvbnNlXG4gICAgZW5kXG5cbiAgICBtb2R1bGUgU3Zhcl9mdW4gPSBEZWZpbmUxIChTdmFyX2Z1bl9hcmcpXG5cbiAgICBsZXQgb2Zfc3Zhcl9mdW4gZiBhID0gU3Zhcl9mdW4uaW5qZWN0IChUIChhLCBmKSlcblxuICAgIG1vZHVsZSBRdWVyeV9yZXNwb25zZV90cmFja2VyID0gc3RydWN0XG4gICAgICB0eXBlICgncSwgJ3IpIHJwYyA9XG4gICAgICAgIHsgcXVlcnkgOiAncVxuICAgICAgICA7IHJlc3BvbnNlIDogJ3IgU3Zhci50XG4gICAgICAgIH1cblxuICAgICAgdHlwZSAoJ3EsICdyKSB0ID0gKCdxLCAncikgcnBjIEJhZy50XG5cbiAgICAgIGxldCBjcmVhdGUgKCkgPSBCYWcuY3JlYXRlICgpXG5cbiAgICAgIGxldCBhZGRfcXVlcnkgdCBxdWVyeSA9XG4gICAgICAgIGxldCByZXNwb25zZSA9IFN2YXIuY3JlYXRlICgpIGluXG4gICAgICAgIGlnbm9yZSAoQmFnLmFkZCB0IHsgcXVlcnk7IHJlc3BvbnNlIH0gOiBfIEJhZy5FbHQudCk7XG4gICAgICAgIHJlc3BvbnNlXG4gICAgICA7O1xuXG4gICAgICBsZXQgcXVlcmllc19wZW5kaW5nX3Jlc3BvbnNlIHQgPVxuICAgICAgICBCYWcudG9fbGlzdCB0IHw+IExpc3QubWFwIH5mOihmdW4geyBxdWVyeTsgcmVzcG9uc2UgPSBfIH0gLT4gcXVlcnkpXG4gICAgICA7O1xuXG4gICAgICB0eXBlICdyIG1heWJlX3Jlc3BvbmQgPVxuICAgICAgICB8IE5vX3Jlc3BvbnNlX3lldFxuICAgICAgICB8IFJlc3BvbmQgb2YgJ3JcblxuICAgICAgbGV0IG1heWJlX3Jlc3BvbmQgdCB+ZiA9XG4gICAgICAgIEJhZy5maWx0ZXJfaW5wbGFjZSB0IH5mOihmdW4geyBxdWVyeTsgcmVzcG9uc2UgfSAtPlxuICAgICAgICAgIG1hdGNoIGYgcXVlcnkgd2l0aFxuICAgICAgICAgIHwgTm9fcmVzcG9uc2VfeWV0IC0+IHRydWVcbiAgICAgICAgICB8IFJlc3BvbmQgcmVzcCAtPlxuICAgICAgICAgICAgU3Zhci5maWxsX2lmX2VtcHR5IHJlc3BvbnNlIHJlc3A7XG4gICAgICAgICAgICBmYWxzZSlcbiAgICAgIDs7XG4gICAgZW5kXG5cbiAgICBsZXQgb2ZfcXVlcnlfcmVzcG9uc2VfdHJhY2tlciBxcnQgPSBvZl9zdmFyX2Z1biAoUXVlcnlfcmVzcG9uc2VfdHJhY2tlci5hZGRfcXVlcnkgcXJ0KVxuICBlbmRcbmVuZFxuXG5pbmNsdWRlIEFkdmFuY2VkXG4iXX0=
