// Generated by js_of_ocaml
//# buildInfo:effects=false, kind=cma, use-js-string=true, version=5.8.1+5.8.1

//# unitInfo: Provides: Async_js__
(function
  (globalThis){
   "use strict";
   var runtime = globalThis.jsoo_runtime, Async_js = [0];
   runtime.caml_register_global(0, Async_js, "Async_js__");
   return;
  }
  (globalThis));

//# unitInfo: Provides: Async_js__Debug
//# unitInfo: Requires: Assert_failure, Core, Core__Array, Core__List, Core__Set, Core__Sexp, Core__String, Expect_test_collector, Expect_test_common__File, Expect_test_config, Inline_test_config, Js_of_ocaml__Firebug, Js_of_ocaml__Js, Ppx_bench_lib__Benchmark_accumulator, Ppx_inline_test_lib__Runtime, Ppx_module_timer_runtime, Sexplib0__Sexp_conv, Sexplib0__Sexp_conv_error
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst$1 = "",
    cst_0c01ba057ff4b2be6bc7c9d261 = "0c01ba057ff4b2be6bc7c9d261a1daab",
    cst_Async_js_Debug = "Async_js__Debug",
    cst_async_js = "async_js",
    cst_src_debug_ml$3 = "src/debug.ml",
    caml_js_from_array = runtime.caml_js_from_array,
    caml_js_object = runtime.caml_js_object,
    caml_jsstring_of_string = runtime.caml_jsstring_of_string,
    caml_string_of_jsstring = runtime.caml_string_of_jsstring;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call9(f, a0, a1, a2, a3, a4, a5, a6, a7, a8){
    return (f.l >= 0 ? f.l : f.l = f.length) == 9
            ? f(a0, a1, a2, a3, a4, a5, a6, a7, a8)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4, a5, a6, a7, a8]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    cst$0 = cst$1,
    cst = cst$1,
    Core_Set = global_data.Core__Set,
    Core_List = global_data.Core__List,
    Js_of_ocaml_Js = global_data.Js_of_ocaml__Js,
    Core_String = global_data.Core__String,
    Core_Array = global_data.Core__Array,
    Core = global_data.Core,
    Expect_test_common_File = global_data.Expect_test_common__File,
    Core_Sexp = global_data.Core__Sexp;
   global_data.Assert_failure;
   global_data.Sexplib0__Sexp_conv_error;
   global_data.Sexplib0__Sexp_conv;
   var
    Js_of_ocaml_Firebug = global_data.Js_of_ocaml__Firebug,
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Expect_test_collector = global_data.Expect_test_collector,
    Ppx_inline_test_lib_Runtime = global_data.Ppx_inline_test_lib__Runtime,
    Expect_test_config = global_data.Expect_test_config,
    Inline_test_config = global_data.Inline_test_config;
   caml_call1(Ppx_module_timer_runtime[4], cst_Async_js_Debug);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][1], cst_async_js);
   caml_call1(Expect_test_collector[5][1], cst_src_debug_ml$3);
   caml_call2(Ppx_inline_test_lib_Runtime[2], cst_async_js, cst);
   function is_valid_field_name(seen, name){
    var
     _K_ =
       caml_call2(Core_String[126], name, cst$0)
        ? 0
        : 9
          < runtime.caml_string_get(name, 0) - 48 >>> 0
          ? caml_call2
            (Core_String[11],
             name,
             function(param){
              a:
              {
               if(91 <= param){
                if(97 <= param){
                 if(123 > param) break a;
                }
                else if(95 === param) break a;
               }
               else
                if(58 <= param){
                 if(65 <= param) break a;
                }
                else if(48 <= param) break a;
               return 0;
              }
              return 1;
             })
          : 0,
     _L_ = _K_ ? 1 - caml_call2(Core_Set[10], seen, name) : _K_;
    return _L_;
   }
   function any_of_sexp(param){
    if(0 === param[0]){var s = param[1]; return caml_jsstring_of_string(s);}
    var list$0 = param[1];
    if(list$0){
     var _G_ = list$0[1];
     if(0 === _G_[0]){
      var _H_ = list$0[2];
      if(_H_ && ! _H_[2]){
       var v$0 = _H_[1], name$1 = _G_[1];
       return caml_js_object([0, [0, name$1, any_of_sexp(v$0)]]);
      }
     }
    }
    var seen$2 = Core_String[141][54];
    a:
    {
     b:
     c:
     {
      d:
      {
       e:
       {
        f:
        {
         g:
         {
          h:
          {
           var seen = seen$2, rev_acc = 0, list = list$0;
           for(;;){
            if(! list) break;
            var match = list[1];
            if(0 === match[0]){
             var rest = list[2], name = match[1];
             if(! is_valid_field_name(seen, name)) break c;
             var
              rev_acc$0 = [0, [0, name, 0], rev_acc],
              seen$0 = caml_call2(Core_Set[11], seen, name);
             seen = seen$0;
             rev_acc = rev_acc$0;
             list = rest;
            }
            else{
             var _D_ = match[1];
             if(! _D_) break h;
             var _E_ = _D_[1];
             if(0 !== _E_[0]) break g;
             var _F_ = _D_[2];
             if(! _F_) break f;
             if(_F_[2]) break d;
             var rest$0 = list[2], v = _F_[1], name$0 = _E_[1];
             if(! is_valid_field_name(seen, name$0)) break e;
             var
              rev_acc$1 = [0, [0, name$0, [0, v]], rev_acc],
              seen$1 = caml_call2(Core_Set[11], seen, name$0);
             seen = seen$1;
             rev_acc = rev_acc$1;
             list = rest$0;
            }
           }
           var match$0 = [0, caml_call1(Core_List[34], rev_acc)];
           break a;
          }
          break b;
         }
         break b;
        }
        break b;
       }
       break b;
      }
      break b;
     }
     var match$0 = 0;
    }
    if(! match$0){
     var _J_ = caml_call2(Core_List[72], list$0, any_of_sexp);
     return caml_js_from_array(caml_call1(Core_Array[52], _J_));
    }
    var l = match$0[1];
    if(! l) return caml_js_from_array([0]);
    var
     _I_ =
       caml_call2
        (Core_List[72],
         l,
         function(param){
          var match = param[2], name = param[1];
          if(! match) return [0, name, Js_of_ocaml_Js[1]];
          var v = match[1];
          return [0, name, any_of_sexp(v)];
         });
    return caml_js_object(caml_call1(Core_Array[52], _I_));
   }
   function log_s(sexp){
    var t0 = any_of_sexp(sexp), t1 = Js_of_ocaml_Firebug[1];
    return t1.log(t0);
   }
   function log_s_as_string(sexp){
    var
     t2 = caml_jsstring_of_string(caml_call2(Core_Sexp[81], 0, sexp)),
     t3 = Js_of_ocaml_Firebug[1];
    return t3.log(t2);
   }
   var
    Expect_test_collector$0 =
      caml_call1(Expect_test_collector[2], Expect_test_config),
    _a_ = [0, "some_name"],
    _b_ = [0, "field2"],
    _c_ = [0, "field1"],
    _d_ = [0, "Bar"],
    _e_ = [0, "Foo"],
    cst_src_debug_ml = cst_src_debug_ml$3,
    _f_ = [0, [0, "debug"], [0, "other string"]],
    cst_src_debug_ml$0 = cst_src_debug_ml$3,
    _g_ =
      [0,
       caml_call1(Expect_test_common_File[1][6], cst_src_debug_ml$3),
       68,
       2051,
       2062,
       2073],
    _h_ =
      [0,
       [0,
        [0, cst$1],
        [1, ' "Foo" '],
        [0,
         caml_call1(Expect_test_common_File[1][6], cst_src_debug_ml$3),
         68,
         2051,
         2055,
         2061],
        _g_],
       0],
    _i_ =
      [0,
       caml_call1(Expect_test_common_File[1][6], cst_src_debug_ml$3),
       74,
       2238,
       2249,
       2324],
    _j_ =
      [0,
       [0,
        [0, cst$1],
        [1,
         ' {"Bar":null,"field1":{"some_name":"debug"},"field2":["other string"]} '],
        [0,
         caml_call1(Expect_test_common_File[1][6], cst_src_debug_ml$3),
         74,
         2238,
         2242,
         2248],
        _i_],
       _h_],
    _k_ =
      [0,
       caml_call1(Expect_test_common_File[1][6], cst_src_debug_ml$3),
       50,
       1611,
       1611,
       2325],
    _l_ =
      caml_call1
       (Expect_test_common_File[4][3], cst_0c01ba057ff4b2be6bc7c9d261);
   caml_call9
    (Expect_test_collector$0[3],
     _l_,
     _k_,
     cst_src_debug_ml$3,
     0,
     0,
     _j_,
     0,
     Inline_test_config,
     function(param){
      function sexp_of_t(param){
       if(! param) return _e_;
       var
        field2_043 = param[2],
        field1_041 = param[1],
        arg_044 = caml_call2(Core[454], Core[471], field2_043),
        bnds_040 = [0, [1, [0, _b_, [0, arg_044, 0]]], 0],
        some_name_017 = field1_041[1],
        arg_018 = caml_call1(Core[471], some_name_017),
        bnds_016 = [0, [1, [0, _a_, [0, arg_018, 0]]], 0],
        arg_042 = [1, bnds_016],
        bnds_040$0 = [0, [1, [0, _c_, [0, arg_042, 0]]], bnds_040];
       return [1, [0, _d_, bnds_040$0]];
      }
      function to_string(any){
       var t5 = Js_of_ocaml_Js[38];
       return caml_string_of_jsstring(t5.stringify(any));
      }
      var _z_ = to_string(any_of_sexp(sexp_of_t(0)));
      caml_call1(Core[32], _z_);
      var
       _A_ =
         [0,
          caml_call1(Expect_test_common_File[1][6], cst_src_debug_ml),
          68,
          2051,
          2055,
          2061];
      caml_call1(Expect_test_collector$0[1], _A_);
      var _B_ = to_string(any_of_sexp(sexp_of_t(_f_)));
      caml_call1(Core[32], _B_);
      var
       _C_ =
         [0,
          caml_call1(Expect_test_common_File[1][6], cst_src_debug_ml$0),
          74,
          2238,
          2242,
          2248];
      return caml_call1(Expect_test_collector$0[1], _C_);
     });
   var
    Expect_test_collector$1 =
      caml_call1(Expect_test_collector[2], Expect_test_config),
    cst_A_B_A_C = " ((A B) (A C)) ",
    cst_src_debug_ml$1 = cst_src_debug_ml$3,
    _m_ =
      [0,
       caml_call1(Expect_test_common_File[1][6], cst_src_debug_ml$3),
       83,
       2654,
       2665,
       2692],
    _n_ =
      [0,
       [0,
        [0, cst$1],
        [1, ' [{"A":"B"},{"A":"C"}] '],
        [0,
         caml_call1(Expect_test_common_File[1][6], cst_src_debug_ml$3),
         83,
         2654,
         2658,
         2664],
        _m_],
       0],
    _o_ =
      [0,
       caml_call1(Expect_test_common_File[1][6], cst_src_debug_ml$3),
       77,
       2330,
       2330,
       2693],
    _p_ =
      caml_call1
       (Expect_test_common_File[4][3], cst_0c01ba057ff4b2be6bc7c9d261);
   caml_call9
    (Expect_test_collector$1[3],
     _p_,
     _o_,
     cst_src_debug_ml$3,
     [0, "duplicate keys are displayed correctly"],
     0,
     _n_,
     0,
     Inline_test_config,
     function(param){
      var
       sexp_with_duplicate_keys = caml_call1(Core_Sexp[73], cst_A_B_A_C),
       any = any_of_sexp(sexp_with_duplicate_keys),
       t7 = Js_of_ocaml_Js[38],
       _x_ = caml_string_of_jsstring(t7.stringify(any));
      caml_call1(Core[32], _x_);
      var
       _y_ =
         [0,
          caml_call1(Expect_test_common_File[1][6], cst_src_debug_ml$1),
          83,
          2654,
          2658,
          2664];
      return caml_call1(Expect_test_collector$1[1], _y_);
     });
   var
    Expect_test_collector$2 =
      caml_call1(Expect_test_collector[2], Expect_test_config),
    _q_ = [0, [12, 102, [4, 0, 0, 0, 0]], "f%d"],
    _r_ = [0, [4, 0, 0, 0, 0], "%d"],
    cst_src_debug_ml$2 = cst_src_debug_ml$3,
    _s_ =
      [0,
       caml_call1(Expect_test_common_File[1][6], cst_src_debug_ml$3),
       91,
       2923,
       2934,
       2943],
    _t_ =
      [0,
       [0,
        [0, cst$1],
        [1, " 999 "],
        [0,
         caml_call1(Expect_test_common_File[1][6], cst_src_debug_ml$3),
         91,
         2923,
         2927,
         2933],
        _s_],
       0],
    _u_ =
      [0,
       caml_call1(Expect_test_common_File[1][6], cst_src_debug_ml$3),
       86,
       2698,
       2698,
       2944],
    _v_ =
      caml_call1
       (Expect_test_common_File[4][3], cst_0c01ba057ff4b2be6bc7c9d261);
   caml_call9
    (Expect_test_collector$2[3],
     _v_,
     _u_,
     cst_src_debug_ml$3,
     [0, "no stack overflow"],
     0,
     _t_,
     0,
     Inline_test_config,
     function(param){
      var
       x_049 =
         caml_call2
          (Core_Array[40],
           10000,
           function(i){return [0, caml_call2(Core[257], _q_, i), i];}),
       sexp =
         caml_call2
          (Core[288],
           function(param){
            var
             arg1_046 = param[2],
             arg0_045 = param[1],
             res0_047 = caml_call1(Core[471], arg0_045),
             res1_048 = caml_call1(Core[356], arg1_046);
            return [1, [0, res0_047, [0, res1_048, 0]]];
           },
           x_049),
       t8 = any_of_sexp(sexp);
      caml_call2(Core[250], _r_, t8.f999);
      var
       _w_ =
         [0,
          caml_call1(Expect_test_common_File[1][6], cst_src_debug_ml$2),
          91,
          2923,
          2927,
          2933];
      return caml_call1(Expect_test_collector$2[1], _w_);
     });
   caml_call1(Ppx_inline_test_lib_Runtime[3], cst_async_js);
   caml_call1(Expect_test_collector[5][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Async_js_Debug);
   var Async_js_Debug = [0, log_s, log_s_as_string, any_of_sexp];
   runtime.caml_register_global(89, Async_js_Debug, cst_Async_js_Debug);
   return;
  }
  (globalThis));

//# unitInfo: Provides: Async_js__Rpc
//# unitInfo: Requires: Assert_failure, Async_js__Debug, Async_kernel, Async_kernel__Deferred, Async_kernel__Ivar, Async_kernel__Pipe, Async_rpc_kernel__Pipe_transport, Async_rpc_kernel__Rpc, Async_rpc_kernel__Transport, Core, Core__Error, Core__Info, Core__List, Core__Or_error, Core__String, Expect_test_collector, Inline_test_config, Js_of_ocaml__Dom, Js_of_ocaml__Js, Js_of_ocaml__Typed_array, Js_of_ocaml__Url, Js_of_ocaml__WebSockets, Ppx_bench_lib__Benchmark_accumulator, Ppx_compare_lib, Ppx_inline_test_lib__Runtime, Ppx_module_timer_runtime, Ppx_sexp_conv_lib, Sexplib0__Sexp_conv, Sexplib0__Sexp_conv_error, Stdlib__List, Uri, Uri_sexp
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_Async_js_Rpc$0 = "Async_js__Rpc",
    cst_async_js$0 = "async_js",
    cst_https$1 = "https:",
    cst_src_rpc_ml$0 = "src/rpc.ml",
    caml_jsstring_of_string = runtime.caml_jsstring_of_string,
    caml_maybe_attach_backtrace = runtime.caml_maybe_attach_backtrace,
    caml_wrap_exception = runtime.caml_wrap_exception;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   function caml_call5(f, a0, a1, a2, a3, a4){
    return (f.l >= 0 ? f.l : f.l = f.length) == 5
            ? f(a0, a1, a2, a3, a4)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4]);
   }
   function caml_call7(f, a0, a1, a2, a3, a4, a5, a6){
    return (f.l >= 0 ? f.l : f.l = f.length) == 7
            ? f(a0, a1, a2, a3, a4, a5, a6)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4, a5, a6]);
   }
   function caml_call8(f, a0, a1, a2, a3, a4, a5, a6, a7){
    return (f.l >= 0 ? f.l : f.l = f.length) == 8
            ? f(a0, a1, a2, a3, a4, a5, a6, a7)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4, a5, a6, a7]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    cst$0 = " (",
    cst = "",
    Core_Or_error = global_data.Core__Or_error,
    Async_kernel = global_data.Async_kernel,
    Async_rpc_kernel_Transport = global_data.Async_rpc_kernel__Transport,
    Async_rpc_kernel_Pipe_transpor =
      global_data.Async_rpc_kernel__Pipe_transport,
    Async_rpc_kernel_Rpc = global_data.Async_rpc_kernel__Rpc,
    Core_Info = global_data.Core__Info,
    Sexplib0_Sexp_conv = global_data.Sexplib0__Sexp_conv,
    Async_kernel_Pipe = global_data.Async_kernel__Pipe,
    Js_of_ocaml_Url = global_data.Js_of_ocaml__Url,
    Core_String = global_data.Core__String,
    Core_Error = global_data.Core__Error,
    Core = global_data.Core,
    Js_of_ocaml_Typed_array = global_data.Js_of_ocaml__Typed_array,
    Async_js_Debug = global_data.Async_js__Debug,
    Js_of_ocaml_Js = global_data.Js_of_ocaml__Js,
    Async_kernel_Ivar = global_data.Async_kernel__Ivar,
    Ppx_sexp_conv_lib = global_data.Ppx_sexp_conv_lib,
    Js_of_ocaml_WebSockets = global_data.Js_of_ocaml__WebSockets,
    Js_of_ocaml_Dom = global_data.Js_of_ocaml__Dom,
    Async_kernel_Deferred = global_data.Async_kernel__Deferred,
    Assert_failure = global_data.Assert_failure,
    Core_List = global_data.Core__List;
   global_data.Sexplib0__Sexp_conv_error;
   var
    Stdlib_List = global_data.Stdlib__List,
    Ppx_compare_lib = global_data.Ppx_compare_lib,
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Expect_test_collector = global_data.Expect_test_collector,
    Ppx_inline_test_lib_Runtime = global_data.Ppx_inline_test_lib__Runtime,
    Uri = global_data.Uri,
    Uri_sexp = global_data.Uri_sexp,
    Inline_test_config = global_data.Inline_test_config;
   caml_call1(Ppx_module_timer_runtime[4], cst_Async_js_Rpc$0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][1], cst_async_js$0);
   caml_call1(Expect_test_collector[5][1], cst_src_rpc_ml$0);
   caml_call2(Ppx_inline_test_lib_Runtime[2], cst_async_js$0, cst);
   var
    to_string = Uri[8],
    make = Uri[11],
    sexp_of_t = Uri_sexp[4],
    compare_close_event_code = Core[352],
    sexp_of_close_event_code = Core[356],
    all_of_close_event_code = 0;
   function compare(a_004, b_005){
    if(caml_call2(Ppx_compare_lib[1], a_004, b_005)) return 0;
    a:
    {
     b:
     {
      c:
      {
       d:
       {
        e:
        {
         f:
         {
          g:
          {
           h:
           {
            i:
            {
             j:
             {
              k:
              {
               l:
               {
                m:
                {
                 n:
                 {
                  if(typeof a_004 !== "number"){
                   if(0 === a_004[0]){
                    var a_006 = a_004[1];
                    if(typeof b_005 !== "number"){
                     if(0 !== b_005[0]) return -1;
                     var b_007 = b_005[1];
                     return caml_call2(compare_close_event_code, a_006, b_007);
                    }
                    switch(b_005){
                      case 0:
                       break a;
                      case 1:
                       break b;
                      case 2:
                       break c;
                      case 3:
                       break d;
                      case 4:
                       break e;
                      case 5:
                       break f;
                      case 6:
                       break g;
                      case 7:
                       break h;
                      case 8:
                       break i;
                      case 9:
                       break j;
                      case 10:
                       break k;
                      case 11:
                       break l;
                      case 12:
                       break m;
                      case 13:
                       break n;
                    }
                   }
                   else{
                    var a_008 = a_004[1];
                    if(typeof b_005 !== "number"){
                     if(0 === b_005[0]) return 1;
                     var b_009 = b_005[1];
                     return caml_call2(compare_close_event_code, a_008, b_009);
                    }
                    switch(b_005){
                      case 0:
                       break a;
                      case 1:
                       break b;
                      case 2:
                       break c;
                      case 3:
                       break d;
                      case 4:
                       break e;
                      case 5:
                       break f;
                      case 6:
                       break g;
                      case 7:
                       break h;
                      case 8:
                       break i;
                      case 9:
                       break j;
                      case 10:
                       break k;
                      case 11:
                       break l;
                      case 12:
                       break m;
                      case 13:
                       break n;
                    }
                   }
                   return 1;
                  }
                  switch(a_004){
                    case 0:
                     if(typeof b_005 === "number" && ! b_005) return 0;
                     return -1;
                    case 1:
                     if(typeof b_005 === "number"){
                      if(1 === b_005) return 0;
                      if(! b_005) break a;
                     }
                     return -1;
                    case 2:
                     if(typeof b_005 === "number" && 3 > b_005)
                      switch(b_005){
                        case 2:
                         return 0;
                        case 0:
                         break a;
                        default: break b;
                      }
                     return -1;
                    case 3:
                     if(typeof b_005 === "number")
                      switch(b_005){
                        case 3:
                         return 0;
                        case 0:
                         break a;
                        case 1:
                         break b;
                        case 2:
                         break c;
                      }
                     return -1;
                    case 4:
                     if(typeof b_005 === "number")
                      switch(b_005){
                        case 4:
                         return 0;
                        case 0:
                         break a;
                        case 1:
                         break b;
                        case 2:
                         break c;
                        case 3:
                         break d;
                      }
                     return -1;
                    case 5:
                     if(typeof b_005 === "number")
                      switch(b_005){
                        case 5:
                         return 0;
                        case 0:
                         break a;
                        case 1:
                         break b;
                        case 2:
                         break c;
                        case 3:
                         break d;
                        case 4:
                         break e;
                      }
                     return -1;
                    case 6:
                     if(typeof b_005 === "number")
                      switch(b_005){
                        case 6:
                         return 0;
                        case 0:
                         break a;
                        case 1:
                         break b;
                        case 2:
                         break c;
                        case 3:
                         break d;
                        case 4:
                         break e;
                        case 5:
                         break f;
                      }
                     return -1;
                    case 7:
                     if(typeof b_005 === "number")
                      switch(b_005){
                        case 7:
                         return 0;
                        case 0:
                         break a;
                        case 1:
                         break b;
                        case 2:
                         break c;
                        case 3:
                         break d;
                        case 4:
                         break e;
                        case 5:
                         break f;
                        case 6:
                         break g;
                      }
                     return -1;
                    case 8:
                     if(typeof b_005 === "number")
                      switch(b_005){
                        case 8:
                         return 0;
                        case 0:
                         break a;
                        case 1:
                         break b;
                        case 2:
                         break c;
                        case 3:
                         break d;
                        case 4:
                         break e;
                        case 5:
                         break f;
                        case 6:
                         break g;
                        case 7:
                         break h;
                      }
                     return -1;
                    case 9:
                     if(typeof b_005 === "number")
                      switch(b_005){
                        case 9:
                         return 0;
                        case 0:
                         break a;
                        case 1:
                         break b;
                        case 2:
                         break c;
                        case 3:
                         break d;
                        case 4:
                         break e;
                        case 5:
                         break f;
                        case 6:
                         break g;
                        case 7:
                         break h;
                        case 8:
                         break i;
                      }
                     return -1;
                    case 10:
                     if(typeof b_005 === "number")
                      switch(b_005){
                        case 10:
                         return 0;
                        case 0:
                         break a;
                        case 1:
                         break b;
                        case 2:
                         break c;
                        case 3:
                         break d;
                        case 4:
                         break e;
                        case 5:
                         break f;
                        case 6:
                         break g;
                        case 7:
                         break h;
                        case 8:
                         break i;
                        case 9:
                         break j;
                      }
                     return -1;
                    case 11:
                     if(typeof b_005 === "number")
                      switch(b_005){
                        case 11:
                         return 0;
                        case 0:
                         break a;
                        case 1:
                         break b;
                        case 2:
                         break c;
                        case 3:
                         break d;
                        case 4:
                         break e;
                        case 5:
                         break f;
                        case 6:
                         break g;
                        case 7:
                         break h;
                        case 8:
                         break i;
                        case 9:
                         break j;
                        case 10:
                         break k;
                      }
                     return -1;
                    case 12:
                     if(typeof b_005 === "number")
                      switch(b_005){
                        case 12:
                         return 0;
                        case 0:
                         break a;
                        case 1:
                         break b;
                        case 2:
                         break c;
                        case 3:
                         break d;
                        case 4:
                         break e;
                        case 5:
                         break f;
                        case 6:
                         break g;
                        case 7:
                         break h;
                        case 8:
                         break i;
                        case 9:
                         break j;
                        case 10:
                         break k;
                        case 11:
                         break l;
                      }
                     return -1;
                    case 13:
                     if(typeof b_005 === "number")
                      switch(b_005){
                        case 13:
                         return 0;
                        case 0:
                         break a;
                        case 1:
                         break b;
                        case 2:
                         break c;
                        case 3:
                         break d;
                        case 4:
                         break e;
                        case 5:
                         break f;
                        case 6:
                         break g;
                        case 7:
                         break h;
                        case 8:
                         break i;
                        case 9:
                         break j;
                        case 10:
                         break k;
                        case 11:
                         break l;
                        case 12:
                         break m;
                      }
                     return -1;
                    default:
                     if(typeof b_005 !== "number") return -1;
                     switch(b_005){
                       case 14:
                        return 0;
                       case 0:
                        break a;
                       case 1:
                        break b;
                       case 2:
                        break c;
                       case 3:
                        break d;
                       case 4:
                        break e;
                       case 5:
                        break f;
                       case 6:
                        break g;
                       case 7:
                        break h;
                       case 8:
                        break i;
                       case 9:
                        break j;
                       case 10:
                        break k;
                       case 11:
                        break l;
                       case 12:
                        break m;
                     }
                  }
                 }
                 return 1;
                }
                return 1;
               }
               return 1;
              }
              return 1;
             }
             return 1;
            }
            return 1;
           }
           return 1;
          }
          return 1;
         }
         return 1;
        }
        return 1;
       }
       return 1;
      }
      return 1;
     }
     return 1;
    }
    return 1;
   }
   var
    l = all_of_close_event_code,
    acc = 0,
    _x_ = [0, "uri"],
    _y_ = [0, "description"],
    cst_websocket = "websocket",
    cst_https = cst_https$1,
    cst_wss = "wss",
    cst_ws = "ws",
    cst_https$0 = cst_https$1,
    cst_RPC_connection_closed_by_c = "RPC connection closed by client",
    cst_BUG_onopen_called_but_read =
      "BUG: onopen called but readyState is CONNECTING",
    cst_websocket_send_buffer = "websocket##send_buffer",
    cst_websocket_encountered_unex = "websocket encountered unexpected error",
    _w_ = [0, 0],
    cst_closed = "closed",
    cst_connection_failed = "connection failed",
    cst_WebSocket_s_sexp_Close_cod = "WebSocket %s (%{sexp:Close_code.t})",
    _u_ = [12, 41, 0],
    _v_ = [0, 0],
    cst_WebSocket = "WebSocket ",
    cst_WebSocket_failed_immediate =
      "WebSocket failed immediately (illegal URI?)",
    cst_close_reason_was_too_long_ =
      "close-reason-was-too-long-or-contains-invalid-utf8",
    _t_ = [0, cst_src_rpc_ml$0, 100, 33],
    _c_ = [0, "Normal_closure"],
    _d_ = [0, "Going_away"],
    _e_ = [0, "Protocol_error"],
    _f_ = [0, "Unsupported_data"],
    _g_ = [0, "No_status_Received"],
    _h_ = [0, "Abnormal_closure"],
    _i_ = [0, "Invalid_frame_payload_data"],
    _j_ = [0, "Policy_violation"],
    _k_ = [0, "Message_too_big"],
    _l_ = [0, "Missing_extension"],
    _m_ = [0, "Internal_error"],
    _n_ = [0, "Service_restart"],
    _o_ = [0, "Try_again_later"],
    _p_ = [0, "Bad_gateway"],
    _q_ = [0, "TLS_handshake"],
    _r_ = [0, "Unknown_close_event_code"],
    _s_ = [0, "Invalid_close_event_code"],
    cst_src_rpc_ml = cst_src_rpc_ml$0,
    cst_to_int_of_int_round_trip = "to_int -> of_int round-trip",
    cst_async_js = cst_async_js$0,
    cst_Async_js_Rpc = cst_Async_js_Rpc$0;
   for(;;){
    if(! l) break;
    var
     l$0 = l[2],
     enumerate_011 = l[1],
     acc$0 = [0, [1, enumerate_011], acc];
    l = l$0;
    acc = acc$0;
   }
   var
    l$1 = all_of_close_event_code,
    acc$1 = 0,
    _a_ = caml_call1(Stdlib_List[9], acc);
   for(;;){
    if(! l$1) break;
    var
     l$2 = l$1[2],
     enumerate_010 = l$1[1],
     acc$2 = [0, [0, enumerate_010], acc$1];
    l$1 = l$2;
    acc$1 = acc$2;
   }
   var
    _b_ = caml_call1(Stdlib_List[9], acc$1),
    all =
      [0,
       0,
       [0,
        1,
        [0,
         2,
         [0,
          3,
          [0,
           4,
           [0,
            5,
            [0,
             6,
             [0,
              7,
              [0,
               8,
               [0,
                9,
                [0,
                 10,
                 [0,
                  11,
                  [0,
                   12,
                   [0, 13, [0, 14, caml_call2(Stdlib_List[11], _b_, _a_)]]]]]]]]]]]]]]];
   function of_int(code){
    var switcher = code - 1000 | 0;
    if(15 >= switcher >>> 0)
     switch(switcher){
       case 0:
        return 0;
       case 1:
        return 1;
       case 2:
        return 2;
       case 3:
        return 3;
       case 4: break;
       case 5:
        return 4;
       case 6:
        return 5;
       case 7:
        return 6;
       case 8:
        return 7;
       case 9:
        return 8;
       case 10:
        return 9;
       case 11:
        return 10;
       case 12:
        return 11;
       case 13:
        return 12;
       case 14:
        return 13;
       default: return 14;
     }
    if(caml_call2(Core[88], code, 3000) && caml_call2(Core[89], code, 4999))
     return [0, code];
    return [1, code];
   }
   function to_int(param){
    if(typeof param === "number")
     switch(param){
       case 0:
        return 1000;
       case 1:
        return 1001;
       case 2:
        return 1002;
       case 3:
        return 1003;
       case 4:
        return 1005;
       case 5:
        return 1006;
       case 6:
        return 1007;
       case 7:
        return 1008;
       case 8:
        return 1009;
       case 9:
        return 1010;
       case 10:
        return 1011;
       case 11:
        return 1012;
       case 12:
        return 1013;
       case 13:
        return 1014;
       default: return 1015;
     }
    if(0 === param[0]){var code = param[1]; return code;}
    var code$0 = param[1];
    return code$0;
   }
   caml_call8
    (Ppx_inline_test_lib_Runtime[5],
     Inline_test_config,
     cst_to_int_of_int_round_trip,
     0,
     cst_src_rpc_ml,
     99,
     4,
     134,
     function(param){
      caml_call2
       (Core_List[9],
        all,
        function(x_031){
         var
          x_030 = of_int(to_int(x_031)),
          _X_ = 0 === compare(x_030, x_031) ? 1 : 0;
         if(_X_) return 0;
         throw caml_maybe_attach_backtrace([0, Assert_failure, _t_], 1);
        });
      return 0;
     });
   var normal_closure = 0;
   function client(opt, heartbeat_config, description, implementations, param){
    if(opt)
     var sth = opt[1], uri = sth;
    else{
     var
      scheme =
        caml_call2(Core_String[126], Js_of_ocaml_Url[10][3], cst_https)
         ? cst_wss
         : cst_ws,
      match$0 = Js_of_ocaml_Url[10][2];
     if(match$0)
      var port = match$0[1], port$0 = port;
     else
      var
       port$0 =
         caml_call2(Core_String[126], Js_of_ocaml_Url[10][3], cst_https$0)
          ? Js_of_ocaml_Url[4]
          : Js_of_ocaml_Url[3];
     var
      host = Js_of_ocaml_Url[10][1],
      uri =
        caml_call8(make, [0, scheme], 0, [0, host], [0, port$0], 0, 0, 0, 0);
    }
    var match$1 = [0, [1, [0, _x_, [0, caml_call1(sexp_of_t, uri), 0]]], 0];
    if(description)
     var
      v = description[1],
      _H_ = [0, [1, [0, _y_, [0, caml_call1(Core_Info[6], v), 0]]], match$1];
    else
     var _H_ = match$1;
    var res = [0, caml_call1(Sexplib0_Sexp_conv[7], cst_websocket), _H_];
    if(res[2]) var _I_ = [1, res]; else var h = res[1], _I_ = h;
    var
     description$0 = caml_call1(Core_Info[18], _I_),
     match$2 = caml_call3(Async_kernel_Pipe[7], 0, 0, 0),
     from_server_w = match$2[2],
     from_server_r = match$2[1],
     match$3 = caml_call3(Async_kernel_Pipe[7], 0, 0, 0),
     to_server_w = match$3[2],
     to_server_r = match$3[1];
    a:
    {
     var
      _J_ =
        function(error){
         if(0 !== error[0]) return caml_call1(Async_kernel[19], error);
         var
          transport =
            caml_call3
             (Async_rpc_kernel_Pipe_transpor[2],
              Async_rpc_kernel_Pipe_transpor[1][2],
              from_server_r,
              to_server_w);
         function create(param){
          var implementations = param[2], connection_state = param[1];
          return caml_call7
                  (Async_rpc_kernel_Rpc[5][4],
                   [0, implementations],
                   connection_state,
                   0,
                   heartbeat_config,
                   [0, description$0],
                   0,
                   transport);
         }
         function _T_(param){
          if(0 === param[0]){
           var connection = param[1];
           return caml_call1(Async_kernel[19], [0, connection]);
          }
          var
           exn = param[1],
           _V_ = caml_call1(Async_rpc_kernel_Transport[5], transport);
          return caml_call2
                  (Async_kernel[22][2],
                   _V_,
                   function(param){
                    var _W_ = caml_call2(Core_Or_error[37], 0, exn);
                    return caml_call1(Async_kernel[19], _W_);
                   });
         }
         if(implementations)
          var
           implementations$0 = implementations[1],
           _U_ = create(implementations$0);
         else
          var _U_ = create(caml_call1(Async_rpc_kernel_Rpc[5][3][1], 0));
         return caml_call2(Async_kernel[22][2], _U_, _T_);
        };
     try{
      var
       t4 = caml_jsstring_of_string(caml_call2(to_string, 0, uri)),
       t5 = Js_of_ocaml_WebSockets[1],
       websocket = new t5(t4);
     }
     catch(exn$1){
      var exn = caml_wrap_exception(exn$1);
      if(exn[1] === Js_of_ocaml_Js[57]){
       var
        exn$0 = exn[2],
        _B_ =
          caml_call1
           (Core_Or_error[41], runtime.caml_string_of_jsstring(exn$0.message)),
        _K_ = caml_call1(Async_kernel[19], _B_);
       break a;
      }
      var
       _C_ = caml_call2(Core_Or_error[37], 0, exn),
       _K_ = caml_call1(Async_kernel[19], _C_);
      break a;
     }
     var
      connected_ivar = caml_call1(Async_kernel_Ivar[12], 0),
      cleanup =
        function(reason){
         caml_call2(Async_kernel_Ivar[15], connected_ivar, [1, reason]);
         caml_call1(Async_kernel_Pipe[14], from_server_w);
         caml_call1(Async_kernel_Pipe[15], to_server_r);
         var reason$0 = caml_call1(Core_Error[9], reason);
         function close(reason){
          var
           t2 = caml_jsstring_of_string(reason),
           t1 = to_int(normal_closure);
          return websocket.close(t1, t2);
         }
         try{close(reason$0);}
         catch(_S_){return close(cst_close_reason_was_too_long_);}
         return 0;
        },
      onclose =
        function(close_event){
         var
          what_happened =
            caml_call1(Async_kernel_Ivar[17], connected_ivar)
             ? cst_closed
             : cst_connection_failed,
          _Q_ = of_int(close_event.code),
          reason =
            caml_call3
             (Core[257],
              [0,
               [11,
                cst_WebSocket,
                [2,
                 0,
                 [11,
                  cst$0,
                  [24,
                   _v_,
                   function(param, custom_printf_034){
                    if(typeof custom_printf_034 === "number")
                     switch(custom_printf_034){
                       case 0:
                        var _R_ = _c_; break;
                       case 1:
                        var _R_ = _d_; break;
                       case 2:
                        var _R_ = _e_; break;
                       case 3:
                        var _R_ = _f_; break;
                       case 4:
                        var _R_ = _g_; break;
                       case 5:
                        var _R_ = _h_; break;
                       case 6:
                        var _R_ = _i_; break;
                       case 7:
                        var _R_ = _j_; break;
                       case 8:
                        var _R_ = _k_; break;
                       case 9:
                        var _R_ = _l_; break;
                       case 10:
                        var _R_ = _m_; break;
                       case 11:
                        var _R_ = _n_; break;
                       case 12:
                        var _R_ = _o_; break;
                       case 13:
                        var _R_ = _p_; break;
                       default: var _R_ = _q_;
                     }
                    else if(0 === custom_printf_034[0])
                     var
                      arg0_026 = custom_printf_034[1],
                      res0_027 = caml_call1(sexp_of_close_event_code, arg0_026),
                      _R_ = [1, [0, _r_, [0, res0_027, 0]]];
                    else
                     var
                      arg0_028 = custom_printf_034[1],
                      res0_029 = caml_call1(sexp_of_close_event_code, arg0_028),
                      _R_ = [1, [0, _s_, [0, res0_029, 0]]];
                    return caml_call2(Ppx_sexp_conv_lib[1][13], 0, _R_);
                   },
                   _u_]]]],
               cst_WebSocket_s_sexp_Close_cod],
              what_happened,
              _Q_);
         cleanup(caml_call1(Core_Error[12], reason));
         return Js_of_ocaml_Js[8];
        },
      onmessage =
        function(event){
         var data = caml_call1(Js_of_ocaml_Typed_array[50][3], event.data);
         caml_call2(Async_kernel_Pipe[32], from_server_w, data);
         return Js_of_ocaml_Js[8];
        },
      connected =
        function(param){
         return caml_call2(Async_kernel_Ivar[15], connected_ivar, _w_);
        };
     websocket.binaryType = "arraybuffer";
     var match = websocket.readyState;
     if(1 === match)
      connected(0);
     else if(match)
      cleanup(caml_call1(Core_Error[12], cst_WebSocket_failed_immediate));
     else{
      var
       t11 =
         caml_call1
          (Js_of_ocaml_Dom[10],
           function(param){connected(0); return Js_of_ocaml_Js[8];});
      websocket.onopen = t11;
     }
     var
      t13 =
        caml_call1
         (Js_of_ocaml_Dom[10],
          function(param){
           var
            _P_ =
              caml_call1
               (Sexplib0_Sexp_conv[7], cst_websocket_encountered_unex);
           caml_call1(Async_js_Debug[1], _P_);
           return Js_of_ocaml_Js[8];
          });
     websocket.onerror = t13;
     var t15 = caml_call1(Js_of_ocaml_Dom[10], onmessage);
     websocket.onmessage = t15;
     var t17 = caml_call1(Js_of_ocaml_Dom[10], onclose);
     websocket.onclose = t17;
     var
      connected_deferred = caml_call1(Async_kernel_Ivar[18], connected_ivar),
      _D_ =
        caml_call2
         (Async_kernel[22][2],
          connected_deferred,
          function(param){
           return 0 === param[0]
                   ? caml_call5
                     (Async_kernel_Pipe[51],
                      0,
                      0,
                      0,
                      to_server_r,
                      function(data){
                       var match = websocket.readyState;
                       if(1 === match){
                        var
                         buffer = caml_call1(Js_of_ocaml_Typed_array[50][1], data);
                        try{var _N_ = websocket.send(buffer); return _N_;}
                        catch(exn$0){
                         var
                          exn = caml_wrap_exception(exn$0),
                          _L_ = caml_call2(Core_Error[25], 0, exn),
                          _M_ =
                            caml_call2(Core_Error[20], _L_, cst_websocket_send_buffer);
                         return caml_call1(Core_Error[28], _M_);
                        }
                       }
                       if(match) return 0;
                       var
                        _O_ =
                          caml_call1
                           (Sexplib0_Sexp_conv[7], cst_BUG_onopen_called_but_read);
                       return caml_call1(Core[253], _O_);
                      })
                   : caml_call1(Async_kernel[19], 0);
          });
     caml_call1(Async_kernel[6], _D_);
     var
      _E_ = [0, caml_call1(Async_kernel_Pipe[17], from_server_w), 0],
      _F_ = [0, caml_call1(Async_kernel_Pipe[17], to_server_r), _E_],
      _G_ = caml_call1(Async_kernel_Deferred[24], _F_),
      cleanup_when_a_pipe_is_closed =
        caml_call2
         (Async_kernel[22][3],
          _G_,
          function(param){
           return cleanup
                   (caml_call1(Core_Error[12], cst_RPC_connection_closed_by_c));
          });
     caml_call1(Async_kernel[6], cleanup_when_a_pipe_is_closed);
     var _K_ = connected_deferred;
    }
    return caml_call2(Async_kernel[22][2], _K_, _J_);
   }
   function client_exn
   (uri, heartbeat_config, description, implementations, param){
    var
     _z_ = Core_Or_error[36],
     _A_ = client(uri, heartbeat_config, description, implementations, 0);
    return caml_call2(Async_kernel[21], _A_, _z_);
   }
   var
    Connection = Async_rpc_kernel_Rpc[5],
    sexp_of_t$0 = Connection[1],
    create = Connection[4],
    contains_magic_prefix = Connection[5],
    description = Connection[6],
    add_heartbeat_callback = Connection[7],
    reset_heartbeat_timeout = Connection[8],
    last_seen_alive = Connection[9],
    close = Connection[10],
    close_finished = Connection[11],
    close_reason = Connection[12],
    is_closed = Connection[13],
    bytes_to_write = Connection[14],
    flushed = Connection[15],
    with_close = Connection[16],
    server_with_close = Connection[17];
   caml_call1(Ppx_inline_test_lib_Runtime[3], cst_async_js);
   caml_call1(Expect_test_collector[5][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Async_js_Rpc);
   var
    Async_js_Rpc =
      [0,
       [0,
        sexp_of_t$0,
        create,
        contains_magic_prefix,
        description,
        add_heartbeat_callback,
        reset_heartbeat_timeout,
        last_seen_alive,
        close,
        close_finished,
        close_reason,
        is_closed,
        bytes_to_write,
        flushed,
        with_close,
        server_with_close,
        client,
        client_exn]];
   runtime.caml_register_global(162, Async_js_Rpc, cst_Async_js_Rpc$0);
   return;
  }
  (globalThis));

//# unitInfo: Provides: Async_js__Persistent_connection
//# unitInfo: Requires: Async_rpc_kernel__Persistent_connection, Base__Sexpable, Core, Expect_test_collector, Ppx_bench_lib__Benchmark_accumulator, Ppx_inline_test_lib__Runtime, Ppx_module_timer_runtime, Uri
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_Async_js_Persistent_connec = "Async_js__Persistent_connection",
    cst_async_js = "async_js";
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   function caml_call6(f, a0, a1, a2, a3, a4, a5){
    return (f.l >= 0 ? f.l : f.l = f.length) == 6
            ? f(a0, a1, a2, a3, a4, a5)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4, a5]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    cst = "",
    Core = global_data.Core,
    Uri = global_data.Uri,
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Expect_test_collector = global_data.Expect_test_collector,
    Ppx_inline_test_lib_Runtime = global_data.Ppx_inline_test_lib__Runtime,
    Base_Sexpable = global_data.Base__Sexpable,
    Async_rpc_kernel_Persistent_co =
      global_data.Async_rpc_kernel__Persistent_connection;
   caml_call1(Ppx_module_timer_runtime[4], cst_Async_js_Persistent_connec);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][1], cst_async_js);
   caml_call1(Expect_test_collector[5][1], "src/persistent_connection.ml");
   caml_call2(Ppx_inline_test_lib_Runtime[2], cst_async_js, cst);
   var equal = Uri[3], of_string = Uri[7];
   function to_string(s){return caml_call2(Uri[8], 0, s);}
   var
    include = caml_call1(Base_Sexpable[5], [0, of_string, to_string]),
    sexp_of_t = include[2],
    include$0 = Async_rpc_kernel_Persistent_co[1],
    sexp_of_t$0 = include$0[1],
    Event = include$0[2],
    create = include$0[3],
    connected = include$0[4],
    connected_or_failed_to_connect = include$0[5],
    current_connection = include$0[6],
    server_name = include$0[7],
    close = include$0[8],
    is_closed = include$0[9],
    close_finished = include$0[10],
    close_when_current_connection_ = include$0[11],
    _a_ = Async_rpc_kernel_Persistent_co[1][3],
    _b_ = [0, equal, sexp_of_t];
   function create_from_uri(_k_){
    var _l_ = caml_call1(_a_, _k_);
    return function(_q_, _p_, _o_, _n_, _m_){
     return caml_call6(_l_, _q_, _p_, _o_, _n_, _m_, _b_);};
   }
   var func = Async_rpc_kernel_Persistent_co[1][3];
   function equal$0(a_001, b_002){
    return caml_call3
            (Core[452],
             function(a_003, b_004){return caml_call2(equal, a_003, b_004);},
             a_001,
             b_002);
   }
   function sexp_of_t$1(x_007){
    return caml_call2(Core[454], sexp_of_t, x_007);
   }
   var _c_ = [0, equal$0, sexp_of_t$1];
   function create_from_uri_option(_d_){
    var _e_ = caml_call1(func, _d_);
    return function(_j_, _i_, _h_, _g_, _f_){
     return caml_call6(_e_, _j_, _i_, _h_, _g_, _f_, _c_);};
   }
   var
    Rpc =
      [0,
       sexp_of_t$0,
       Event,
       create,
       connected,
       connected_or_failed_to_connect,
       current_connection,
       server_name,
       close,
       is_closed,
       close_finished,
       close_when_current_connection_,
       create_from_uri,
       create_from_uri_option];
   caml_call1(Ppx_inline_test_lib_Runtime[3], cst_async_js);
   caml_call1(Expect_test_collector[5][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Async_js_Persistent_connec);
   var
    Async_js_Persistent_connection =
      [0, Rpc, Async_rpc_kernel_Persistent_co[2]];
   runtime.caml_register_global
    (15, Async_js_Persistent_connection, cst_Async_js_Persistent_connec);
   return;
  }
  (globalThis));

//# unitInfo: Provides: Async_js__Http
//# unitInfo: Requires: Async_kernel__Deferred_or_error, Async_kernel__Ivar, Base__Or_error, Core, Core__List, Core__Option, Core__Or_error, Core__Result, Core__String, Expect_test_collector, Js_of_ocaml__Dom, Js_of_ocaml__File, Js_of_ocaml__Js, Js_of_ocaml__Url, Js_of_ocaml__XmlHttpRequest, Ppx_bench_lib__Benchmark_accumulator, Ppx_inline_test_lib__Runtime, Ppx_module_timer_runtime, Sexplib0__Sexp_conv
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst$2 = "",
    cst_Async_js_Http = "Async_js__Http",
    cst_async_js = "async_js",
    cst_code = "code",
    cst_status_text = "status_text",
    caml_jsstring_of_string = runtime.caml_jsstring_of_string,
    caml_string_of_jsstring = runtime.caml_string_of_jsstring;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    method_string = "GET",
    cst$0 = "&",
    cst$1 = "?",
    method_string$0 = "POST",
    cst = cst$2,
    Async_kernel_Deferred_or_error =
      global_data.Async_kernel__Deferred_or_error,
    Js_of_ocaml_Js = global_data.Js_of_ocaml__Js,
    Js_of_ocaml_Dom = global_data.Js_of_ocaml__Dom,
    Core_Option = global_data.Core__Option,
    Core = global_data.Core,
    Sexplib0_Sexp_conv = global_data.Sexplib0__Sexp_conv,
    Core_Result = global_data.Core__Result,
    Js_of_ocaml_File = global_data.Js_of_ocaml__File,
    Core_Or_error = global_data.Core__Or_error,
    Base_Or_error = global_data.Base__Or_error,
    Async_kernel_Ivar = global_data.Async_kernel__Ivar,
    Js_of_ocaml_Url = global_data.Js_of_ocaml__Url,
    Js_of_ocaml_XmlHttpRequest = global_data.Js_of_ocaml__XmlHttpRequest,
    Core_List = global_data.Core__List,
    Core_String = global_data.Core__String,
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Expect_test_collector = global_data.Expect_test_collector,
    Ppx_inline_test_lib_Runtime = global_data.Ppx_inline_test_lib__Runtime;
   caml_call1(Ppx_module_timer_runtime[4], cst_Async_js_Http);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][1], cst_async_js);
   caml_call1(Expect_test_collector[5][1], "src/http.ml");
   caml_call2(Ppx_inline_test_lib_Runtime[2], cst_async_js, cst);
   var
    Response_type = [0],
    Response = [0],
    Post_body = [0],
    Method_with_args = [0],
    cst_Network_error = "Network error",
    cst_Timeout = "Timeout",
    _a_ = [0, cst_status_text],
    _b_ = [0, cst_code],
    cst_No_response_returned_despi =
      "No response returned despite successful request",
    _c_ = [0, cst_status_text],
    _d_ = [0, cst_code],
    cst_Request_failed = "Request failed";
   function request(opt, on_progress, on_upload_progress, url, response_type){
    if(opt) var sth = opt[1], headers = sth; else var headers = 0;
    return function(method_with_args){
     if(0 === method_with_args[0])
      var
       args = method_with_args[1],
       _h_ = caml_call1(Js_of_ocaml_Url[6], args),
       _g_ = caml_call2(Core_String[39], url, 63),
       _i_ = caml_call1(Core_Option[57], _g_) ? cst$0 : cst$1,
       _j_ = caml_call2(Core[18], _i_, _h_),
       method_string$1 = method_string,
       url$0 = caml_call2(Core[18], url, _j_);
     else
      var method_string$1 = method_string$0, url$0 = url;
     var
      req = caml_call1(Js_of_ocaml_XmlHttpRequest[1], 0),
      t2 = Js_of_ocaml_Js[7],
      t1 = caml_jsstring_of_string(url$0),
      t0 = caml_jsstring_of_string(method_string$1);
     req.open(t0, t1, t2);
     switch(response_type){
       case 0:
        req.responseType = "arraybuffer"; break;
       case 1:
        req.responseType = "blob"; break;
       case 2:
        req.responseType = "document"; break;
       case 3:
        req.responseType = "json"; break;
       case 4:
        req.responseType = "text"; break;
       default: req.responseType = cst$2;
     }
     caml_call2
      (Core_List[9],
       headers,
       function(param){
        var
         value = param[2],
         name = param[1],
         t17 = caml_jsstring_of_string(value),
         t16 = caml_jsstring_of_string(name);
        return req.setRequestHeader(t16, t17);
       });
     var
      response = caml_call1(Async_kernel_Ivar[12], 0),
      t19 =
        caml_call1
         (Js_of_ocaml_Dom[10],
          function(param){
           var _v_ = caml_call1(Core_Or_error[41], cst_Network_error);
           caml_call2(Async_kernel_Ivar[15], response, _v_);
           return Js_of_ocaml_Js[7];
          });
     req.onerror = t19;
     var
      t21 =
        caml_call1
         (Js_of_ocaml_Dom[10],
          function(param){
           var _u_ = caml_call1(Core_Or_error[41], cst_Timeout);
           caml_call2(Async_kernel_Ivar[15], response, _u_);
           return Js_of_ocaml_Js[7];
          });
     req.ontimeout = t21;
     var
      t38 =
        runtime.caml_js_wrap_callback
         (function(param){
           if(4 > req.readyState) return 0;
           a:
           {
            if
             (caml_call2(Core[88], req.status, 200)
              && caml_call2(Core[92], req.status, 300)){
             var
              get_text_contents_or_error =
                function(param){
                 return caml_call3
                         (Js_of_ocaml_Js[5][7],
                          req.responseText,
                          function(param){
                           var
                            _r_ =
                              [0,
                               [1,
                                [0,
                                 _a_,
                                 [0,
                                  caml_call1
                                   (Core[471], caml_string_of_jsstring(req.statusText)),
                                  0]]],
                               0],
                            _s_ =
                              [0,
                               [1,
                                [0,
                                 [1, [0, _b_, [0, caml_call1(Core[356], req.status), 0]]],
                                 _r_]],
                               0],
                            _t_ =
                              [1,
                               [0,
                                caml_call1
                                 (Sexplib0_Sexp_conv[7], cst_No_response_returned_despi),
                                _s_]];
                           return caml_call1(Core[233], _t_);
                          },
                          Core_Result[20]);
                },
              _k_ =
                function(content){
                 function get_header(s){
                  var
                   t33 = runtime.caml_jsbytes_of_string(s),
                   _q_ = req.getResponseHeader(t33);
                  return caml_call3
                          (Js_of_ocaml_Js[5][7],
                           _q_,
                           function(param){return 0;},
                           function(v){return [0, caml_string_of_jsstring(v)];});
                 }
                 return [0, [0, req.status, get_header, content]];
                };
             switch(response_type){
               case 0:
                var
                 _l_ = [0, caml_call1(Js_of_ocaml_File[3][5], req.response)];
                break;
               case 1:
                var
                 _l_ = [0, caml_call1(Js_of_ocaml_File[3][2], req.response)];
                break;
               case 2:
                var
                 _l_ = [0, caml_call1(Js_of_ocaml_File[3][1], req.response)];
                break;
               case 3:
                var
                 _l_ = [0, caml_call1(Js_of_ocaml_File[3][3], req.response)];
                break;
               case 4:
                var _l_ = get_text_contents_or_error(0); break;
               default:
                var
                 _m_ = get_text_contents_or_error(0),
                 _l_ =
                   caml_call2(Core_Or_error[48], _m_, caml_string_of_jsstring);
             }
             var res = caml_call2(Base_Or_error[25][4][2], _l_, _k_);
             break a;
            }
            var
             _n_ =
               [0,
                [1,
                 [0,
                  _c_,
                  [0,
                   caml_call1
                    (Core[471], caml_string_of_jsstring(req.statusText)),
                   0]]],
                0],
             _o_ =
               [0,
                [1,
                 [0,
                  [1, [0, _d_, [0, caml_call1(Core[356], req.status), 0]]],
                  _n_]],
                0],
             _p_ =
               [1,
                [0,
                 caml_call1(Sexplib0_Sexp_conv[7], cst_Request_failed),
                 _o_]],
             res = caml_call1(Core_Or_error[40], _p_);
           }
           return caml_call2(Async_kernel_Ivar[15], response, res);
          });
     req.onreadystatechange = t38;
     caml_call2
      (Core_Option[41],
       on_progress,
       function(on_progress){
        var
         t42 =
           caml_call1
            (Js_of_ocaml_Dom[10],
             function(t41){
              caml_call2(on_progress, t41.loaded, t41.total);
              return Js_of_ocaml_Js[7];
             });
        return req.onprogress = t42;
       });
     caml_call2
      (Js_of_ocaml_Js[6][6],
       req.upload,
       function(upload){
        return caml_call2
                (Core_Option[41],
                 on_upload_progress,
                 function(on_upload_progress){
                  var
                   t47 =
                     caml_call1
                      (Js_of_ocaml_Dom[10],
                       function(t46){
                        caml_call2(on_upload_progress, t46.loaded, t46.total);
                        return Js_of_ocaml_Js[7];
                       });
                  return upload.onprogress = t47;
                 });
       });
     if(0 === method_with_args[0]){
      var t49 = Js_of_ocaml_Js[1];
      req.send(t49);
     }
     else{
      var body = method_with_args[1];
      if(body){
       var body$0 = body[1];
       switch(body$0[0]){
         case 0:
          var t53 = body$0[1]; req.send(t53); break;
         case 1:
          var t55 = body$0[1]; req.send(t55); break;
         case 2:
          var
           s = body$0[1],
           t57 = caml_call1(Js_of_ocaml_Js[2], caml_jsstring_of_string(s));
          req.send(t57);
          break;
         default: var t59 = body$0[1]; req.send(t59);
       }
      }
      else{var t51 = Js_of_ocaml_Js[1]; req.send(t51);}
     }
     return caml_call1(Async_kernel_Ivar[18], response);};
   }
   function get(opt, url){
    if(opt) var sth = opt[1], arguments$0 = sth; else var arguments$0 = 0;
    var _f_ = request(0, 0, 0, url, 5)([0, arguments$0]);
    return caml_call2
            (Async_kernel_Deferred_or_error[14],
             _f_,
             function(resp){return resp[3];});
   }
   function post(body, url){
    var _e_ = request(0, 0, 0, url, 5)([1, body]);
    return caml_call2
            (Async_kernel_Deferred_or_error[14],
             _e_,
             function(resp){return resp[3];});
   }
   caml_call1(Ppx_inline_test_lib_Runtime[3], cst_async_js);
   caml_call1(Expect_test_collector[5][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Async_js_Http);
   var
    Async_js_Http =
      [0,
       Response_type,
       Post_body,
       Method_with_args,
       Response,
       request,
       get,
       post];
   runtime.caml_register_global(82, Async_js_Http, cst_Async_js_Http);
   return;
  }
  (globalThis));

//# unitInfo: Provides: Async_js__Async_js0
//# unitInfo: Requires: Async_kernel__Clock_ns, Async_kernel__Deferred, Async_kernel__Ivar, Async_kernel__Monitor, Async_kernel__Scheduler, Base__Exn, Core, Core__Float, Core__Option, Core__Stack, Core__Time_ns, Expect_test_collector, Js_of_ocaml__Dom, Js_of_ocaml__Dom_html, Js_of_ocaml__Firebug, Js_of_ocaml__Js, Ppx_bench_lib__Benchmark_accumulator, Ppx_inline_test_lib__Runtime, Ppx_module_timer_runtime
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_Async_js_Async_js0 = "Async_js__Async_js0",
    cst_async_js = "async_js",
    caml_jsstring_of_string = runtime.caml_jsstring_of_string,
    caml_maybe_attach_backtrace = runtime.caml_maybe_attach_backtrace;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call4(f, a0, a1, a2, a3){
    return (f.l >= 0 ? f.l : f.l = f.length) == 4
            ? f(a0, a1, a2, a3)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3]);
   }
   var
    undef = undefined,
    global_data = runtime.caml_get_global_data(),
    cst = "",
    ready_state_change = "readystatechange",
    complete = "complete",
    Js_of_ocaml_Dom_html = global_data.Js_of_ocaml__Dom_html,
    Async_kernel_Ivar = global_data.Async_kernel__Ivar,
    Js_of_ocaml_Js = global_data.Js_of_ocaml__Js,
    Async_kernel_Deferred = global_data.Async_kernel__Deferred,
    Js_of_ocaml_Dom = global_data.Js_of_ocaml__Dom,
    Core = global_data.Core,
    Async_kernel_Scheduler = global_data.Async_kernel__Scheduler,
    Async_kernel_Monitor = global_data.Async_kernel__Monitor,
    Base_Exn = global_data.Base__Exn,
    Js_of_ocaml_Firebug = global_data.Js_of_ocaml__Firebug,
    Core_Time_ns = global_data.Core__Time_ns,
    Core_Float = global_data.Core__Float,
    Core_Option = global_data.Core__Option,
    Core_Stack = global_data.Core__Stack,
    Async_kernel_Clock_ns = global_data.Async_kernel__Clock_ns,
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Expect_test_collector = global_data.Expect_test_collector,
    Ppx_inline_test_lib_Runtime = global_data.Ppx_inline_test_lib__Runtime;
   caml_call1(Ppx_module_timer_runtime[4], cst_Async_js_Async_js0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][1], cst_async_js);
   caml_call1(Expect_test_collector[5][1], "src/async_js0.ml");
   caml_call2(Ppx_inline_test_lib_Runtime[2], cst_async_js, cst);
   function sleep(d){
    var _u_ = caml_call1(Core_Time_ns[1][81], d);
    return caml_call1(Async_kernel_Clock_ns[4], _u_);
   }
   function yield$0(param){
    var _t_ = caml_call1(Async_kernel_Scheduler[2], 0);
    return caml_call1(Async_kernel_Scheduler[67], _t_);
   }
   function extract_js_error(exn){
    var _s_ = caml_call1(Js_of_ocaml_Js[56], exn);
    return caml_call1(Js_of_ocaml_Js[5][10], _s_);
   }
   var state = [0, 0], timeouts = caml_call1(Core_Stack[23], 0);
   function run_after(f, ms){
    caml_call2(Js_of_ocaml_Dom_html[119], f, ms);
    return 0;
   }
   function loop(param){
    var t = caml_call1(Async_kernel_Scheduler[2], 0), match = state[1];
    if(! caml_call1(Async_kernel_Scheduler[20], t) && 1 !== match){
     state[1] = 1;
     caml_call1(Async_kernel_Scheduler[14], t);
     if(caml_call1(Async_kernel_Scheduler[44], t))
      var next_wakeup = 1;
     else{
      var match$0 = caml_call1(Async_kernel_Scheduler[17], t);
      if(match$0)
       var
        next = match$0[1],
        now = caml_call1(Core_Time_ns[65], 0),
        d = caml_call2(Core_Time_ns[72], next, now),
        d_ms$0 = caml_call1(Core_Time_ns[1][90], d),
        _q_ = caml_call2(Core_Float[121], d_ms$0, 0.) ? 1 : [0, next, d_ms$0],
        _r_ = _q_;
      else
       var _r_ = 0;
      var next_wakeup = _r_;
     }
     var _m_ = caml_call1(Async_kernel_Scheduler[21], t);
     caml_call2
      (Core_Option[41],
       _m_,
       function(param){
        var exn = param[1], exn$0 = caml_call1(Async_kernel_Monitor[13], exn);
        if(exn$0[1] === Js_of_ocaml_Js[57]){
         var err = exn$0[2];
         return caml_call1(Js_of_ocaml_Js[54], err);
        }
        var match = extract_js_error(exn$0);
        if(! match) throw caml_maybe_attach_backtrace(exn$0, 0);
        var
         err$0 = match[1],
         t0 = caml_jsstring_of_string(caml_call1(Base_Exn[10], exn$0)),
         t1 = Js_of_ocaml_Firebug[1];
        t1.error(t0);
        return caml_call1(Js_of_ocaml_Js[54], err$0);
       });
     if(typeof next_wakeup === "number")
      return next_wakeup
              ? (state[1] = 2, run_after(loop, 0.))
              : (state[1] = 0, 0);
     var d_ms = next_wakeup[2], at = next_wakeup[1];
     state[1] = 0;
     var _n_ = caml_call1(Core_Stack[7], timeouts);
     if(_n_)
      var _o_ = _n_;
     else
      var
       _p_ = caml_call1(Core_Stack[29], timeouts),
       _o_ = caml_call2(Core_Time_ns[19], at, _p_);
     return _o_
             ? (caml_call2
                (Core_Stack[25], timeouts, at),
               run_after(run_timeout, d_ms))
             : _o_;
    }
    return 0;
   }
   function run_timeout(param){
    caml_call1(Core_Stack[27], timeouts);
    return loop(0);
   }
   function run(param){
    return state[1] ? 0 : (run_after(loop, 0.), state[1] = 2, 0);
   }
   function log(name, exn){
    var exn$0 = caml_call1(Async_kernel_Monitor[13], exn);
    if(exn$0[1] === Js_of_ocaml_Js[57])
     var err = exn$0[2], exn$1 = [0, 16617, err];
    else{
     var match$0 = extract_js_error(exn$0);
     if(match$0)
      var err$2 = match$0[1], _l_ = [0, 566177629, [0, exn$0, err$2]];
     else
      var _l_ = [0, 3458171, exn$0];
     var exn$1 = _l_;
    }
    var _k_ = exn$1[1];
    if(3458171 === _k_){
     var
      exn$2 = exn$1[2],
      t6 = caml_jsstring_of_string(caml_call1(Base_Exn[10], exn$2)),
      t5 = caml_jsstring_of_string(name),
      t7 = Js_of_ocaml_Firebug[1];
     return t7.error(t5, t6);
    }
    if(566177629 <= _k_){
     var
      match = exn$1[2],
      err$0 = match[2],
      exn$3 = match[1],
      t9 = caml_jsstring_of_string(caml_call1(Base_Exn[10], exn$3)),
      t8 = caml_jsstring_of_string(name),
      t11 = Js_of_ocaml_Firebug[1];
     return t11.error(t8, t9, err$0);
    }
    var
     err$1 = exn$1[2],
     t2 = caml_jsstring_of_string(name),
     t4 = Js_of_ocaml_Firebug[1];
    return t4.error(t2, err$1);
   }
   var
    initialized_ref = [0, 0],
    cst_Async_kernel_Monitor_try_w = "Async_kernel: Monitor.try_with",
    cst_Async_kernel_Unhandled_exc = "Async_kernel: Unhandled exception",
    initialization =
      [246,
       function(param){
        var t = caml_call1(Async_kernel_Scheduler[2], 0);
        initialized_ref[1] = 1;
        caml_call2
         (Async_kernel_Scheduler[51], t, function(param){return run(0);});
        caml_call2
         (Async_kernel_Scheduler[52], t, function(param){return run(0);});
        caml_call2(Async_kernel_Scheduler[50], t, run);
        Async_kernel_Monitor[25][1][1] =
         function(_j_){return log(cst_Async_kernel_Monitor_try_w, _j_);};
        caml_call2
         (Async_kernel_Monitor[7],
          Async_kernel_Monitor[24],
          function(_i_){return log(cst_Async_kernel_Unhandled_exc, _i_);});
        return run(0);
       }];
   function init(param){return caml_call1(Core[237], initialization);}
   function initialized(param){return initialized_ref[1];}
   function js_string_compare(s){
    var compare_using_javascript_tripl = Core[246];
    return caml_call1
            (compare_using_javascript_tripl, caml_jsstring_of_string(s));
   }
   var
    readystatechange_ev =
      caml_call1(Js_of_ocaml_Dom[14][1], ready_state_change);
   function add_event(target, evt, handler){
    caml_call4
     (Js_of_ocaml_Dom_html[17], target, evt, handler, Js_of_ocaml_Js[8]);
    return;
   }
   function document_loaded(param){
    var t12 = Js_of_ocaml_Dom_html[2], _a_ = t12.readyState;
    if(caml_call1(js_string_compare(complete), _a_))
     return Async_kernel_Deferred[18];
    var loaded = caml_call1(Async_kernel_Ivar[12], 0);
    function handler(evt){
     var
      _e_ = evt.type,
      _f_ = 1 - caml_call1(js_string_compare(ready_state_change), _e_);
     if(_f_)
      var _g_ = _f_;
     else
      var
       t14 = Js_of_ocaml_Dom_html[2],
       _h_ = t14.readyState,
       _g_ = caml_call1(js_string_compare(complete), _h_);
     if(_g_) caml_call2(Async_kernel_Ivar[15], loaded, 0);
     return Js_of_ocaml_Js[7];
    }
    var _b_ = caml_call1(Js_of_ocaml_Dom[10], handler);
    add_event(Js_of_ocaml_Dom_html[2], Js_of_ocaml_Dom_html[15][56], _b_);
    var _c_ = caml_call1(Js_of_ocaml_Dom[10], handler);
    add_event(Js_of_ocaml_Dom_html[2], readystatechange_ev, _c_);
    var _d_ = caml_call1(Js_of_ocaml_Dom[10], handler);
    add_event(Js_of_ocaml_Dom_html[8], Js_of_ocaml_Dom_html[15][38], _d_);
    return caml_call1(Async_kernel_Ivar[18], loaded);
   }
   caml_call1(Ppx_inline_test_lib_Runtime[3], cst_async_js);
   caml_call1(Expect_test_collector[5][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Async_js_Async_js0);
   var
    Async_js_Async_js0 =
      [0, sleep, yield$0, init, initialized, document_loaded];
   runtime.caml_register_global
    (40, Async_js_Async_js0, cst_Async_js_Async_js0);
   return;
  }
  (globalThis));

//# unitInfo: Provides: Async_js
//# unitInfo: Requires: Async_js__Async_js0, Async_js__Debug, Expect_test_collector, Ppx_bench_lib__Benchmark_accumulator, Ppx_inline_test_lib__Runtime, Ppx_module_timer_runtime
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_Async_js = "Async_js",
    cst_async_js = "async_js";
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    cst = "",
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Expect_test_collector = global_data.Expect_test_collector,
    Ppx_inline_test_lib_Runtime = global_data.Ppx_inline_test_lib__Runtime,
    Async_js_Async_js0 = global_data.Async_js__Async_js0,
    Async_js_Debug = global_data.Async_js__Debug;
   caml_call1(Ppx_module_timer_runtime[4], cst_Async_js);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][1], cst_async_js);
   caml_call1(Expect_test_collector[5][1], "src/async_js.ml");
   caml_call2(Ppx_inline_test_lib_Runtime[2], cst_async_js, cst);
   var
    sleep = Async_js_Async_js0[1],
    yield$0 = Async_js_Async_js0[2],
    init = Async_js_Async_js0[3],
    initialized = Async_js_Async_js0[4],
    document_loaded = Async_js_Async_js0[5],
    log_s = Async_js_Debug[1],
    log_s_as_string = Async_js_Debug[2];
   caml_call1(Ppx_inline_test_lib_Runtime[3], cst_async_js);
   caml_call1(Expect_test_collector[5][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Async_js);
   var
    Async_js =
      [0,
       sleep,
       yield$0,
       init,
       initialized,
       document_loaded,
       log_s,
       log_s_as_string];
   runtime.caml_register_global(13, Async_js, cst_Async_js);
   return;
  }
  (globalThis));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLjAsImZpbGUiOiJhc3luY19qcy5jbWEuanMiLCJzb3VyY2VSb290IjoiIiwibmFtZXMiOlsiaXNfdmFsaWRfZmllbGRfbmFtZSIsInNlZW4iLCJuYW1lIiwiYW55X29mX3NleHAiLCJzIiwibGlzdCQwIiwidiQwIiwibmFtZSQxIiwic2VlbiQyIiwicmV2X2FjYyIsImxpc3QiLCJyZXN0IiwicmV2X2FjYyQwIiwic2VlbiQwIiwicmVzdCQwIiwidiIsIm5hbWUkMCIsInJldl9hY2MkMSIsInNlZW4kMSIsImwiLCJsb2dfcyIsInNleHAiLCJsb2dfc19hc19zdHJpbmciLCJzZXhwX29mX3QiLCJmaWVsZDJfMDQzIiwiZmllbGQxXzA0MSIsImFyZ18wNDQiLCJibmRzXzA0MCIsInNvbWVfbmFtZV8wMTciLCJhcmdfMDE4IiwiYm5kc18wMTYiLCJhcmdfMDQyIiwiYm5kc18wNDAkMCIsInRvX3N0cmluZyIsInNleHBfd2l0aF9kdXBsaWNhdGVfa2V5cyIsInhfMDQ5IiwiaSIsImFyZzFfMDQ2IiwiYXJnMF8wNDUiLCJyZXMwXzA0NyIsInJlczFfMDQ4IiwiY29tcGFyZV9jbG9zZV9ldmVudF9jb2RlIiwic2V4cF9vZl9jbG9zZV9ldmVudF9jb2RlIiwiYWxsX29mX2Nsb3NlX2V2ZW50X2NvZGUiLCJjb21wYXJlIiwiYV8wMDQiLCJiXzAwNSIsImFfMDA2IiwiYl8wMDciLCJhXzAwOCIsImJfMDA5IiwiYWNjIiwibCQwIiwiZW51bWVyYXRlXzAxMSIsImFjYyQwIiwibCQxIiwiYWNjJDEiLCJsJDIiLCJlbnVtZXJhdGVfMDEwIiwiYWNjJDIiLCJhbGwiLCJvZl9pbnQiLCJjb2RlIiwidG9faW50IiwiY29kZSQwIiwieF8wMzEiLCJ4XzAzMCIsIm5vcm1hbF9jbG9zdXJlIiwiY2xpZW50Iiwib3B0IiwiaGVhcnRiZWF0X2NvbmZpZyIsImRlc2NyaXB0aW9uIiwiaW1wbGVtZW50YXRpb25zIiwic3RoIiwidXJpIiwic2NoZW1lIiwicG9ydCIsInBvcnQkMCIsImhvc3QiLCJtYXRjaCQxIiwicmVzIiwiaCIsImRlc2NyaXB0aW9uJDAiLCJmcm9tX3NlcnZlcl93IiwiZnJvbV9zZXJ2ZXJfciIsInRvX3NlcnZlcl93IiwidG9fc2VydmVyX3IiLCJlcnJvciIsInRyYW5zcG9ydCIsImNyZWF0ZSIsImNvbm5lY3Rpb25fc3RhdGUiLCJjb25uZWN0aW9uIiwiZXhuIiwiaW1wbGVtZW50YXRpb25zJDAiLCJleG4kMSIsImNvbm5lY3RlZF9pdmFyIiwiY2xlYW51cCIsInJlYXNvbiIsInJlYXNvbiQwIiwiY2xvc2UiLCJvbmNsb3NlIiwiY2xvc2VfZXZlbnQiLCJ3aGF0X2hhcHBlbmVkIiwiY3VzdG9tX3ByaW50Zl8wMzQiLCJhcmcwXzAyNiIsInJlczBfMDI3IiwiYXJnMF8wMjgiLCJyZXMwXzAyOSIsIm9ubWVzc2FnZSIsImRhdGEiLCJjb25uZWN0ZWQiLCJjb25uZWN0ZWRfZGVmZXJyZWQiLCJleG4kMCIsImNsZWFudXBfd2hlbl9hX3BpcGVfaXNfY2xvc2VkIiwiY2xpZW50X2V4biIsImNyZWF0ZV9mcm9tX3VyaSIsImVxdWFsJDAiLCJhXzAwMSIsImJfMDAyIiwiYV8wMDMiLCJiXzAwNCIsInNleHBfb2ZfdCQxIiwieF8wMDciLCJjcmVhdGVfZnJvbV91cmlfb3B0aW9uIiwibWV0aG9kX3N0cmluZyQwIiwicmVxdWVzdCIsIm9uX3Byb2dyZXNzIiwib25fdXBsb2FkX3Byb2dyZXNzIiwidXJsIiwiaGVhZGVycyIsIm1ldGhvZF93aXRoX2FyZ3MiLCJhcmdzIiwibWV0aG9kX3N0cmluZyQxIiwidXJsJDAiLCJ2YWx1ZSIsInJlc3BvbnNlIiwiZ2V0X3RleHRfY29udGVudHNfb3JfZXJyb3IiLCJjb250ZW50IiwiZ2V0X2hlYWRlciIsImJvZHkiLCJib2R5JDAiLCJnZXQiLCJhcmd1bWVudHMkMCIsInJlc3AiLCJwb3N0IiwicmVhZHlfc3RhdGVfY2hhbmdlIiwiY29tcGxldGUiLCJzbGVlcCIsImQiLCJ5aWVsZCQwIiwiZXh0cmFjdF9qc19lcnJvciIsInN0YXRlIiwidGltZW91dHMiLCJydW5fYWZ0ZXIiLCJmIiwibXMiLCJsb29wIiwidCIsIm5leHRfd2FrZXVwIiwibmV4dCIsIm5vdyIsImRfbXMkMCIsImVyciIsImVyciQwIiwiZF9tcyIsImF0IiwicnVuX3RpbWVvdXQiLCJydW4iLCJsb2ciLCJlcnIkMiIsImV4biQyIiwiZXhuJDMiLCJpbml0aWFsaXplZF9yZWYiLCJpbml0aWFsaXphdGlvbiIsImluaXQiLCJpbml0aWFsaXplZCIsImpzX3N0cmluZ19jb21wYXJlIiwiY29tcGFyZV91c2luZ19qYXZhc2NyaXB0X3RyaXBsIiwicmVhZHlzdGF0ZWNoYW5nZV9ldiIsImFkZF9ldmVudCIsInRhcmdldCIsImV2dCIsImhhbmRsZXIiLCJkb2N1bWVudF9sb2FkZWQiLCJsb2FkZWQiXSwic291cmNlcyI6WyIvVXNlcnMvcnVzc2VsbHJvemVuYmF1bS8ub3BhbS9kaXktaGF6ZWxudXQvbGliL2FzeW5jX2pzL2RlYnVnLm1sIiwiL1VzZXJzL3J1c3NlbGxyb3plbmJhdW0vLm9wYW0vZGl5LWhhemVsbnV0L2xpYi9hc3luY19qcy9ycGMubWwiLCIvVXNlcnMvcnVzc2VsbHJvemVuYmF1bS8ub3BhbS9kaXktaGF6ZWxudXQvbGliL2FzeW5jX2pzL3BlcnNpc3RlbnRfY29ubmVjdGlvbi5tbCIsIi9Vc2Vycy9ydXNzZWxscm96ZW5iYXVtLy5vcGFtL2RpeS1oYXplbG51dC9saWIvYXN5bmNfanMvaHR0cC5tbCIsIi9Vc2Vycy9ydXNzZWxscm96ZW5iYXVtLy5vcGFtL2RpeS1oYXplbG51dC9saWIvYXN5bmNfanMvYXN5bmNfanMwLm1sIiwiL1VzZXJzL3J1c3NlbGxyb3plbmJhdW0vLm9wYW0vZGl5LWhhemVsbnV0L2xpYi9hc3luY19qcy9hc3luY19qcy5tbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0c7Ozs7O0c7Ozs7O0c7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztZQWVJQSxvQkFBcUJDLE1BQUtDO0lBQU87S0FYaEM7T0FBQSw2QkFX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Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUN4SEFuSztJQUNBRTs7Ozs7Ozs7Ozs7OztPQURBRjtPQUNBRTs7O0UiLCJzb3VyY2VzQ29udGVudCI6WyJvcGVuIEpzX29mX29jYW1sXG5vcGVuIENvcmVcblxubGV0IGlzX3ZhbGlkX2lkIHMgPVxuICBpZiBTdHJpbmcuZXF1YWwgcyBcIlwiXG4gIHRoZW4gZmFsc2VcbiAgZWxzZSAoXG4gICAgbWF0Y2ggcy5bMF0gd2l0aFxuICAgIHwgJzAnIC4uICc5JyAtPiBmYWxzZVxuICAgIHwgXyAtPlxuICAgICAgU3RyaW5nLmZvcl9hbGwgcyB+ZjooZnVuY3Rpb25cbiAgICAgICAgfCAnYScgLi4gJ3onIHwgJ0EnIC4uICdaJyB8ICdfJyB8ICcwJyAuLiAnOScgLT4gdHJ1ZVxuICAgICAgICB8IF8gLT4gZmFsc2UpKVxuOztcblxubGV0IGlzX3ZhbGlkX2ZpZWxkX25hbWUgfnNlZW4gbmFtZSA9IGlzX3ZhbGlkX2lkIG5hbWUgJiYgbm90IChTZXQubWVtIHNlZW4gbmFtZSlcblxubGV0IHJlYyBrZXlfdmFsdWVfc2hhcGUgfnNlZW4gfnJldl9hY2MgbGlzdCA9XG4gIG1hdGNoIChsaXN0IDogU2V4cC50IGxpc3QpIHdpdGhcbiAgfCBbXSAtPiBTb21lIChMaXN0LnJldiByZXZfYWNjKVxuICB8IEF0b20gbmFtZSA6OiByZXN0IHdoZW4gaXNfdmFsaWRfZmllbGRfbmFtZSB+c2VlbiBuYW1lIC0+XG4gICAgbGV0IHJldl9hY2MgPSAobmFtZSwgTm9uZSkgOjogcmV2X2FjYyBpblxuICAgIGxldCBzZWVuID0gU2V0LmFkZCBzZWVuIG5hbWUgaW5cbiAgICBrZXlfdmFsdWVfc2hhcGUgfnNlZW4gfnJldl9hY2MgcmVzdFxuICB8IExpc3QgWyBBdG9tIG5hbWU7IHYgXSA6OiByZXN0IHdoZW4gaXNfdmFsaWRfZmllbGRfbmFtZSB+c2VlbiBuYW1lIC0+XG4gICAgbGV0IHJldl9hY2MgPSAobmFtZSwgU29tZSB2KSA6OiByZXZfYWNjIGluXG4gICAgbGV0IHNlZW4gPSBTZXQuYWRkIHNlZW4gbmFtZSBpblxuICAgIGtleV92YWx1ZV9zaGFwZSB+c2VlbiB+cmV2X2FjYyByZXN0XG4gIHwgXyAtPiBOb25lXG47O1xuXG5sZXQgcmVjIGFueV9vZl9zZXhwID0gZnVuY3Rpb25cbiAgfCBTZXhwLkF0b20gcyAtPiBKcy5VbnNhZmUuaW5qZWN0IChKcy5zdHJpbmcgcylcbiAgfCBTZXhwLkxpc3QgWyBBdG9tIG5hbWU7IHYgXSAtPiBKcy5VbnNhZmUub2JqIFt8IG5hbWUsIGFueV9vZl9zZXhwIHYgfF1cbiAgfCBTZXhwLkxpc3QgbCAtPlxuICAgIChtYXRjaCBrZXlfdmFsdWVfc2hhcGUgfnNlZW46U3RyaW5nLlNldC5lbXB0eSB+cmV2X2FjYzpbXSBsIHdpdGhcbiAgICAgfCBOb25lIC0+IExpc3QubWFwIGwgfmY6YW55X29mX3NleHAgfD4gQXJyYXkub2ZfbGlzdCB8PiBKcy5hcnJheSB8PiBKcy5VbnNhZmUuaW5qZWN0XG4gICAgIHwgU29tZSBbXSAtPiBKcy5hcnJheSBbfHxdIHw+IEpzLlVuc2FmZS5pbmplY3RcbiAgICAgfCBTb21lIGwgLT5cbiAgICAgICBKcy5VbnNhZmUub2JqXG4gICAgICAgICAoTGlzdC5tYXAgbCB+ZjooZnVuY3Rpb25cbiAgICAgICAgICAgIHwgbmFtZSwgU29tZSB2IC0+IG5hbWUsIGFueV9vZl9zZXhwIHZcbiAgICAgICAgICAgIHwgbmFtZSwgTm9uZSAtPiBuYW1lLCBKcy5VbnNhZmUuaW5qZWN0IEpzLm51bGwpXG4gICAgICAgICAgfD4gQXJyYXkub2ZfbGlzdCkpXG47O1xuXG5sZXQgbG9nX3Mgc2V4cCA9IEZpcmVidWcuY29uc29sZSMjbG9nIChhbnlfb2Zfc2V4cCBzZXhwKVxubGV0IGxvZ19zX2FzX3N0cmluZyBzZXhwID0gRmlyZWJ1Zy5jb25zb2xlIyNsb2cgKEpzLnN0cmluZyAoU2V4cC50b19zdHJpbmdfaHVtIHNleHApKVxuXG5sZXQlZXhwZWN0X3Rlc3QgXyA9XG4gIGxldCBtb2R1bGUgTSA9IHN0cnVjdFxuICAgIHR5cGUgdSA9IHsgc29tZV9uYW1lIDogc3RyaW5nIH0gW0BAZGVyaXZpbmcgc2V4cF1cblxuICAgIHR5cGUgdCA9XG4gICAgICB8IEZvb1xuICAgICAgfCBCYXIgb2ZcbiAgICAgICAgICB7IGZpZWxkMSA6IHVcbiAgICAgICAgICA7IGZpZWxkMiA6IHN0cmluZyBvcHRpb25cbiAgICAgICAgICB9XG4gICAgW0BAZGVyaXZpbmcgc2V4cF1cbiAgZW5kXG4gIGluXG4gIGxldCB0b19zdHJpbmcgOiBKcy5VbnNhZmUuYW55IC0+IHN0cmluZyA9XG4gICAgZnVuIGFueSAtPiBKcy50b19zdHJpbmcgKEpzLl9KU09OIyNzdHJpbmdpZnkgYW55IDogSnMuanNfc3RyaW5nIEpzLnQpXG4gIGluXG4gIGxldCBvcGVuIE0gaW5cbiAgcHJpbnRfZW5kbGluZSAodG9fc3RyaW5nIChhbnlfb2Zfc2V4cCAoc2V4cF9vZl90IEZvbykpKTtcbiAgWyVleHBlY3Qge3wgXCJGb29cIiB8fV07XG4gIHByaW50X2VuZGxpbmVcbiAgICAodG9fc3RyaW5nXG4gICAgICAgKGFueV9vZl9zZXhwXG4gICAgICAgICAgKHNleHBfb2ZfdFxuICAgICAgICAgICAgIChCYXIgeyBmaWVsZDEgPSB7IHNvbWVfbmFtZSA9IFwiZGVidWdcIiB9OyBmaWVsZDIgPSBTb21lIFwib3RoZXIgc3RyaW5nXCIgfSkpKSk7XG4gIFslZXhwZWN0IHt8IHtcIkJhclwiOm51bGwsXCJmaWVsZDFcIjp7XCJzb21lX25hbWVcIjpcImRlYnVnXCJ9LFwiZmllbGQyXCI6W1wib3RoZXIgc3RyaW5nXCJdfSB8fV1cbjs7XG5cbmxldCVleHBlY3RfdGVzdCBcImR1cGxpY2F0ZSBrZXlzIGFyZSBkaXNwbGF5ZWQgY29ycmVjdGx5XCIgPVxuICBsZXQgdG9fc3RyaW5nIDogSnMuVW5zYWZlLmFueSAtPiBzdHJpbmcgPVxuICAgIGZ1biBhbnkgLT4gSnMudG9fc3RyaW5nIChKcy5fSlNPTiMjc3RyaW5naWZ5IGFueSA6IEpzLmpzX3N0cmluZyBKcy50KVxuICBpblxuICBsZXQgc2V4cF93aXRoX2R1cGxpY2F0ZV9rZXlzID0ge3wgKChBIEIpIChBIEMpKSB8fSB8PiBTZXhwLm9mX3N0cmluZyBpblxuICBwcmludF9lbmRsaW5lICh0b19zdHJpbmcgKGFueV9vZl9zZXhwIHNleHBfd2l0aF9kdXBsaWNhdGVfa2V5cykpO1xuICBbJWV4cGVjdCB7fCBbe1wiQVwiOlwiQlwifSx7XCJBXCI6XCJDXCJ9XSB8fV1cbjs7XG5cbmxldCVleHBlY3RfdGVzdCBcIm5vIHN0YWNrIG92ZXJmbG93XCIgPVxuICBsZXQgYSA9IEFycmF5LmluaXQgMTAwMDAgfmY6KGZ1biBpIC0+IHNwcmludGYgXCJmJWRcIiBpLCBpKSBpblxuICBsZXQgc2V4cCA9IFslc2V4cF9vZjogKHN0cmluZyAqIGludCkgYXJyYXldIGEgaW5cbiAgbGV0IHggPSBhbnlfb2Zfc2V4cCBzZXhwIGluXG4gIHByaW50ZiBcIiVkXCIgKEpzLlVuc2FmZS5jb2VyY2UgeCkjIy5mOTk5O1xuICBbJWV4cGVjdCB7fCA5OTkgfH1dXG47O1xuIiwibW9kdWxlIEFzeW5jX2pzX2RlYnVnID0gRGVidWdcbm9wZW4gQ29yZVxub3BlbiBBc3luY19rZXJuZWxcbm9wZW4gSnNfb2Zfb2NhbWxcblxubW9kdWxlIFVyaSA9IHN0cnVjdFxuICBpbmNsdWRlIFVyaVxuXG4gIGxldCBzZXhwX29mX3QgPSBVcmlfc2V4cC5zZXhwX29mX3RcbmVuZFxuXG5tb2R1bGUgV2Vic29ja2V0X2Nvbm5lY3Rpb24gPSBzdHJ1Y3RcbiAgbW9kdWxlIFQgPSBBc3luY19ycGNfa2VybmVsLlJwYy5Db25uZWN0aW9uXG5cbiAgdHlwZSAoJ3Jlc3QsICdpbXBsZW1lbnRhdGlvbnMpIGNsaWVudF90ID1cbiAgICA/dXJpOlVyaS50XG4gICAgLT4gP2hlYXJ0YmVhdF9jb25maWc6VC5IZWFydGJlYXRfY29uZmlnLnRcbiAgICAtPiA/ZGVzY3JpcHRpb246SW5mby50XG4gICAgLT4gP2ltcGxlbWVudGF0aW9uczonaW1wbGVtZW50YXRpb25zIFQuQ2xpZW50X2ltcGxlbWVudGF0aW9ucy50XG4gICAgLT4gJ3Jlc3RcblxuICBtb2R1bGUgQ2xvc2VfY29kZSA6IHNpZ1xuICAgIHR5cGUgdCBbQEBkZXJpdmluZyBzZXhwXVxuXG4gICAgdmFsIHRvX2ludCA6IHQgLT4gaW50XG4gICAgdmFsIG9mX2V2ZW50IDogXyBXZWJTb2NrZXRzLmNsb3NlRXZlbnQgSnMudCAtPiB0XG4gICAgdmFsIG5vcm1hbF9jbG9zdXJlIDogdFxuICBlbmQgPSBzdHJ1Y3RcbiAgICB0eXBlIGNsb3NlX2V2ZW50X2NvZGUgPSBpbnQgW0BAZGVyaXZpbmcgY29tcGFyZSwgc2V4cF1cblxuICAgIGxldCBhbGxfb2ZfY2xvc2VfZXZlbnRfY29kZSA9IFtdXG5cbiAgICB0eXBlIHQgPVxuICAgICAgfCBOb3JtYWxfY2xvc3VyZVxuICAgICAgfCBHb2luZ19hd2F5XG4gICAgICB8IFByb3RvY29sX2Vycm9yXG4gICAgICB8IFVuc3VwcG9ydGVkX2RhdGFcbiAgICAgIHwgTm9fc3RhdHVzX1JlY2VpdmVkXG4gICAgICB8IEFibm9ybWFsX2Nsb3N1cmVcbiAgICAgIHwgSW52YWxpZF9mcmFtZV9wYXlsb2FkX2RhdGFcbiAgICAgIHwgUG9saWN5X3Zpb2xhdGlvblxuICAgICAgfCBNZXNzYWdlX3Rvb19iaWdcbiAgICAgIHwgTWlzc2luZ19leHRlbnNpb25cbiAgICAgIHwgSW50ZXJuYWxfZXJyb3JcbiAgICAgIHwgU2VydmljZV9yZXN0YXJ0XG4gICAgICB8IFRyeV9hZ2Fpbl9sYXRlclxuICAgICAgfCBCYWRfZ2F0ZXdheVxuICAgICAgfCBUTFNfaGFuZHNoYWtlXG4gICAgICB8IFVua25vd25fY2xvc2VfZXZlbnRfY29kZSBvZiBjbG9zZV9ldmVudF9jb2RlXG4gICAgICB8IEludmFsaWRfY2xvc2VfZXZlbnRfY29kZSBvZiBjbG9zZV9ldmVudF9jb2RlXG4gICAgW0BAZGVyaXZpbmcgY29tcGFyZSwgZW51bWVyYXRlLCBzZXhwXVxuXG4gICAgbGV0IG5vcm1hbF9jbG9zdXJlID0gTm9ybWFsX2Nsb3N1cmVcblxuICAgIGxldCBvZl9pbnQgPSBmdW5jdGlvblxuICAgICAgfCAxMDAwIC0+IE5vcm1hbF9jbG9zdXJlXG4gICAgICB8IDEwMDEgLT4gR29pbmdfYXdheVxuICAgICAgfCAxMDAyIC0+IFByb3RvY29sX2Vycm9yXG4gICAgICB8IDEwMDMgLT4gVW5zdXBwb3J0ZWRfZGF0YVxuICAgICAgfCAxMDA1IC0+IE5vX3N0YXR1c19SZWNlaXZlZFxuICAgICAgfCAxMDA2IC0+IEFibm9ybWFsX2Nsb3N1cmVcbiAgICAgIHwgMTAwNyAtPiBJbnZhbGlkX2ZyYW1lX3BheWxvYWRfZGF0YVxuICAgICAgfCAxMDA4IC0+IFBvbGljeV92aW9sYXRpb25cbiAgICAgIHwgMTAwOSAtPiBNZXNzYWdlX3Rvb19iaWdcbiAgICAgIHwgMTAxMCAtPiBNaXNzaW5nX2V4dGVuc2lvblxuICAgICAgfCAxMDExIC0+IEludGVybmFsX2Vycm9yXG4gICAgICB8IDEwMTIgLT4gU2VydmljZV9yZXN0YXJ0XG4gICAgICB8IDEwMTMgLT4gVHJ5X2FnYWluX2xhdGVyXG4gICAgICB8IDEwMTQgLT4gQmFkX2dhdGV3YXlcbiAgICAgIHwgMTAxNSAtPiBUTFNfaGFuZHNoYWtlXG4gICAgICB8IGNvZGUgLT5cbiAgICAgICAgaWYgY29kZSA+PSAzMDAwICYmIGNvZGUgPD0gNDk5OVxuICAgICAgICB0aGVuIFVua25vd25fY2xvc2VfZXZlbnRfY29kZSBjb2RlXG4gICAgICAgIGVsc2UgSW52YWxpZF9jbG9zZV9ldmVudF9jb2RlIGNvZGVcbiAgICA7O1xuXG4gICAgbGV0IG9mX2V2ZW50IGNsb3NlX2V2ZW50ID0gb2ZfaW50IGNsb3NlX2V2ZW50IyMuY29kZVxuXG4gICAgbGV0IHRvX2ludCA9IGZ1bmN0aW9uXG4gICAgICB8IE5vcm1hbF9jbG9zdXJlIC0+IDEwMDBcbiAgICAgIHwgR29pbmdfYXdheSAtPiAxMDAxXG4gICAgICB8IFByb3RvY29sX2Vycm9yIC0+IDEwMDJcbiAgICAgIHwgVW5zdXBwb3J0ZWRfZGF0YSAtPiAxMDAzXG4gICAgICB8IE5vX3N0YXR1c19SZWNlaXZlZCAtPiAxMDA1XG4gICAgICB8IEFibm9ybWFsX2Nsb3N1cmUgLT4gMTAwNlxuICAgICAgfCBJbnZhbGlkX2ZyYW1lX3BheWxvYWRfZGF0YSAtPiAxMDA3XG4gICAgICB8IFBvbGljeV92aW9sYXRpb24gLT4gMTAwOFxuICAgICAgfCBNZXNzYWdlX3Rvb19iaWcgLT4gMTAwOVxuICAgICAgfCBNaXNzaW5nX2V4dGVuc2lvbiAtPiAxMDEwXG4gICAgICB8IEludGVybmFsX2Vycm9yIC0+IDEwMTFcbiAgICAgIHwgU2VydmljZV9yZXN0YXJ0IC0+IDEwMTJcbiAgICAgIHwgVHJ5X2FnYWluX2xhdGVyIC0+IDEwMTNcbiAgICAgIHwgQmFkX2dhdGV3YXkgLT4gMTAxNFxuICAgICAgfCBUTFNfaGFuZHNoYWtlIC0+IDEwMTVcbiAgICAgIHwgVW5rbm93bl9jbG9zZV9ldmVudF9jb2RlIGNvZGUgLT4gY29kZVxuICAgICAgfCBJbnZhbGlkX2Nsb3NlX2V2ZW50X2NvZGUgY29kZSAtPiBjb2RlXG4gICAgOztcblxuICAgIGxldCV0ZXN0X3VuaXQgXCJ0b19pbnQgLT4gb2ZfaW50IHJvdW5kLXRyaXBcIiA9XG4gICAgICBMaXN0Lml0ZXIgYWxsIH5mOihmdW4gdCAtPiBhc3NlcnQgKFslY29tcGFyZS5lcXVhbDogdF0gKG9mX2ludCAodG9faW50IHQpKSB0KSlcbiAgICA7O1xuICBlbmRcblxuICBsZXQgY2xvc2Vfd2Vic29ja2V0ICh3ZWJzb2NrZXQgOiBXZWJTb2NrZXRzLndlYlNvY2tldCBKcy50KSByZWFzb24gPVxuICAgICgqIFtjbG9zZV93aXRoQ29kZUFuZFJlYXNvbl0gZG9lcyBub3RoaW5nIGlmIHRoZSBjb25uZWN0aW9uIGlzIGFscmVhZHkgQ2xvc2VkLiAqKVxuICAgIGxldCBjbG9zZSByZWFzb24gPVxuICAgICAgKCogVGhlIGNvZGUgbXVzdCBiZSBlaXRoZXIgMTAwMCAoTm9ybWFsX2Nsb3N1cmUpLCBvciBiZXR3ZWVuIDMwMDAgYW5kIDQ5OTlcbiAgICAgICAgIChVbmtub3duX2Nsb3NlX2V2ZW50X2NvZGUpLiAqKVxuICAgICAgd2Vic29ja2V0IyNjbG9zZV93aXRoQ29kZUFuZFJlYXNvblxuICAgICAgICBDbG9zZV9jb2RlLih0b19pbnQgbm9ybWFsX2Nsb3N1cmUpXG4gICAgICAgIChKcy5zdHJpbmcgcmVhc29uKVxuICAgIGluXG4gICAgbWF0Y2ggY2xvc2UgcmVhc29uIHdpdGhcbiAgICB8ICgpIC0+ICgpXG4gICAgfCBleGNlcHRpb24gKF8gOiBFeG4udCkgLT5cbiAgICAgICgqIHRoaXMgY2FuIGZhaWwgaWYgW3JlYXNvbl0gaXMgdG9vIGxvbmcgb3IgY29udGFpbnMgaW52YWxpZCBVVEY4ICopXG4gICAgICBjbG9zZSBcImNsb3NlLXJlYXNvbi13YXMtdG9vLWxvbmctb3ItY29udGFpbnMtaW52YWxpZC11dGY4XCJcbiAgOztcblxuICBsZXQgY29ubmVjdF93ZWJzb2NrZXQgdXJsIH5mcm9tX3NlcnZlciB+dG9fc2VydmVyID1cbiAgICBtYXRjaCBuZXclanMgV2ViU29ja2V0cy53ZWJTb2NrZXQgKEpzLnN0cmluZyAoVXJpLnRvX3N0cmluZyB1cmwpKSB3aXRoXG4gICAgfCBleGNlcHRpb24gSnMuRXJyb3IgZXhuIC0+XG4gICAgICAoKiBlLmcuIFNFQ1VSSVRZX0VSUiwgdGhvdWdoIG5vdGUgdGhhdCBlLmcuIGNvbm5lY3RpbmcgdG8gd3M6Ly8gZnJvbSBhIGh0dHBzOi8vIHBhZ2VcbiAgICAgICAgIGluIGNocm9tZSBzZWVtcyB0byBtYW5pZmVzdCBhcyBzdWNjZXNzZnVsIGNvbnN0cnVjdGlvbiBidXQgaW1tZWRpYXRlIGNsb3N1cmVcbiAgICAgICAgIChzZWUgYmVsb3cpLiAgKilcbiAgICAgIHJldHVybiAoT3JfZXJyb3IuZXJyb3Jfc3RyaW5nIChKcy50b19zdHJpbmcgZXhuIyMubWVzc2FnZSkpXG4gICAgfCBleGNlcHRpb24gZXhuIC0+IHJldHVybiAoT3JfZXJyb3Iub2ZfZXhuIGV4bilcbiAgICB8IHdlYnNvY2tldCAtPlxuICAgICAgbGV0IGNvbm5lY3RlZF9pdmFyID0gSXZhci5jcmVhdGUgKCkgaW5cbiAgICAgIGxldCBjbGVhbnVwIH5yZWFzb24gPVxuICAgICAgICAoKiBJZiB3ZSBoYXZlbid0IGNvbm5lY3RlZCB5ZXQsIHRoZW4gY29ubmVjdGluZyBqdXN0IGZhaWxlZC4gT3RoZXJ3aXNlIGl0IHdhcyB0aGVcbiAgICAgICAgICAgY2xvc3VyZSBvZiBhbiBleGlzdGluZyBjb25uZWN0aW9uLiAqKVxuICAgICAgICBJdmFyLmZpbGxfaWZfZW1wdHkgY29ubmVjdGVkX2l2YXIgKEVycm9yIHJlYXNvbik7XG4gICAgICAgICgqIFtQaXBlLmNsb3NlXSBhbmQgW1dlYlNvY2tldC5jbG9zZV0gYXJlIGFsbCBpZGVtcG90ZW50LiAqKVxuICAgICAgICBQaXBlLmNsb3NlIGZyb21fc2VydmVyO1xuICAgICAgICBQaXBlLmNsb3NlX3JlYWQgdG9fc2VydmVyO1xuICAgICAgICBjbG9zZV93ZWJzb2NrZXQgd2Vic29ja2V0IChFcnJvci50b19zdHJpbmdfaHVtIHJlYXNvbilcbiAgICAgIGluXG4gICAgICBsZXQgb25jbG9zZSAoY2xvc2VfZXZlbnQgOiBfIFdlYlNvY2tldHMuY2xvc2VFdmVudCBKcy50KSA9XG4gICAgICAgICgqIFRoZSBSUEMgQVBJIGRvZXNuJ3QgZ2l2ZSB1cyBhIGdvb2QgcGxhY2UgdG8gcHV0IGRldGFpbHMgYWJvdXQgX3doeV8gdGhlXG4gICAgICAgICAgIGNvbm5lY3Rpb24gY2xvc2VkLlxuXG4gICAgICAgICAgIE5vdGUgdGhhdCBpbiBDaHJvbWUgW2Nsb3NlX2V2ZW50IyMucmVhc29uXSBpcyB0eXBpY2FsbHkgZW1wdHkgYW5kXG4gICAgICAgICAgIFtjbG9zZV9ldmVudCMjLmNvZGVdIGRvZXNuJ3QgYWN0dWFsbHkgcHJvdmlkZSB0aGF0IG11Y2ggaW5zaWdodCBpbnRvIHdoeSB0aGVcbiAgICAgICAgICAgY29ubmVjdGlvbiBmYWlsZWQgKGl0J3MgYXZhaWxhYmxlIGluIHRoZSBpbnNwZWN0b3IgY29uc29sZSwgYnV0IGFzIGZhciBhcyBJIGNhblxuICAgICAgICAgICB0ZWxsLCBub3QgYXZhaWxhYmxlIHRvIHVzKS4gU28gaXQncyBub3QgbGlrZSB3ZSdyZSBsb3NpbmcgbXVjaCBhbnl3YXkuICopXG4gICAgICAgIGxldCByZWFzb24gPVxuICAgICAgICAgIGxldCB3aGF0X2hhcHBlbmVkID1cbiAgICAgICAgICAgIG1hdGNoIEl2YXIuaXNfZnVsbCBjb25uZWN0ZWRfaXZhciB3aXRoXG4gICAgICAgICAgICB8IGZhbHNlIC0+IFwiY29ubmVjdGlvbiBmYWlsZWRcIlxuICAgICAgICAgICAgfCB0cnVlIC0+IFwiY2xvc2VkXCJcbiAgICAgICAgICBpblxuICAgICAgICAgIHNwcmludGZcbiAgICAgICAgICAgICFcIldlYlNvY2tldCAlcyAoJXtzZXhwOkNsb3NlX2NvZGUudH0pXCJcbiAgICAgICAgICAgIHdoYXRfaGFwcGVuZWRcbiAgICAgICAgICAgIChDbG9zZV9jb2RlLm9mX2V2ZW50IGNsb3NlX2V2ZW50KVxuICAgICAgICBpblxuICAgICAgICBjbGVhbnVwIH5yZWFzb246KEVycm9yLm9mX3N0cmluZyByZWFzb24pO1xuICAgICAgICBKcy5fZmFsc2VcbiAgICAgIGluXG4gICAgICBsZXQgb25tZXNzYWdlIChldmVudCA6IF8gV2ViU29ja2V0cy5tZXNzYWdlRXZlbnQgSnMudCkgPVxuICAgICAgICBsZXQgZGF0YSA9IFR5cGVkX2FycmF5LkJpZ3N0cmluZy5vZl9hcnJheUJ1ZmZlciBldmVudCMjLmRhdGFfYnVmZmVyIGluXG4gICAgICAgIFBpcGUud3JpdGVfd2l0aG91dF9wdXNoYmFja19pZl9vcGVuIGZyb21fc2VydmVyIGRhdGE7XG4gICAgICAgIEpzLl9mYWxzZVxuICAgICAgaW5cbiAgICAgIGxldCBjb25uZWN0ZWQgKCkgPSBJdmFyLmZpbGxfaWZfZW1wdHkgY29ubmVjdGVkX2l2YXIgKE9rICgpKSBpblxuICAgICAgd2Vic29ja2V0IyMuYmluYXJ5VHlwZSA6PSBKcy5zdHJpbmcgXCJhcnJheWJ1ZmZlclwiO1xuICAgICAgKCogaWYgdGhlIHdlYnNvY2tldCBpcyBhbHJlYWR5IGNsb3NlZCwgW29uY2xvc2VdIHdvbid0IGJlIHJlLWZpcmVkIHdoZW4gd2UgYWRkIG91clxuICAgICAgICAgaGFuZGxlci4gKilcbiAgICAgIChtYXRjaCB3ZWJzb2NrZXQjIy5yZWFkeVN0YXRlIHdpdGhcbiAgICAgICB8IENPTk5FQ1RJTkcgLT5cbiAgICAgICAgIHdlYnNvY2tldCMjLm9ub3BlblxuICAgICAgICAgOj0gRG9tLmhhbmRsZXIgKGZ1biAoXyA6IF8gRG9tLmV2ZW50IEpzLnQpIC0+XG4gICAgICAgICAgIGNvbm5lY3RlZCAoKTtcbiAgICAgICAgICAgSnMuX2ZhbHNlKVxuICAgICAgIHwgT1BFTiAtPiBjb25uZWN0ZWQgKClcbiAgICAgICB8IENMT1NJTkcgfCBDTE9TRUQgLT5cbiAgICAgICAgICgqIGUuZy4sIFJlZnVzZWQgdG8gY29ubmVjdCB0byB3czogYmVjYXVzZSBpdCB2aW9sYXRlcyBDb250ZW50IFNlY3VyaXR5IFBvbGljeSAqKVxuICAgICAgICAgY2xlYW51cCB+cmVhc29uOihFcnJvci5vZl9zdHJpbmcgXCJXZWJTb2NrZXQgZmFpbGVkIGltbWVkaWF0ZWx5IChpbGxlZ2FsIFVSST8pXCIpKTtcbiAgICAgICgqIFVwb24gYW4gZXJyb3IsIFtvbmVycm9yXSBmaXJlcyBhbmQgdGhlbiBbb25jbG9zZV0gZmlyZXMgKGl0J3MgcG9zc2libGUgZm9yIGFcbiAgICAgICAgIGdyYWNlZnVsIGNsb3N1cmUgdG8gY2FsbCBbb25jbG9zZV0gb25seSkuIFNpbmNlIEFzeW5jX1JQQyBoYXMgbm8gbm90aW9uIG9mXG4gICAgICAgICBncmFjZWZ1bCBjbG9zdXJlLCB3ZSBvbmx5IG5lZWQgdG8gaGFuZGxlIFtvbmNsb3NlXSBhbnl3YXkuIEZ1cnRoZXIsIHRoZSBldmVudFxuICAgICAgICAgcGFzc2VkIHRvIFtvbmVycm9yXSBjb250YWlucyBubyBleHRyYSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZXJyb3IuICBOb3RlIHRoYXQgd2VcbiAgICAgICAgIHN0aWxsIGxpc3RlbiB0byBbb25lcnJvcl0gdG8gcHJldmVudCB0aGUgZXJyb3IgZnJvbSBsZWFraW5nIHRvIHVuY29udHJvbGxlZFxuICAgICAgICAgY29udGV4dCAqKVxuICAgICAgd2Vic29ja2V0IyMub25lcnJvclxuICAgICAgOj0gRG9tLmhhbmRsZXIgKGZ1biAoXyA6IF8gRG9tLmV2ZW50IEpzLnQpIC0+XG4gICAgICAgIEFzeW5jX2pzX2RlYnVnLmxvZ19zIFslbWVzc2FnZSBcIndlYnNvY2tldCBlbmNvdW50ZXJlZCB1bmV4cGVjdGVkIGVycm9yXCJdO1xuICAgICAgICBKcy5fZmFsc2UpO1xuICAgICAgd2Vic29ja2V0IyMub25tZXNzYWdlIDo9IERvbS5oYW5kbGVyIG9ubWVzc2FnZTtcbiAgICAgIHdlYnNvY2tldCMjLm9uY2xvc2UgOj0gRG9tLmhhbmRsZXIgb25jbG9zZTtcbiAgICAgIGxldCBjb25uZWN0ZWRfZGVmZXJyZWQgPSBJdmFyLnJlYWQgY29ubmVjdGVkX2l2YXIgaW5cbiAgICAgIGRvbid0X3dhaXRfZm9yXG4gICAgICAgIChtYXRjaCViaW5kIGNvbm5lY3RlZF9kZWZlcnJlZCB3aXRoXG4gICAgICAgICB8IEVycm9yIChfIDogRXJyb3IudCkgLT4gcmV0dXJuICgpXG4gICAgICAgICB8IE9rICgpIC0+XG4gICAgICAgICAgIFBpcGUuaXRlcl93aXRob3V0X3B1c2hiYWNrIHRvX3NlcnZlciB+ZjooZnVuIGRhdGEgLT5cbiAgICAgICAgICAgICBtYXRjaCAod2Vic29ja2V0IyMucmVhZHlTdGF0ZSA6IFdlYlNvY2tldHMucmVhZHlTdGF0ZSkgd2l0aFxuICAgICAgICAgICAgIHwgQ09OTkVDVElORyAtPlxuICAgICAgICAgICAgICAgcmFpc2VfcyBbJW1lc3NhZ2UgXCJCVUc6IG9ub3BlbiBjYWxsZWQgYnV0IHJlYWR5U3RhdGUgaXMgQ09OTkVDVElOR1wiXVxuICAgICAgICAgICAgIHwgQ0xPU0lORyB8IENMT1NFRCAtPiAoKVxuICAgICAgICAgICAgIHwgT1BFTiAtPlxuICAgICAgICAgICAgICAgbGV0IGJ1ZmZlciA9IFR5cGVkX2FycmF5LkJpZ3N0cmluZy50b19hcnJheUJ1ZmZlciBkYXRhIGluXG4gICAgICAgICAgICAgICAodHJ5IHdlYnNvY2tldCMjc2VuZF9idWZmZXIgYnVmZmVyIHdpdGhcbiAgICAgICAgICAgICAgICB8IGV4biAtPlxuICAgICAgICAgICAgICAgICAgRXJyb3IucmFpc2UgKEVycm9yLnRhZyB+dGFnOlwid2Vic29ja2V0IyNzZW5kX2J1ZmZlclwiIChFcnJvci5vZl9leG4gZXhuKSkpKSk7XG4gICAgICBsZXQgY2xlYW51cF93aGVuX2FfcGlwZV9pc19jbG9zZWQgPVxuICAgICAgICBsZXQlbWFwICgpID1cbiAgICAgICAgICBEZWZlcnJlZC5hbnlfdW5pdCBbIFBpcGUuY2xvc2VkIHRvX3NlcnZlcjsgUGlwZS5jbG9zZWQgZnJvbV9zZXJ2ZXIgXVxuICAgICAgICBpblxuICAgICAgICBjbGVhbnVwIH5yZWFzb246KEVycm9yLm9mX3N0cmluZyBcIlJQQyBjb25uZWN0aW9uIGNsb3NlZCBieSBjbGllbnRcIilcbiAgICAgIGluXG4gICAgICBkb24ndF93YWl0X2ZvciBjbGVhbnVwX3doZW5fYV9waXBlX2lzX2Nsb3NlZDtcbiAgICAgIGNvbm5lY3RlZF9kZWZlcnJlZFxuICA7O1xuXG4gIGxldCBkZWZhdWx0X3VyaSAoKSA9XG4gICAgbGV0IHNjaGVtZSA9IGlmIFN0cmluZy5lcXVhbCBVcmwuQ3VycmVudC5wcm90b2NvbCBcImh0dHBzOlwiIHRoZW4gXCJ3c3NcIiBlbHNlIFwid3NcIiBpblxuICAgIGxldCBwb3J0ID1cbiAgICAgIG1hdGNoIFVybC5DdXJyZW50LnBvcnQgd2l0aFxuICAgICAgfCBTb21lIHBvcnQgLT4gcG9ydFxuICAgICAgfCBOb25lIC0+XG4gICAgICAgIGlmIFN0cmluZy5lcXVhbCBVcmwuQ3VycmVudC5wcm90b2NvbCBcImh0dHBzOlwiXG4gICAgICAgIHRoZW4gVXJsLmRlZmF1bHRfaHR0cHNfcG9ydFxuICAgICAgICBlbHNlIFVybC5kZWZhdWx0X2h0dHBfcG9ydFxuICAgIGluXG4gICAgbGV0IGhvc3QgPSBVcmwuQ3VycmVudC5ob3N0IGluXG4gICAgVXJpLm1ha2UgfnNjaGVtZSB+aG9zdCB+cG9ydCAoKVxuICA7O1xuXG4gIGxldCBjbGllbnQgPyh1cmkgPSBkZWZhdWx0X3VyaSAoKSkgP2hlYXJ0YmVhdF9jb25maWcgP2Rlc2NyaXB0aW9uID9pbXBsZW1lbnRhdGlvbnMgKCkgPVxuICAgIGxldCBkZXNjcmlwdGlvbiA9XG4gICAgICBJbmZvLmNyZWF0ZV9zXG4gICAgICAgIFslbWVzc2FnZSBcIndlYnNvY2tldFwiIChkZXNjcmlwdGlvbiA6IChJbmZvLnQgb3B0aW9uW0BzZXhwLm9wdGlvbl0pKSAodXJpIDogVXJpLnQpXVxuICAgIGluXG4gICAgbGV0IG1ha2VfY29ubmVjdGlvbiB0cmFuc3BvcnQgPVxuICAgICAgbGV0IGNyZWF0ZSB7IFQuQ2xpZW50X2ltcGxlbWVudGF0aW9ucy5jb25uZWN0aW9uX3N0YXRlOyBpbXBsZW1lbnRhdGlvbnMgfSA9XG4gICAgICAgIFQuY3JlYXRlXG4gICAgICAgICAgdHJhbnNwb3J0XG4gICAgICAgICAgP2hlYXJ0YmVhdF9jb25maWdcbiAgICAgICAgICB+ZGVzY3JpcHRpb25cbiAgICAgICAgICB+aW1wbGVtZW50YXRpb25zXG4gICAgICAgICAgfmNvbm5lY3Rpb25fc3RhdGVcbiAgICAgIGluXG4gICAgICBtYXRjaCBpbXBsZW1lbnRhdGlvbnMgd2l0aFxuICAgICAgfCBOb25lIC0+IGNyZWF0ZSAoVC5DbGllbnRfaW1wbGVtZW50YXRpb25zLm51bGwgKCkpXG4gICAgICB8IFNvbWUgaW1wbGVtZW50YXRpb25zIC0+IGNyZWF0ZSBpbXBsZW1lbnRhdGlvbnNcbiAgICBpblxuICAgIGxldCBmcm9tX3NlcnZlcl9yLCBmcm9tX3NlcnZlcl93ID0gUGlwZS5jcmVhdGUgKCkgaW5cbiAgICBsZXQgdG9fc2VydmVyX3IsIHRvX3NlcnZlcl93ID0gUGlwZS5jcmVhdGUgKCkgaW5cbiAgICBtYXRjaCViaW5kXG4gICAgICBjb25uZWN0X3dlYnNvY2tldCB1cmkgfmZyb21fc2VydmVyOmZyb21fc2VydmVyX3cgfnRvX3NlcnZlcjp0b19zZXJ2ZXJfclxuICAgIHdpdGhcbiAgICB8IEVycm9yIF8gYXMgZXJyb3IgLT4gcmV0dXJuIGVycm9yXG4gICAgfCBPayAoKSAtPlxuICAgICAgbGV0IHRyYW5zcG9ydCA9XG4gICAgICAgIEFzeW5jX3JwY19rZXJuZWwuUGlwZV90cmFuc3BvcnQuY3JlYXRlXG4gICAgICAgICAgQXN5bmNfcnBjX2tlcm5lbC5QaXBlX3RyYW5zcG9ydC5LaW5kLmJpZ3N0cmluZ1xuICAgICAgICAgIGZyb21fc2VydmVyX3JcbiAgICAgICAgICB0b19zZXJ2ZXJfd1xuICAgICAgaW5cbiAgICAgIChtYXRjaCViaW5kIG1ha2VfY29ubmVjdGlvbiB0cmFuc3BvcnQgd2l0aFxuICAgICAgIHwgT2sgY29ubmVjdGlvbiAtPiByZXR1cm4gKE9rIGNvbm5lY3Rpb24pXG4gICAgICAgfCBFcnJvciBleG4gLT5cbiAgICAgICAgIGxldCViaW5kICgpID0gQXN5bmNfcnBjX2tlcm5lbC5ScGMuVHJhbnNwb3J0LmNsb3NlIHRyYW5zcG9ydCBpblxuICAgICAgICAgcmV0dXJuIChPcl9lcnJvci5vZl9leG4gZXhuKSlcbiAgOztcblxuICBsZXQgY2xpZW50X2V4biA/dXJpID9oZWFydGJlYXRfY29uZmlnID9kZXNjcmlwdGlvbiA/aW1wbGVtZW50YXRpb25zICgpID1cbiAgICBjbGllbnQgP3VyaSA/aGVhcnRiZWF0X2NvbmZpZyA/ZGVzY3JpcHRpb24gP2ltcGxlbWVudGF0aW9ucyAoKSA+PnwgT3JfZXJyb3Iub2tfZXhuXG4gIDs7XG5lbmRcblxuaW5jbHVkZSBBc3luY19ycGNfa2VybmVsLlJwY1xuXG5tb2R1bGUgQ29ubmVjdGlvbiA9IHN0cnVjdFxuICBpbmNsdWRlIENvbm5lY3Rpb25cbiAgaW5jbHVkZSBXZWJzb2NrZXRfY29ubmVjdGlvblxuZW5kXG4iLCJvcGVuISBDb3JlXG5vcGVuISBBc3luY19ycGNfa2VybmVsXG5cbm1vZHVsZSBVcmkgPSBzdHJ1Y3RcbiAgbW9kdWxlIFQgPSBzdHJ1Y3RcbiAgICBpbmNsdWRlIFVyaVxuXG4gICAgbGV0IHRvX3N0cmluZyBzID0gVXJpLnRvX3N0cmluZyBzXG4gIGVuZFxuXG4gIGluY2x1ZGUgVFxuICBpbmNsdWRlIFNleHBhYmxlLk9mX3N0cmluZ2FibGUgKFQpXG5lbmRcblxubW9kdWxlIFJwYyA9IHN0cnVjdFxuICBpbmNsdWRlIFBlcnNpc3RlbnRfY29ubmVjdGlvbi5ScGNcblxuICBsZXQgY3JlYXRlX2Zyb21fdXJpID0gUGVyc2lzdGVudF9jb25uZWN0aW9uLlJwYy5jcmVhdGUgfmFkZHJlc3M6KG1vZHVsZSBVcmkpXG5cbiAgbGV0IGNyZWF0ZV9mcm9tX3VyaV9vcHRpb24gPVxuICAgIFBlcnNpc3RlbnRfY29ubmVjdGlvbi5ScGMuY3JlYXRlXG4gICAgICB+YWRkcmVzczpcbiAgICAgICAgKG1vZHVsZSBzdHJ1Y3RcbiAgICAgICAgICB0eXBlIHQgPSBVcmkudCBvcHRpb24gW0BAZGVyaXZpbmcgZXF1YWwsIHNleHBdXG4gICAgICAgIGVuZClcbiAgOztcbmVuZFxuXG5tb2R1bGUgVmVyc2lvbmVkX3JwYyA9IEFzeW5jX3JwY19rZXJuZWwuUGVyc2lzdGVudF9jb25uZWN0aW9uLlZlcnNpb25lZF9ycGNcbiIsIm9wZW4gQ29yZVxub3BlbiBBc3luY19rZXJuZWxcbm9wZW4gSnNfb2Zfb2NhbWxcbm1vZHVsZSBPcHQgPSBKcy5PcHRcbm1vZHVsZSBPcHRkZWYgPSBKcy5PcHRkZWZcblxubW9kdWxlIFJlc3BvbnNlX3R5cGUgPSBzdHJ1Y3RcbiAgdHlwZSAnYSB0ID0gJ2EgWG1sSHR0cFJlcXVlc3QucmVzcG9uc2UgPVxuICAgIHwgQXJyYXlCdWZmZXIgOiBUeXBlZF9hcnJheS5hcnJheUJ1ZmZlciBKcy50IE9wdC50IHRcbiAgICB8IEJsb2IgOiAjRmlsZS5ibG9iIEpzLnQgSnMuT3B0LnQgdFxuICAgIHwgRG9jdW1lbnQgOiBEb20uZWxlbWVudCBEb20uZG9jdW1lbnQgSnMudCBPcHQudCB0XG4gICAgfCBKU09OIDogJ2EgT3B0LnQgdFxuICAgIHwgVGV4dCA6IEpzLmpzX3N0cmluZyBKcy50IHRcbiAgICB8IERlZmF1bHQgOiBzdHJpbmcgdFxuZW5kXG5cbm1vZHVsZSBSZXNwb25zZSA9IHN0cnVjdFxuICB0eXBlICdyZXNwb25zZSB0ID1cbiAgICB7IGNvZGUgOiBpbnRcbiAgICA7IGdldF9oZWFkZXIgOiBzdHJpbmcgLT4gc3RyaW5nIG9wdGlvblxuICAgIDsgY29udGVudCA6ICdyZXNwb25zZVxuICAgIH1cbmVuZFxuXG5tb2R1bGUgUG9zdF9ib2R5ID0gc3RydWN0XG4gIHR5cGUgdCA9XG4gICAgfCBCbG9iIG9mIEZpbGUuYmxvYiBKcy50XG4gICAgfCBEb2N1bWVudCBvZiBEb20uZWxlbWVudCBEb20uZG9jdW1lbnQgSnMudFxuICAgIHwgU3RyaW5nIG9mIHN0cmluZ1xuICAgIHwgRm9ybV9kYXRhIG9mIEZvcm0uZm9ybURhdGEgSnMudFxuZW5kXG5cbm1vZHVsZSBNZXRob2Rfd2l0aF9hcmdzID0gc3RydWN0XG4gIHR5cGUgdCA9XG4gICAgfCBHZXQgb2YgKHN0cmluZyAqIHN0cmluZykgbGlzdFxuICAgIHwgUG9zdCBvZiBQb3N0X2JvZHkudCBvcHRpb25cbmVuZFxuXG50eXBlICdrIHdpdGhfcmVxdWVzdF9hcmdzID1cbiAgP2hlYWRlcnM6KHN0cmluZyAqIHN0cmluZykgbGlzdFxuICAtPiA/b25fcHJvZ3Jlc3M6KGxvYWRlZDppbnQgLT4gdG90YWw6aW50IC0+IHVuaXQpXG4gIC0+ID9vbl91cGxvYWRfcHJvZ3Jlc3M6KGxvYWRlZDppbnQgLT4gdG90YWw6aW50IC0+IHVuaXQpXG4gIC0+IHVybDpzdHJpbmdcbiAgLT4gJ2tcblxubGV0IGhhc19nZXRfYXJncyB1cmwgPSBPcHRpb24uaXNfc29tZSAoU3RyaW5nLmluZGV4IHVybCAnPycpXG5cbmxldCByZXF1ZXN0XG4gICAgICA/KGhlYWRlcnMgPSBbXSlcbiAgICAgID9vbl9wcm9ncmVzc1xuICAgICAgP29uX3VwbG9hZF9wcm9ncmVzc1xuICAgICAgfnVybFxuICAgICAgKHR5cGUgcmVzcClcbiAgICAgIH4ocmVzcG9uc2VfdHlwZSA6IHJlc3AgUmVzcG9uc2VfdHlwZS50KVxuICAgICAgKG1ldGhvZF93aXRoX2FyZ3MgOiBNZXRob2Rfd2l0aF9hcmdzLnQpXG4gID1cbiAgbGV0IHVybCwgbWV0aG9kX3N0cmluZyA9XG4gICAgbWF0Y2ggbWV0aG9kX3dpdGhfYXJncyB3aXRoXG4gICAgfCBHZXQgYXJncyAtPlxuICAgICAgdXJsIF4gKGlmIGhhc19nZXRfYXJncyB1cmwgdGhlbiBcIiZcIiBlbHNlIFwiP1wiKSBeIFVybC5lbmNvZGVfYXJndW1lbnRzIGFyZ3MsIFwiR0VUXCJcbiAgICB8IFBvc3QgX2JvZHkgLT4gdXJsLCBcIlBPU1RcIlxuICBpblxuICBsZXQgcmVxID0gWG1sSHR0cFJlcXVlc3QuY3JlYXRlICgpIGluXG4gIHJlcSMjX29wZW4gKEpzLnN0cmluZyBtZXRob2Rfc3RyaW5nKSAoSnMuc3RyaW5nIHVybCkgSnMuX3RydWU7XG4gIChsZXQgb3BlbiBSZXNwb25zZV90eXBlIGluXG4gICBtYXRjaCByZXNwb25zZV90eXBlIHdpdGhcbiAgIHwgQXJyYXlCdWZmZXIgLT4gcmVxIyMucmVzcG9uc2VUeXBlIDo9IEpzLnN0cmluZyBcImFycmF5YnVmZmVyXCJcbiAgIHwgQmxvYiAtPiByZXEjIy5yZXNwb25zZVR5cGUgOj0gSnMuc3RyaW5nIFwiYmxvYlwiXG4gICB8IERvY3VtZW50IC0+IHJlcSMjLnJlc3BvbnNlVHlwZSA6PSBKcy5zdHJpbmcgXCJkb2N1bWVudFwiXG4gICB8IEpTT04gLT4gcmVxIyMucmVzcG9uc2VUeXBlIDo9IEpzLnN0cmluZyBcImpzb25cIlxuICAgfCBUZXh0IC0+IHJlcSMjLnJlc3BvbnNlVHlwZSA6PSBKcy5zdHJpbmcgXCJ0ZXh0XCJcbiAgIHwgRGVmYXVsdCAtPiByZXEjIy5yZXNwb25zZVR5cGUgOj0gSnMuc3RyaW5nIFwiXCIpO1xuICBMaXN0Lml0ZXIgaGVhZGVycyB+ZjooZnVuIChuYW1lLCB2YWx1ZSkgLT5cbiAgICByZXEjI3NldFJlcXVlc3RIZWFkZXIgKEpzLnN0cmluZyBuYW1lKSAoSnMuc3RyaW5nIHZhbHVlKSk7XG4gIGxldCByZXNwb25zZSA6IHJlc3AgUmVzcG9uc2UudCBPcl9lcnJvci50IEl2YXIudCA9IEl2YXIuY3JlYXRlICgpIGluXG4gIHJlcSMjLm9uZXJyb3JcbiAgOj0gRG9tLmhhbmRsZXIgKGZ1biBfIC0+XG4gICAgSXZhci5maWxsX2lmX2VtcHR5IHJlc3BvbnNlIChPcl9lcnJvci5lcnJvcl9zdHJpbmcgXCJOZXR3b3JrIGVycm9yXCIpO1xuICAgIEpzLl90cnVlKTtcbiAgcmVxIyMub250aW1lb3V0XG4gIDo9IERvbS5oYW5kbGVyIChmdW4gXyAtPlxuICAgIEl2YXIuZmlsbF9pZl9lbXB0eSByZXNwb25zZSAoT3JfZXJyb3IuZXJyb3Jfc3RyaW5nIFwiVGltZW91dFwiKTtcbiAgICBKcy5fdHJ1ZSk7XG4gIHJlcSMjLm9ucmVhZHlzdGF0ZWNoYW5nZVxuICA6PSBKcy53cmFwX2NhbGxiYWNrIChmdW4gXyAtPlxuICAgIG1hdGNoIHJlcSMjLnJlYWR5U3RhdGUgd2l0aFxuICAgIHwgRE9ORSAtPlxuICAgICAgbGV0IHJlcyA9XG4gICAgICAgIGlmIHJlcSMjLnN0YXR1cyA+PSAyMDAgJiYgcmVxIyMuc3RhdHVzIDwgMzAwXG4gICAgICAgIHRoZW4gKFxuICAgICAgICAgIGxldCViaW5kLk9yX2Vycm9yIGNvbnRlbnQgOiByZXNwIE9yX2Vycm9yLnQgPVxuICAgICAgICAgICAgbGV0IGdldF90ZXh0X2NvbnRlbnRzX29yX2Vycm9yICgpID1cbiAgICAgICAgICAgICAgT3B0LmNhc2VcbiAgICAgICAgICAgICAgICByZXEjIy5yZXNwb25zZVRleHRcbiAgICAgICAgICAgICAgICAoZnVuICgpIC0+XG4gICAgICAgICAgICAgICAgICAgKCogVGhpcyBjYXNlIHNob3VsZCBub3QgYmUgZW50ZXJlZCBhcyBwZXIgdGhlIHNwZWNpZmljYXRpb24gb2ZcbiAgICAgICAgICAgICAgICAgICAgICBYTUxIdHRwUmVxdWVzdCBhdCBNRE4gd2ViIGRvY3MsIGJlY2F1c2UgaWYgYSByZXF1ZXN0IGlzIHN1Y2Nlc3NmdWwsXG4gICAgICAgICAgICAgICAgICAgICAgaW4gc3RhdGUgW0RPTkVdIGFuZCByZXNwb25zZV90eXBlIFtUZXh0XSBvciBbRGVmYXVsdF0sXG4gICAgICAgICAgICAgICAgICAgICAgW3Jlc3BvbnNlVGV4dF0gc2hvdWxkIG5vdCBiZSBbbnVsbF0uXG4gICAgICAgICAgICAgICAgICAgICAgU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9YTUxIdHRwUmVxdWVzdC9yZXNwb25zZVRleHRcbiAgICAgICAgICAgICAgICAgICAqKVxuICAgICAgICAgICAgICAgICAgIGVycm9yX3NcbiAgICAgICAgICAgICAgICAgICAgIFslc2V4cFxuICAgICAgICAgICAgICAgICAgICAgICBcIk5vIHJlc3BvbnNlIHJldHVybmVkIGRlc3BpdGUgc3VjY2Vzc2Z1bCByZXF1ZXN0XCJcbiAgICAgICAgICAgICAgICAgICAgICwgeyBjb2RlID0gKHJlcSMjLnN0YXR1cyA6IGludClcbiAgICAgICAgICAgICAgICAgICAgICAgOyBzdGF0dXNfdGV4dCA9IChKcy50b19zdHJpbmcgcmVxIyMuc3RhdHVzVGV4dCA6IHN0cmluZylcbiAgICAgICAgICAgICAgICAgICAgICAgfV0pXG4gICAgICAgICAgICAgICAgUmVzdWx0LnJldHVyblxuICAgICAgICAgICAgaW5cbiAgICAgICAgICAgIGxldCBvcGVuIFJlc3BvbnNlX3R5cGUgaW5cbiAgICAgICAgICAgIG1hdGNoIHJlc3BvbnNlX3R5cGUgd2l0aFxuICAgICAgICAgICAgfCBBcnJheUJ1ZmZlciAtPiBPayAoRmlsZS5Db2VyY2VUby5hcnJheUJ1ZmZlciByZXEjIy5yZXNwb25zZSlcbiAgICAgICAgICAgIHwgQmxvYiAtPiBPayAoRmlsZS5Db2VyY2VUby5ibG9iIHJlcSMjLnJlc3BvbnNlKVxuICAgICAgICAgICAgfCBEb2N1bWVudCAtPiBPayAoRmlsZS5Db2VyY2VUby5kb2N1bWVudCByZXEjIy5yZXNwb25zZSlcbiAgICAgICAgICAgIHwgSlNPTiAtPiBPayAoRmlsZS5Db2VyY2VUby5qc29uIHJlcSMjLnJlc3BvbnNlKVxuICAgICAgICAgICAgfCBUZXh0IC0+IGdldF90ZXh0X2NvbnRlbnRzX29yX2Vycm9yICgpXG4gICAgICAgICAgICB8IERlZmF1bHQgLT5cbiAgICAgICAgICAgICAgT3JfZXJyb3IubWFwIChnZXRfdGV4dF9jb250ZW50c19vcl9lcnJvciAoKSkgfmY6SnMudG9fc3RyaW5nXG4gICAgICAgICAgaW5cbiAgICAgICAgICBsZXQgZ2V0X2hlYWRlciBzID1cbiAgICAgICAgICAgIE9wdC5jYXNlXG4gICAgICAgICAgICAgIChyZXEjI2dldFJlc3BvbnNlSGVhZGVyIChKcy5ieXRlc3RyaW5nIHMpKVxuICAgICAgICAgICAgICAoZnVuICgpIC0+IE5vbmUpXG4gICAgICAgICAgICAgIChmdW4gdiAtPiBTb21lIChKcy50b19zdHJpbmcgdikpXG4gICAgICAgICAgaW5cbiAgICAgICAgICBPayB7IFJlc3BvbnNlLmNvbnRlbnQ7IGNvZGUgPSByZXEjIy5zdGF0dXM7IGdldF9oZWFkZXIgfSlcbiAgICAgICAgZWxzZVxuICAgICAgICAgIE9yX2Vycm9yLmVycm9yX3NcbiAgICAgICAgICAgIFslc2V4cFxuICAgICAgICAgICAgICBcIlJlcXVlc3QgZmFpbGVkXCJcbiAgICAgICAgICAgICwgeyBjb2RlID0gKHJlcSMjLnN0YXR1cyA6IGludClcbiAgICAgICAgICAgICAgOyBzdGF0dXNfdGV4dCA9IChKcy50b19zdHJpbmcgcmVxIyMuc3RhdHVzVGV4dCA6IHN0cmluZylcbiAgICAgICAgICAgICAgfV1cbiAgICAgIGluXG4gICAgICBJdmFyLmZpbGxfaWZfZW1wdHkgcmVzcG9uc2UgcmVzXG4gICAgfCBfIC0+ICgpKTtcbiAgT3B0aW9uLml0ZXIgb25fcHJvZ3Jlc3MgfmY6KGZ1biBvbl9wcm9ncmVzcyAtPlxuICAgIHJlcSMjLm9ucHJvZ3Jlc3NcbiAgICA6PSBEb20uaGFuZGxlciAoZnVuIGUgLT5cbiAgICAgIG9uX3Byb2dyZXNzIH5sb2FkZWQ6ZSMjLmxvYWRlZCB+dG90YWw6ZSMjLnRvdGFsO1xuICAgICAgSnMuX3RydWUpKTtcbiAgT3B0ZGVmLml0ZXIgcmVxIyMudXBsb2FkIChmdW4gdXBsb2FkIC0+XG4gICAgT3B0aW9uLml0ZXIgb25fdXBsb2FkX3Byb2dyZXNzIH5mOihmdW4gb25fdXBsb2FkX3Byb2dyZXNzIC0+XG4gICAgICB1cGxvYWQjIy5vbnByb2dyZXNzXG4gICAgICA6PSBEb20uaGFuZGxlciAoZnVuIGUgLT5cbiAgICAgICAgb25fdXBsb2FkX3Byb2dyZXNzIH5sb2FkZWQ6ZSMjLmxvYWRlZCB+dG90YWw6ZSMjLnRvdGFsO1xuICAgICAgICBKcy5fdHJ1ZSkpKTtcbiAgKG1hdGNoIG1ldGhvZF93aXRoX2FyZ3Mgd2l0aFxuICAgfCBHZXQgXyAtPiByZXEjI3NlbmQgSnMubnVsbFxuICAgfCBQb3N0IGJvZHkgLT5cbiAgICAgKG1hdGNoIGJvZHkgd2l0aFxuICAgICAgfCBOb25lIC0+IHJlcSMjc2VuZCBKcy5udWxsXG4gICAgICB8IFNvbWUgYm9keSAtPlxuICAgICAgICAobWF0Y2ggYm9keSB3aXRoXG4gICAgICAgICB8IEJsb2IgYiAtPiByZXEjI3NlbmRfYmxvYiBiXG4gICAgICAgICB8IERvY3VtZW50IGQgLT4gcmVxIyNzZW5kX2RvY3VtZW50IGRcbiAgICAgICAgIHwgU3RyaW5nIHMgLT4gcmVxIyNzZW5kIChKcy5zb21lIChKcy5zdHJpbmcgcykpXG4gICAgICAgICB8IEZvcm1fZGF0YSBmZCAtPiByZXEjI3NlbmRfZm9ybURhdGEgZmQpKSk7XG4gIEl2YXIucmVhZCByZXNwb25zZVxuOztcblxubGV0IGdldCA/KGFyZ3VtZW50cyA9IFtdKSB1cmwgPVxuICBEZWZlcnJlZC5Pcl9lcnJvci5tYXBcbiAgICB+ZjooZnVuIHJlc3AgLT4gcmVzcC5jb250ZW50KVxuICAgIChyZXF1ZXN0IH51cmwgfnJlc3BvbnNlX3R5cGU6RGVmYXVsdCAoR2V0IGFyZ3VtZW50cykpXG47O1xuXG5sZXQgcG9zdCA/Ym9keSB1cmwgPVxuICBEZWZlcnJlZC5Pcl9lcnJvci5tYXBcbiAgICB+ZjooZnVuIHJlc3AgLT4gcmVzcC5jb250ZW50KVxuICAgIChyZXF1ZXN0IH51cmwgfnJlc3BvbnNlX3R5cGU6RGVmYXVsdCAoUG9zdCBib2R5KSlcbjs7XG4iLCJvcGVuIENvcmVcbm1vZHVsZSBUaW1lX25zID0gQ29yZS5UaW1lX25zXG5tb2R1bGUgQ2xvY2tfbnMgPSBBc3luY19rZXJuZWwuQ2xvY2tfbnNcbm1vZHVsZSBTY2hlZHVsZXIgPSBBc3luY19rZXJuZWwuQXN5bmNfa2VybmVsX3NjaGVkdWxlci5Qcml2YXRlXG5vcGVuIEpzX29mX29jYW1sXG5cbmxldCBzbGVlcCBkID0gQ2xvY2tfbnMuYWZ0ZXIgKFRpbWVfbnMuU3Bhbi5vZl9zZWMgZClcbmxldCB5aWVsZCAoKSA9IFNjaGVkdWxlci55aWVsZCAoU2NoZWR1bGVyLnQgKCkpXG5cbmxldCBleHRyYWN0X2pzX2Vycm9yIChleG4gOiBleG4pIDogSnMuZXJyb3IgSnMudCBvcHRpb24gPVxuICBKcy5PcHQudG9fb3B0aW9uIChKcy5qc19lcnJvcl9vZl9leG4gZXhuKVxuOztcblxubGV0IHJ1biA9XG4gIGxldCBtb2R1bGUgU3RhdGUgPSBzdHJ1Y3RcbiAgICB0eXBlIHQgPVxuICAgICAgfCBJZGxlXG4gICAgICB8IFJ1bm5pbmdcbiAgICAgIHwgV2lsbF9ydW5fc29vblxuICBlbmRcbiAgaW5cbiAgbGV0IG1vZHVsZSBOZXh0X3dha2V1cCA9IHN0cnVjdFxuICAgIHR5cGUgdCA9XG4gICAgICB8IEF0IG9mIFRpbWVfbnMudCAqIGZsb2F0XG4gICAgICB8IE5vX3dha2V1cFxuICAgICAgfCBTb29uXG4gIGVuZFxuICBpblxuICBsZXQgc3RhdGUgPSByZWYgU3RhdGUuSWRsZSBpblxuICBsZXQgdGltZW91dHMgPSBTdGFjay5jcmVhdGUgKCkgaW5cbiAgbGV0IHJ1bl9hZnRlciB+ZiB+bXMgPSBpZ25vcmUgKERvbV9odG1sLnNldFRpbWVvdXQgZiBtcyA6IERvbV9odG1sLnRpbWVvdXRfaWRfc2FmZSkgaW5cbiAgbGV0IHJlYyBsb29wICgpID1cbiAgICBsZXQgdCA9IFNjaGVkdWxlci50ICgpIGluXG4gICAgbWF0Y2ggIXN0YXRlLCBTY2hlZHVsZXIudW5jYXVnaHRfZXhuIHQgd2l0aFxuICAgIHwgXywgU29tZSBfIHwgU3RhdGUuUnVubmluZywgTm9uZSAtPiAoKVxuICAgIHwgKFN0YXRlLklkbGUgfCBTdGF0ZS5XaWxsX3J1bl9zb29uKSwgTm9uZSAtPlxuICAgICAgc3RhdGUgOj0gU3RhdGUuUnVubmluZztcbiAgICAgIFNjaGVkdWxlci5ydW5fY3ljbGUgdDtcbiAgICAgIGxldCBuZXh0X3dha2V1cCA6IE5leHRfd2FrZXVwLnQgPVxuICAgICAgICBpZiBTY2hlZHVsZXIuY2FuX3J1bl9hX2pvYiB0XG4gICAgICAgIHRoZW4gU29vblxuICAgICAgICBlbHNlIChcbiAgICAgICAgICBtYXRjaCBTY2hlZHVsZXIubmV4dF91cGNvbWluZ19ldmVudCB0IHdpdGhcbiAgICAgICAgICB8IE5vbmUgLT4gTm9fd2FrZXVwXG4gICAgICAgICAgfCBTb21lIG5leHQgLT5cbiAgICAgICAgICAgIGxldCBub3cgPSBUaW1lX25zLm5vdyAoKSBpblxuICAgICAgICAgICAgbGV0IGQgPSBUaW1lX25zLmRpZmYgbmV4dCBub3cgaW5cbiAgICAgICAgICAgIGxldCBkX21zID0gVGltZV9ucy5TcGFuLnRvX21zIGQgaW5cbiAgICAgICAgICAgIGlmIEZsb2F0LiggPD0gKSBkX21zIDAuIHRoZW4gU29vbiBlbHNlIEF0IChuZXh0LCBkX21zKSlcbiAgICAgIGluXG4gICAgICBPcHRpb24uaXRlciAoU2NoZWR1bGVyLnVuY2F1Z2h0X2V4bl91bndyYXBwZWQgdCkgfmY6KGZ1biAoZXhuLCBfc2V4cCkgLT5cbiAgICAgICAgbWF0Y2ggQXN5bmNfa2VybmVsLk1vbml0b3IuZXh0cmFjdF9leG4gZXhuIHdpdGhcbiAgICAgICAgfCBKcy5FcnJvciBlcnIgLT4gSnMucmFpc2VfanNfZXJyb3IgZXJyXG4gICAgICAgIHwgZXhuIC0+XG4gICAgICAgICAgKG1hdGNoIGV4dHJhY3RfanNfZXJyb3IgZXhuIHdpdGhcbiAgICAgICAgICAgfCBOb25lIC0+IHJhaXNlIGV4blxuICAgICAgICAgICB8IFNvbWUgZXJyIC0+XG4gICAgICAgICAgICAgKCogSGFjayB0byBnZXQgYSBiZXR0ZXIgYmFja3RyYWNlICopXG4gICAgICAgICAgICAgKCogV2UgZmlyc3Qgb3V0cHV0IHRoZSBzdHJpbmdpZmllZCBvY2FtbCBleGNlcHRpb24gKilcbiAgICAgICAgICAgICBGaXJlYnVnLmNvbnNvbGUjI2Vycm9yIChKcy5zdHJpbmcgKEV4bi50b19zdHJpbmcgZXhuKSk7XG4gICAgICAgICAgICAgKCogQW5kIHRoZW4gcmFpc2UgdGhlIGVtYmVkZGVkIGphdmFzY3JpcHQgZXJyb3IgdGhhdCBwcm92aWRlcyBhIHByb3BlclxuICAgICAgICAgICAgICAgIGJhY2t0cmFjZSB3aXRoIGdvb2Qgc291cmNlbWFwIHN1cHBvcnQuXG4gICAgICAgICAgICAgICAgVGhlIG5hbWUgb2YgdGhpcyBqYXZhc2NyaXB0IGVycm9yIGlzIHByb2JhYmx5IG5vdCBtZWFuaW5nZnVsIHdoaWNoIGlzIHdoeVxuICAgICAgICAgICAgICAgIHdlIGZpcnN0IG91dHB1dCB0aGUgc2VyaWFsaXphdGlvbiBvZiBvY2FtbCBleGNlcHRpb24uICopXG4gICAgICAgICAgICAgSnMucmFpc2VfanNfZXJyb3IgZXJyKSk7XG4gICAgICAobWF0Y2ggbmV4dF93YWtldXAgd2l0aFxuICAgICAgIHwgTm9fd2FrZXVwIC0+IHN0YXRlIDo9IElkbGVcbiAgICAgICB8IFNvb24gLT5cbiAgICAgICAgIHN0YXRlIDo9IFdpbGxfcnVuX3Nvb247XG4gICAgICAgICBydW5fYWZ0ZXIgfmY6bG9vcCB+bXM6MC5cbiAgICAgICB8IEF0IChhdCwgZF9tcykgLT5cbiAgICAgICAgIHN0YXRlIDo9IElkbGU7XG4gICAgICAgICBpZiBTdGFjay5pc19lbXB0eSB0aW1lb3V0cyB8fCBUaW1lX25zLiggPCApIGF0IChTdGFjay50b3BfZXhuIHRpbWVvdXRzKVxuICAgICAgICAgdGhlbiAoXG4gICAgICAgICAgIFN0YWNrLnB1c2ggdGltZW91dHMgYXQ7XG4gICAgICAgICAgIHJ1bl9hZnRlciB+ZjpydW5fdGltZW91dCB+bXM6ZF9tcykpXG4gIGFuZCBydW5fdGltZW91dCAoKSA9XG4gICAgKCogRWFjaCBjYWxsIHRvIFtydW5fdGltZW91dF0gcmVtb3ZlcyBleGFjdGx5IG9uZSBlbGVtZW50IGZyb20gW3RpbWVvdXRzXS4gIFRoaXNcbiAgICAgICBtYWludGFpbnMgdGhlIGludmFyaWFudCB0aGF0IFtTdGFjay5sZW5ndGggdGltZW91dHNdIGlzIGV4YWN0bHkgdGhlIG51bWJlciBvZlxuICAgICAgIG91dHN0YW5kaW5nIHRpbWVvdXRzIHdlIGhhdmUgcmVnaXN0ZXJlZC4gKilcbiAgICBpZ25vcmUgKFN0YWNrLnBvcF9leG4gdGltZW91dHMgOiBUaW1lX25zLnQpO1xuICAgIGxvb3AgKClcbiAgaW5cbiAgZnVuICgpIC0+XG4gICAgbWF0Y2ggIXN0YXRlIHdpdGhcbiAgICB8IFN0YXRlLklkbGUgLT5cbiAgICAgIHJ1bl9hZnRlciB+Zjpsb29wIH5tczowLjtcbiAgICAgIHN0YXRlIDo9IFN0YXRlLldpbGxfcnVuX3Nvb25cbiAgICB8IFN0YXRlLlJ1bm5pbmcgfCBTdGF0ZS5XaWxsX3J1bl9zb29uIC0+ICgpXG47O1xuXG5sZXQgbG9nIG5hbWUgZXhuID1cbiAgbGV0IGV4biA9XG4gICAgbWF0Y2ggQXN5bmNfa2VybmVsLk1vbml0b3IuZXh0cmFjdF9leG4gZXhuIHdpdGhcbiAgICB8IEpzLkVycm9yIGVyciAtPiBgSnMgZXJyXG4gICAgfCBleG4gLT5cbiAgICAgIChtYXRjaCBleHRyYWN0X2pzX2Vycm9yIGV4biB3aXRoXG4gICAgICAgfCBOb25lIC0+IGBFeG4gZXhuXG4gICAgICAgfCBTb21lIGVyciAtPiBgSnNfYW5kX2V4biAoZXhuLCBlcnIpKVxuICBpblxuICBtYXRjaCBleG4gd2l0aFxuICB8IGBKcyBlcnIgLT4gRmlyZWJ1Zy5jb25zb2xlIyNlcnJvcl8yIChKcy5zdHJpbmcgbmFtZSkgZXJyXG4gIHwgYEV4biBleG4gLT4gRmlyZWJ1Zy5jb25zb2xlIyNlcnJvcl8yIChKcy5zdHJpbmcgbmFtZSkgKEpzLnN0cmluZyAoRXhuLnRvX3N0cmluZyBleG4pKVxuICB8IGBKc19hbmRfZXhuIChleG4sIGVycikgLT5cbiAgICBGaXJlYnVnLmNvbnNvbGUjI2Vycm9yXzMgKEpzLnN0cmluZyBuYW1lKSAoSnMuc3RyaW5nIChFeG4udG9fc3RyaW5nIGV4bikpIGVyclxuOztcblxubGV0IGluaXRpYWxpemVkX3JlZiA9IHJlZiBmYWxzZVxuXG5sZXQgaW5pdGlhbGl6YXRpb24gPVxuICBsYXp5XG4gICAgKGxldCB0ID0gU2NoZWR1bGVyLnQgKCkgaW5cbiAgICAgaW5pdGlhbGl6ZWRfcmVmIDo9IHRydWU7XG4gICAgIFNjaGVkdWxlci5zZXRfam9iX3F1ZXVlZF9ob29rIHQgKGZ1biBfIC0+IHJ1biAoKSk7XG4gICAgIFNjaGVkdWxlci5zZXRfZXZlbnRfYWRkZWRfaG9vayB0IChmdW4gXyAtPiBydW4gKCkpO1xuICAgICBTY2hlZHVsZXIuc2V0X3RocmVhZF9zYWZlX2V4dGVybmFsX2pvYl9ob29rIHQgcnVuO1xuICAgICBBc3luY19rZXJuZWwuTW9uaXRvci5FeHBlcnQudHJ5X3dpdGhfbG9nX2V4biA6PSBsb2cgXCJBc3luY19rZXJuZWw6IE1vbml0b3IudHJ5X3dpdGhcIjtcbiAgICAgQXN5bmNfa2VybmVsLk1vbml0b3IuZGV0YWNoX2FuZF9pdGVyX2Vycm9yc1xuICAgICAgIEFzeW5jX2tlcm5lbC5Nb25pdG9yLm1haW5cbiAgICAgICB+ZjoobG9nIFwiQXN5bmNfa2VybmVsOiBVbmhhbmRsZWQgZXhjZXB0aW9uXCIpO1xuICAgICBydW4gKCkpXG47O1xuXG5sZXQgaW5pdCAoKSA9IGZvcmNlIGluaXRpYWxpemF0aW9uXG5sZXQgaW5pdGlhbGl6ZWQgKCkgPSAhaW5pdGlhbGl6ZWRfcmVmXG5cbmxldCBkb2N1bWVudF9sb2FkZWQgPVxuICBsZXQganNfc3RyaW5nX2NvbXBhcmUgcyA9XG4gICAgbGV0IGNvbXBhcmVfdXNpbmdfamF2YXNjcmlwdF90cmlwbGVfZXF1YWxfZm9yX3N0cmluZ3MgPSBwaHlzX2VxdWFsIGluXG4gICAgY29tcGFyZV91c2luZ19qYXZhc2NyaXB0X3RyaXBsZV9lcXVhbF9mb3Jfc3RyaW5ncyAoSnMuc3RyaW5nIHMpXG4gIGluXG4gIGxldCByZWFkeV9zdGF0ZV9jaGFuZ2UgPSBcInJlYWR5c3RhdGVjaGFuZ2VcIiBpblxuICBsZXQgY29tcGxldGUgPSBcImNvbXBsZXRlXCIgaW5cbiAgbGV0IHJlYWR5c3RhdGVjaGFuZ2VfZXYgPSBEb20uRXZlbnQubWFrZSByZWFkeV9zdGF0ZV9jaGFuZ2UgaW5cbiAgbGV0IGFkZF9ldmVudCB0YXJnZXQgZXZ0IGhhbmRsZXIgPVxuICAgIGlnbm9yZVxuICAgICAgKERvbV9odG1sLmFkZEV2ZW50TGlzdGVuZXIgdGFyZ2V0IGV2dCBoYW5kbGVyIEpzLl9mYWxzZSA6IERvbS5ldmVudF9saXN0ZW5lcl9pZClcbiAgaW5cbiAgZnVuICgpIC0+XG4gICAgaWYganNfc3RyaW5nX2NvbXBhcmUgY29tcGxldGUgRG9tX2h0bWwuZG9jdW1lbnQjIy5yZWFkeVN0YXRlXG4gICAgdGhlbiBBc3luY19rZXJuZWwuRGVmZXJyZWQudW5pdFxuICAgIGVsc2UgKFxuICAgICAgbGV0IGxvYWRlZCA9IEFzeW5jX2tlcm5lbC5JdmFyLmNyZWF0ZSAoKSBpblxuICAgICAgbGV0IGhhbmRsZXIgZXZ0ID1cbiAgICAgICAgaWYgKG5vdCAoanNfc3RyaW5nX2NvbXBhcmUgcmVhZHlfc3RhdGVfY2hhbmdlIGV2dCMjLl90eXBlKSlcbiAgICAgICAgfHwganNfc3RyaW5nX2NvbXBhcmUgY29tcGxldGUgRG9tX2h0bWwuZG9jdW1lbnQjIy5yZWFkeVN0YXRlXG4gICAgICAgIHRoZW4gQXN5bmNfa2VybmVsLkl2YXIuZmlsbF9pZl9lbXB0eSBsb2FkZWQgKCk7XG4gICAgICAgIEpzLl90cnVlXG4gICAgICBpblxuICAgICAgYWRkX2V2ZW50IERvbV9odG1sLmRvY3VtZW50IERvbV9odG1sLkV2ZW50LmRvbUNvbnRlbnRMb2FkZWQgKERvbS5oYW5kbGVyIGhhbmRsZXIpO1xuICAgICAgYWRkX2V2ZW50IERvbV9odG1sLmRvY3VtZW50IHJlYWR5c3RhdGVjaGFuZ2VfZXYgKERvbS5oYW5kbGVyIGhhbmRsZXIpO1xuICAgICAgYWRkX2V2ZW50IERvbV9odG1sLndpbmRvdyBEb21faHRtbC5FdmVudC5sb2FkIChEb20uaGFuZGxlciBoYW5kbGVyKTtcbiAgICAgIEFzeW5jX2tlcm5lbC5JdmFyLnJlYWQgbG9hZGVkKVxuOztcbiIsIm1vZHVsZSBScGMgPSBScGNcbm1vZHVsZSBIdHRwID0gSHR0cFxubW9kdWxlIERlYnVnID0gRGVidWdcbm1vZHVsZSBQZXJzaXN0ZW50X2Nvbm5lY3Rpb24gPSBQZXJzaXN0ZW50X2Nvbm5lY3Rpb25cbmluY2x1ZGUgQXN5bmNfanMwXG5cbmxldCBsb2dfcyA9IERlYnVnLmxvZ19zXG5sZXQgbG9nX3NfYXNfc3RyaW5nID0gRGVidWcubG9nX3NfYXNfc3RyaW5nXG4iXX0=
