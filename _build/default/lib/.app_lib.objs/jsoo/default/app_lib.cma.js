// Generated by js_of_ocaml
//# buildInfo:effects=false, kind=cma, use-js-string=true, version=5.8.1+5.8.1

//# unitInfo: Provides: App_lib
(function
  (globalThis){
   "use strict";
   var runtime = globalThis.jsoo_runtime, App_lib = [0];
   runtime.caml_register_global(0, App_lib, "App_lib");
   return;
  }
  (globalThis));

//# unitInfo: Provides: App_lib__App
//# unitInfo: Requires: Assert_failure, Async_kernel, Base__Field, Core, Core__List, Expect_test_collector, Hazelnut_lib__Hazelnut, Incr_dom__Component, Incr_dom__Incr, Monad_lib__Monad, Ppx_bench_lib__Benchmark_accumulator, Ppx_compare_lib, Ppx_inline_test_lib__Runtime, Sexplib0__Sexp_conv, Sexplib0__Sexp_conv_error, Stdlib, Virtual_dom__Node, Virtual_dom__Vdom
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst$14 = "",
    cst_s = "%s",
    cst_app_lib = "app_lib",
    cst_e$0 = "e",
    cst_lam_input$0 = "lam_input",
    cst_lib_app_re = "lib/app.re",
    cst_lit_input$0 = "lit_input",
    cst_state$0 = "state",
    cst_t$0 = "t",
    cst_var_input$0 = "var_input",
    cst_warning$0 = "warning",
    caml_maybe_attach_backtrace = runtime.caml_maybe_attach_backtrace,
    caml_wrap_exception = runtime.caml_wrap_exception;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   function caml_call5(f, a0, a1, a2, a3, a4){
    return (f.l >= 0 ? f.l : f.l = f.length) == 5
            ? f(a0, a1, a2, a3, a4)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    cst$0 = "[ ]",
    cst$1 = "\xf0\x9f\x91\x88",
    cst$2 = "\xf0\x9f\x91\x89",
    cst$3 = " -> ",
    cst$4 = " }",
    cst$5 = " -> { ",
    cst$6 = " ",
    cst$7 = " + ",
    cst$8 = ": ",
    cst$9 = " ]",
    cst$10 = "[ ",
    cst$11 = ")",
    cst$12 = "(",
    cst$13 = cst$14,
    s = [0, [0, 0], 1, 0, cst$14, cst$14, cst$14],
    warning = [0, "Theorem 1 violation (Action sensibility)"],
    cst = cst$14,
    error_source_027 = "lib/app.re.state",
    error_source_059 = "lib/app.re.Model.t",
    Core = global_data.Core,
    Incr_dom_Component = global_data.Incr_dom__Component,
    Incr_dom_Incr = global_data.Incr_dom__Incr,
    Virtual_dom_Vdom = global_data.Virtual_dom__Vdom,
    Virtual_dom_Node = global_data.Virtual_dom__Node,
    Monad_lib_Monad = global_data.Monad_lib__Monad,
    Stdlib = global_data.Stdlib,
    Async_kernel = global_data.Async_kernel,
    Hazelnut_lib_Hazelnut = global_data.Hazelnut_lib__Hazelnut,
    Core_List = global_data.Core__List,
    Sexplib0_Sexp_conv_error = global_data.Sexplib0__Sexp_conv_error,
    Ppx_compare_lib = global_data.Ppx_compare_lib;
   global_data.Base__Field;
   var
    Assert_failure = global_data.Assert_failure,
    Sexplib0_Sexp_conv = global_data.Sexplib0__Sexp_conv,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Expect_test_collector = global_data.Expect_test_collector,
    Ppx_inline_test_lib_Runtime = global_data.Ppx_inline_test_lib__Runtime;
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][1], cst_app_lib);
   caml_call1(Expect_test_collector[5][1], cst_lib_app_re);
   caml_call2(Ppx_inline_test_lib_Runtime[2], cst_app_lib, cst);
   var
    cst_Num = "Num",
    cst_fun = "fun ",
    _b_ = [0, cst_lib_app_re, 180, 0],
    cst_lit_input = cst_lit_input$0,
    cst_lam_input = cst_lam_input$0,
    cst_var_input = cst_var_input$0,
    cst_warning = cst_warning$0,
    cst_t = cst_t$0,
    cst_e = cst_e$0,
    _c_ = [0, cst_lit_input$0],
    _d_ = [0, cst_lam_input$0],
    _e_ = [0, cst_var_input$0],
    _f_ = [0, cst_warning$0],
    _g_ = [0, cst_t$0],
    _h_ = [0, cst_e$0],
    _i_ = [0, cst_lib_app_re, 191, 2],
    cst_state = cst_state$0,
    _j_ = [0, cst_state$0],
    _k_ = [0, "Var"],
    _l_ = [0, "Lam"],
    _m_ = [0, "Lit"],
    _n_ = [0, "HazelnutAction"],
    _o_ = [0, "UpdateInput"],
    _p_ = [0, "ShowWarning"];
   function pexp_of_htyp(param){
    if(typeof param === "number") return param ? 1 : 0;
    var t2 = param[2], t1 = param[1], _bg_ = pexp_of_htyp(t2);
    return [1, pexp_of_htyp(t1), _bg_];
   }
   function pexp_of_hexp(param){
    if(typeof param === "number") return 1;
    switch(param[0]){
      case 0:
       var x = param[1]; return [2, x];
      case 1:
       var e = param[2], x$0 = param[1]; return [3, x$0, pexp_of_hexp(e)];
      case 2:
       var e2 = param[2], e1 = param[1], _bd_ = pexp_of_hexp(e2);
       return [4, pexp_of_hexp(e1), _bd_];
      case 3:
       var n = param[1]; return [5, n];
      case 4:
       var e2$0 = param[2], e1$0 = param[1], _be_ = pexp_of_hexp(e2$0);
       return [6, pexp_of_hexp(e1$0), _be_];
      case 5:
       var t = param[2], e$0 = param[1], _bf_ = pexp_of_htyp(t);
       return [7, pexp_of_hexp(e$0), _bf_];
      default: var e$1 = param[1]; return [8, pexp_of_hexp(e$1)];
    }
   }
   function pexp_of_ztyp(param){
    switch(param[0]){
      case 0:
       var t = param[1]; return [0, pexp_of_htyp(t)];
      case 1:
       var t2 = param[2], t1 = param[1], _bb_ = pexp_of_htyp(t2);
       return [1, pexp_of_ztyp(t1), _bb_];
      default:
       var t2$0 = param[2], t1$0 = param[1], _bc_ = pexp_of_ztyp(t2$0);
       return [1, pexp_of_htyp(t1$0), _bc_];
    }
   }
   function pexp_of_zexp(param){
    switch(param[0]){
      case 0:
       var e = param[1]; return [0, pexp_of_hexp(e)];
      case 1:
       var e$0 = param[2], x = param[1]; return [3, x, pexp_of_zexp(e$0)];
      case 2:
       var e2 = param[2], e1 = param[1], _a7_ = pexp_of_hexp(e2);
       return [4, pexp_of_zexp(e1), _a7_];
      case 3:
       var e2$0 = param[2], e1$0 = param[1], _a8_ = pexp_of_zexp(e2$0);
       return [4, pexp_of_hexp(e1$0), _a8_];
      case 4:
       var e2$1 = param[2], e1$1 = param[1], _a9_ = pexp_of_hexp(e2$1);
       return [6, pexp_of_zexp(e1$1), _a9_];
      case 5:
       var e2$2 = param[2], e1$2 = param[1], _a__ = pexp_of_zexp(e2$2);
       return [6, pexp_of_hexp(e1$2), _a__];
      case 6:
       var t = param[2], e$1 = param[1], _a$_ = pexp_of_htyp(t);
       return [7, pexp_of_zexp(e$1), _a$_];
      case 7:
       var t$0 = param[2], e$2 = param[1], _ba_ = pexp_of_ztyp(t$0);
       return [7, pexp_of_hexp(e$2), _ba_];
      default: var e$3 = param[1]; return [8, pexp_of_zexp(e$3)];
    }
   }
   function prec(param){
    var param$0 = param;
    for(;;){
     if(typeof param$0 === "number") return 0 === param$0 ? 0 : 0;
     switch(param$0[0]){
       case 0:
        var e = param$0[1]; param$0 = e; break;
       case 1:
        return 1;
       case 2:
        return 0;
       case 3:
        return 0;
       case 4:
        return 2;
       case 5:
        return 0;
       case 6:
        return 3;
       case 7:
        return 4;
       default: return 0;
     }
    }
   }
   function string_of_pexp(outer){
    if(typeof outer === "number") return 0 === outer ? cst_Num : cst$0;
    switch(outer[0]){
      case 0:
       var
        e = outer[1],
        _aN_ = string_of_pexp(e),
        _aO_ = caml_call2(Core[18], _aN_, cst$1);
       return caml_call2(Core[18], cst$2, _aO_);
      case 1:
       var
        t2 = outer[2],
        t1 = outer[1],
        _aP_ = paren(t2, outer, 1),
        _aQ_ = caml_call2(Core[18], cst$3, _aP_),
        _aR_ = paren(t1, outer, 0);
       return caml_call2(Core[18], _aR_, _aQ_);
      case 2:
       var x = outer[1]; return x;
      case 3:
       var
        e$0 = outer[2],
        x$0 = outer[1],
        _aS_ = string_of_pexp(e$0),
        _aT_ = caml_call2(Core[18], _aS_, cst$4),
        _aU_ = caml_call2(Core[18], cst$5, _aT_),
        _aV_ = caml_call2(Core[18], x$0, _aU_);
       return caml_call2(Core[18], cst_fun, _aV_);
      case 4:
       var
        e2 = outer[2],
        e1 = outer[1],
        _aW_ = paren(e2, outer, 1),
        _aX_ = caml_call2(Core[18], cst$6, _aW_),
        _aY_ = paren(e1, outer, 0);
       return caml_call2(Core[18], _aY_, _aX_);
      case 5:
       var n = outer[1]; return caml_call1(Core[22], n);
      case 6:
       var
        e2$0 = outer[2],
        e1$0 = outer[1],
        _aZ_ = paren(e2$0, outer, 1),
        _a0_ = caml_call2(Core[18], cst$7, _aZ_),
        _a1_ = paren(e1$0, outer, 0);
       return caml_call2(Core[18], _a1_, _a0_);
      case 7:
       var
        t = outer[2],
        e$1 = outer[1],
        _a2_ = paren(t, outer, 1),
        _a3_ = caml_call2(Core[18], cst$8, _a2_),
        _a4_ = paren(e$1, outer, 0);
       return caml_call2(Core[18], _a4_, _a3_);
      default:
       var
        e$2 = outer[1],
        _a5_ = string_of_pexp(e$2),
        _a6_ = caml_call2(Core[18], _a5_, cst$9);
       return caml_call2(Core[18], cst$10, _a6_);
    }
   }
   function paren(inner, outer, side){
    var
     unparenned = string_of_pexp(inner),
     _aM_ = caml_call2(Core[18], unparenned, cst$11),
     parenned = caml_call2(Core[18], cst$12, _aM_),
     prec_inner = prec(inner),
     prec_outer = prec(outer);
    if(caml_call2(Core[92], prec_inner, prec_outer)) return unparenned;
    if(caml_call2(Core[91], prec_inner, prec_outer)) return parenned;
    var param = inner;
    for(;;){
     if(typeof param === "number")
      var match = 0 === param ? 2 : 2;
     else
      switch(param[0]){
        case 0:
         var e = param[1]; param = e; continue;
        case 1:
         var match = 1; break;
        case 2:
         var match = 2; break;
        case 3:
         var match = 2; break;
        case 4:
         var match = 0; break;
        case 5:
         var match = 2; break;
        case 6:
         var match = 0; break;
        case 7:
         var match = 0; break;
        default: var match = 2;
      }
     a:
     {
      switch(match){
        case 0:
         if(1 === side) break a; break;
        case 1:
         if(! side) break a; break;
      }
      return unparenned;
     }
     return parenned;
    }
   }
   function state_of_sexp(sexp_002){
    if(0 === sexp_002[0])
     return caml_call2
             (Sexplib0_Sexp_conv_error[16], error_source_027, sexp_002);
    var
     field_sexps_003 = sexp_002[1],
     e_004 = [0, 0],
     t_006 = [0, 0],
     warning_008 = [0, 0],
     var_input_010 = [0, 0],
     lam_input_012 = [0, 0],
     lit_input_014 = [0, 0],
     duplicates_016 = [0, 0],
     extra_017 = [0, 0];
    a:
    {
     b:
     c:
     d:
     {
      e:
      {
       var param = field_sexps_003;
       for(;;){
        if(! param) break;
        var sexp_002$0 = param[1];
        if(1 !== sexp_002$0[0]) break b;
        var _aF_ = sexp_002$0[1];
        if(! _aF_) break c;
        var _aG_ = _aF_[1];
        if(0 !== _aG_[0]) break e;
        var field_sexps_020 = _aF_[2], field_name_018 = _aG_[1];
        if(field_sexps_020 && field_sexps_020[2]) break d;
        var tail_029 = param[2];
        let field_sexps_020$0 = field_sexps_020;
        var
         field_sexp_019 =
           function(param){
            if(! field_sexps_020$0)
             return caml_call2
                     (Sexplib0_Sexp_conv_error[10], error_source_027, sexp_002);
            if(field_sexps_020$0[2])
             throw caml_maybe_attach_backtrace([0, Assert_failure, _b_], 1);
            var x_030 = field_sexps_020$0[1];
            return x_030;
           };
        if(field_name_018 !== cst_e$0)
         if(field_name_018 !== cst_lam_input$0)
          if(field_name_018 !== cst_lit_input$0)
           if(field_name_018 !== cst_t$0)
            if(field_name_018 !== cst_var_input$0)
             if(field_name_018 !== cst_warning$0){
              if(Sexplib0_Sexp_conv[26][1])
               extra_017[1] = [0, field_name_018, extra_017[1]];
             }
             else if(warning_008[1])
              duplicates_016[1] = [0, field_name_018, duplicates_016[1]];
             else{
              var
               field_sexp_019$0 = field_sexp_019(0),
               fvalue_024 = caml_call2(Core[455], Core[472], field_sexp_019$0);
              warning_008[1] = [0, fvalue_024];
             }
            else if(var_input_010[1])
             duplicates_016[1] = [0, field_name_018, duplicates_016[1]];
            else{
             var
              field_sexp_019$1 = field_sexp_019(0),
              fvalue_023 = caml_call1(Core[472], field_sexp_019$1);
             var_input_010[1] = [0, fvalue_023];
            }
           else if(t_006[1])
            duplicates_016[1] = [0, field_name_018, duplicates_016[1]];
           else{
            var
             field_sexp_019$2 = field_sexp_019(0),
             fvalue_025 =
               caml_call1(Hazelnut_lib_Hazelnut[1][1], field_sexp_019$2);
            t_006[1] = [0, fvalue_025];
           }
          else if(lit_input_014[1])
           duplicates_016[1] = [0, field_name_018, duplicates_016[1]];
          else{
           var
            field_sexp_019$3 = field_sexp_019(0),
            fvalue_021 = caml_call1(Core[472], field_sexp_019$3);
           lit_input_014[1] = [0, fvalue_021];
          }
         else if(lam_input_012[1])
          duplicates_016[1] = [0, field_name_018, duplicates_016[1]];
         else{
          var
           field_sexp_019$4 = field_sexp_019(0),
           fvalue_022 = caml_call1(Core[472], field_sexp_019$4);
          lam_input_012[1] = [0, fvalue_022];
         }
        else if(e_004[1])
         duplicates_016[1] = [0, field_name_018, duplicates_016[1]];
        else{
         var
          field_sexp_019$5 = field_sexp_019(0),
          fvalue_026 =
            caml_call1(Hazelnut_lib_Hazelnut[4][1], field_sexp_019$5);
         e_004[1] = [0, fvalue_026];
        }
        param = tail_029;
       }
       break a;
      }
      break c;
     }
     caml_call2(Sexplib0_Sexp_conv_error[10], error_source_027, sexp_002$0);
    }
    if(duplicates_016[1])
     return caml_call3
             (Sexplib0_Sexp_conv_error[12],
              error_source_027,
              duplicates_016[1],
              sexp_002);
    if(extra_017[1])
     return caml_call3
             (Sexplib0_Sexp_conv_error[13],
              error_source_027,
              extra_017[1],
              sexp_002);
    var
     _aH_ = e_004[1],
     _aI_ = t_006[1],
     _aJ_ = warning_008[1],
     _aK_ = var_input_010[1],
     _aL_ = lam_input_012[1],
     match = lit_input_014[1];
    if(_aH_ && _aI_ && _aJ_ && _aK_ && _aL_ && match){
     var
      lit_input_015 = match[1],
      lam_input_013 = _aL_[1],
      var_input_011 = _aK_[1],
      warning_009 = _aJ_[1],
      t_007 = _aI_[1],
      e_005 = _aH_[1];
     return [0,
             e_005,
             t_007,
             warning_009,
             var_input_011,
             lam_input_013,
             lit_input_015];
    }
    return caml_call3
            (Sexplib0_Sexp_conv_error[15],
             error_source_027,
             sexp_002,
             [0,
              [0, 0 === e_004[1] ? 1 : 0, cst_e],
              [0,
               [0, 0 === t_006[1] ? 1 : 0, cst_t],
               [0,
                [0, 0 === warning_008[1] ? 1 : 0, cst_warning],
                [0,
                 [0, 0 === var_input_010[1] ? 1 : 0, cst_var_input],
                 [0,
                  [0, 0 === lam_input_012[1] ? 1 : 0, cst_lam_input],
                  [0, [0, 0 === lit_input_014[1] ? 1 : 0, cst_lit_input], 0]]]]]]);
   }
   function t_of_sexp(sexp_049){
    if(0 === sexp_049[0])
     return caml_call2
             (Sexplib0_Sexp_conv_error[16], error_source_059, sexp_049);
    var
     field_sexps_050 = sexp_049[1],
     state_051 = [0, 0],
     duplicates_053 = [0, 0],
     extra_054 = [0, 0],
     param = field_sexps_050;
    for(;;){
     if(param){
      var sexp_049$0 = param[1];
      if(1 === sexp_049$0[0]){
       var _aD_ = sexp_049$0[1];
       a:
       if(_aD_){
        var _aE_ = _aD_[1];
        if(0 === _aE_[0]){
         var field_sexps_057 = _aD_[2], field_name_055 = _aE_[1];
         if(field_sexps_057 && field_sexps_057[2]) break a;
         var tail_061 = param[2];
         if(field_name_055 !== cst_state$0){
          if(Sexplib0_Sexp_conv[26][1])
           extra_054[1] = [0, field_name_055, extra_054[1]];
         }
         else if(state_051[1])
          duplicates_053[1] = [0, field_name_055, duplicates_053[1]];
         else{
          if(field_sexps_057){
           if(field_sexps_057[2])
            throw caml_maybe_attach_backtrace([0, Assert_failure, _i_], 1);
           var x_062 = field_sexps_057[1], field_sexp_056 = x_062;
          }
          else
           var
            field_sexp_056 =
              caml_call2
               (Sexplib0_Sexp_conv_error[10], error_source_059, sexp_049);
          var fvalue_058 = state_of_sexp(field_sexp_056);
          state_051[1] = [0, fvalue_058];
         }
         param = tail_061;
         continue;
        }
       }
      }
      caml_call2(Sexplib0_Sexp_conv_error[10], error_source_059, sexp_049$0);
     }
     if(duplicates_053[1])
      return caml_call3
              (Sexplib0_Sexp_conv_error[12],
               error_source_059,
               duplicates_053[1],
               sexp_049);
     if(extra_054[1])
      return caml_call3
              (Sexplib0_Sexp_conv_error[13],
               error_source_059,
               extra_054[1],
               sexp_049);
     var match = state_051[1];
     if(! match)
      return caml_call3
              (Sexplib0_Sexp_conv_error[15],
               error_source_059,
               sexp_049,
               [0, [0, 0 === state_051[1] ? 1 : 0, cst_state], 0]);
     var state_052 = match[1];
     return [0, state_052];
    }
   }
   function sexp_of_t(param){
    var
     state_064 = param[1],
     lit_input_042 = state_064[6],
     lam_input_040 = state_064[5],
     var_input_038 = state_064[4],
     warning_036 = state_064[3],
     t_034 = state_064[2],
     e_032 = state_064[1],
     arg_043 = caml_call1(Core[471], lit_input_042),
     bnds_031 = [0, [1, [0, _c_, [0, arg_043, 0]]], 0],
     arg_041 = caml_call1(Core[471], lam_input_040),
     bnds_031$0 = [0, [1, [0, _d_, [0, arg_041, 0]]], bnds_031],
     arg_039 = caml_call1(Core[471], var_input_038),
     bnds_031$1 = [0, [1, [0, _e_, [0, arg_039, 0]]], bnds_031$0],
     arg_037 = caml_call2(Core[454], Core[471], warning_036),
     bnds_031$2 = [0, [1, [0, _f_, [0, arg_037, 0]]], bnds_031$1],
     arg_035 = caml_call1(Hazelnut_lib_Hazelnut[1][2], t_034),
     bnds_031$3 = [0, [1, [0, _g_, [0, arg_035, 0]]], bnds_031$2],
     arg_033 = caml_call1(Hazelnut_lib_Hazelnut[4][2], e_032),
     bnds_031$4 = [0, [1, [0, _h_, [0, arg_033, 0]]], bnds_031$3],
     arg_065 = [1, bnds_031$4],
     bnds_063 = [0, [1, [0, _j_, [0, arg_065, 0]]], 0];
    return [1, bnds_063];
   }
   function state(r){return r[1];}
   function cutoff(a_066, b_067){
    var _aB_ = 0;
    if(caml_call2(Ppx_compare_lib[1], a_066, b_067))
     var _aC_ = 0;
    else{
     var b_045 = b_067[1], a_044 = a_066[1];
     if(caml_call2(Ppx_compare_lib[1], a_044, b_045))
      var _aC_ = 0;
     else{
      var n = caml_call2(Hazelnut_lib_Hazelnut[4][3], a_044[1], b_045[1]);
      if(0 === n){
       var n$0 = caml_call2(Hazelnut_lib_Hazelnut[1][3], a_044[2], b_045[2]);
       if(0 === n$0){
        var
         n$1 =
           caml_call3
            (Core[451],
             function(a_046, b_047){
              return caml_call2(Core[467], a_046, b_047);
             },
             a_044[3],
             b_045[3]);
        if(0 === n$1){
         var n$2 = caml_call2(Core[467], a_044[4], b_045[4]);
         if(0 === n$2)
          var
           n$3 = caml_call2(Core[467], a_044[5], b_045[5]),
           _aC_ = 0 === n$3 ? caml_call2(Core[467], a_044[6], b_045[6]) : n$3;
         else
          var _aC_ = n$2;
        }
        else
         var _aC_ = n$1;
       }
       else
        var _aC_ = n$0;
      }
      else
       var _aC_ = n;
     }
    }
    return caml_call2(Core[90], _aC_, _aB_);
   }
   function sexp_of_action(param){
    switch(param[0]){
      case 0:
       var
        arg0_093 = param[1],
        res0_094 = caml_call1(Hazelnut_lib_Hazelnut[8][2], arg0_093);
       return [1, [0, _n_, [0, res0_094, 0]]];
      case 1:
       var arg1_096 = param[2], arg0_095 = param[1];
       switch(arg0_095){
         case 0:
          var res0_097 = _k_; break;
         case 1:
          var res0_097 = _l_; break;
         default: var res0_097 = _m_;
       }
       var res1_098 = caml_call1(Core[471], arg1_096);
       return [1, [0, _o_, [0, res0_097, [0, res1_098, 0]]]];
      default:
       var arg0_099 = param[1], res0_100 = caml_call1(Core[471], arg0_099);
       return [1, [0, _p_, [0, res0_100, 0]]];
    }
   }
   function sexp_of_t$0(x_103){
    return caml_call2(Core[421], sexp_of_action, x_103);
   }
   var
    State = [0],
    _a_ = [0, "Theorem 2 violation (movement erasure invariance)"],
    cst_Unimplemented = "Unimplemented",
    cst_Invalid_action = "Invalid action",
    _q_ = [0, [2, 0, 0], cst_s],
    _r_ = [0, [2, 0, 0], cst_s],
    cst_value = "value",
    cst_text = "text",
    _s_ = [0, [0, [0, 1]]],
    cst_Move_to_Child_2 = "Move to Child 2",
    _t_ = [0, [0, [0, 0]]],
    cst_Move_to_Child_1 = "Move to Child 1",
    _u_ = [0, [0, 0]],
    cst_Move_to_Parent = "Move to Parent",
    _v_ = [0, [1, 5]],
    cst_Construct_NEHole = "Construct NEHole",
    _w_ = [0, [1, 4]],
    cst_Construct_Plus = "Construct Plus",
    _x_ = [2, "Invalid input"],
    cst_Construct_Lit = "Construct Lit",
    _y_ = [0, [1, 3]],
    cst_Construct_Ap = "Construct Ap",
    cst_Construct_Lam = "Construct Lam",
    cst_Construct_Var = "Construct Var",
    _z_ = [0, [1, 2]],
    cst_Construct_Asc = "Construct Asc",
    _A_ = [0, [1, 1]],
    cst_Construct_Num = "Construct Num",
    _B_ = [0, [1, 0]],
    cst_Construct_Arrow = "Construct Arrow",
    _C_ = [0, 0],
    cst_Delete = "Delete",
    _D_ = [0, 1],
    cst_Finish = "Finish";
   function on_startup(param, _aA_){return caml_call1(Async_kernel[19], 0);}
   function create(model, param, inject){
    var
     let_syntax_106 =
       caml_call2
        (Incr_dom_Incr[78][4][6],
         model,
         function(model){
          return function(actions, _ao_, _ap_){
           function f(model, action){
            var state = model[1];
            function warn(warning){
             var
              s =
                [0,
                 state[1],
                 state[2],
                 [0, warning],
                 state[4],
                 state[5],
                 state[6]];
             return [0, s];
            }
            switch(action[0]){
              case 0:
               var action$0 = action[1];
               try{
                var
                 result =
                   caml_call3
                    (Hazelnut_lib_Hazelnut[14],
                     Hazelnut_lib_Hazelnut[9][1],
                     [0, state[1], state[2]],
                     action$0);
                if(result){
                 var
                  match$0 = result[1],
                  t = match$0[2],
                  e$1 = match$0[1],
                  new_state = [0, e$1, t, 0, state[4], state[5], state[6]],
                  t$0 = state[2],
                  e$2 = state[1];
                 try{
                  var
                   e = caml_call1(Hazelnut_lib_Hazelnut[11], e$2),
                   e$0 = caml_call1(Hazelnut_lib_Hazelnut[11], e$1),
                   match =
                     caml_call2
                      (Hazelnut_lib_Hazelnut[12],
                       Hazelnut_lib_Hazelnut[9][1],
                       e$0);
                  if(match)
                   var
                    syn_t = match[1],
                    _ar_ = caml_call2(Hazelnut_lib_Hazelnut[1][3], t, syn_t),
                    _as_ = caml_call2(Core[90], _ar_, 0) ? 0 : warning,
                    theorem_1 = _as_;
                  else
                   var theorem_1 = warning;
                  a:
                  {
                   if(typeof action$0 !== "number" && 0 === action$0[0]){
                    var _at_ = caml_call2(Hazelnut_lib_Hazelnut[2][3], e, e$0);
                    if(caml_call2(Core[90], _at_, 0)){
                     var _au_ = caml_call2(Hazelnut_lib_Hazelnut[1][3], t$0, t);
                     if(caml_call2(Core[90], _au_, 0)){var theorem_2 = 0; break a;}
                    }
                    var theorem_2 = _a_;
                    break a;
                   }
                   var theorem_2 = 0;
                  }
                  a:
                  {
                   if(theorem_1)
                    var warning$0 = theorem_1;
                   else{
                    if(! theorem_2){var warning$1 = 0; break a;}
                    var warning$0 = theorem_2;
                   }
                   var warning$1 = warning$0;
                  }
                  var violation = warning$1;
                 }
                 catch(_az_){
                  var _aq_ = caml_wrap_exception(_az_);
                  if(_aq_ !== Hazelnut_lib_Hazelnut[10])
                   throw caml_maybe_attach_backtrace(_aq_, 0);
                  var violation = 0;
                 }
                 if(violation)
                  var
                   s =
                     [0,
                      new_state[1],
                      new_state[2],
                      violation,
                      new_state[4],
                      new_state[5],
                      new_state[6]],
                   _aw_ = [0, s];
                 else
                  var _aw_ = [0, new_state];
                 var _ax_ = _aw_;
                }
                else
                 var _ax_ = warn(cst_Invalid_action);
                return _ax_;
               }
               catch(_ay_){
                var _av_ = caml_wrap_exception(_ay_);
                if(_av_ === Hazelnut_lib_Hazelnut[10])
                 return warn(cst_Unimplemented);
                throw caml_maybe_attach_backtrace(_av_, 0);
               }
              case 1:
               switch(action[1]){
                 case 0:
                  var
                   var_input = action[2],
                   s$0 =
                     [0,
                      state[1],
                      state[2],
                      state[3],
                      var_input,
                      state[5],
                      state[6]];
                  return [0, s$0];
                 case 1:
                  var
                   lam_input = action[2],
                   s$1 =
                     [0,
                      state[1],
                      state[2],
                      state[3],
                      state[4],
                      lam_input,
                      state[6]];
                  return [0, s$1];
                 default:
                  var
                   lit_input = action[2],
                   s$2 =
                     [0,
                      state[1],
                      state[2],
                      state[3],
                      state[4],
                      state[5],
                      lit_input];
                  return [0, s$2];
               }
              default:
               var
                warning$2 = action[1],
                s$3 =
                  [0,
                   state[1],
                   state[2],
                   [0, warning$2],
                   state[4],
                   state[5],
                   state[6]];
               return [0, s$3];
            }
           }
           return caml_call3(Core_List[87], actions, model, f);};
         }),
     _E_ = caml_call2(Incr_dom_Incr[78][2], model, state),
     _F_ =
       caml_call2
        (Incr_dom_Incr[78][4][6],
         _E_,
         function(state){
          var
           _I_ = string_of_pexp(pexp_of_htyp(state[2])),
           _J_ = [0, caml_call2(Virtual_dom_Node[6], _q_, _I_), 0],
           _K_ = [0, caml_call3(Virtual_dom_Node[29], 0, 0, _J_), 0],
           _L_ = string_of_pexp(pexp_of_zexp(state[1])),
           _M_ = [0, caml_call2(Virtual_dom_Node[6], _r_, _L_), 0],
           _N_ = [0, caml_call3(Virtual_dom_Node[29], 0, 0, _M_), _K_],
           expression = caml_call3(Virtual_dom_Node[11], 0, 0, _N_);
          function button(label, action, input){
           if(input)
            var
             input_location = input[1][1],
             actions = [0, action, [0, [1, input_location, cst$13], 0]];
           else
            var actions = [0, action, 0];
           var
            _ag_ = [0, caml_call1(Virtual_dom_Node[5], label), 0],
            _ah_ =
              [0,
               caml_call1
                (Virtual_dom_Vdom[1][47],
                 function(ev){return caml_call1(inject, actions);}),
               0],
            _ai_ = [0, caml_call1(Virtual_dom_Vdom[1][9], _ah_)],
            button_node = caml_call3(Virtual_dom_Node[9], 0, _ai_, _ag_),
            input_node =
              caml_call2
               (Monad_lib_Monad[2],
                input,
                function(param){
                 var
                  input_value = param[2],
                  input_location = param[1],
                  _ak_ =
                    [0,
                     caml_call1
                      (Virtual_dom_Vdom[1][44],
                       function(ev, text){
                        return caml_call1(inject, [0, [1, input_location, text], 0]);
                       }),
                     0],
                  _al_ =
                    [0,
                     caml_call2(Virtual_dom_Vdom[1][3], cst_value, input_value),
                     _ak_],
                  _am_ =
                    [0, caml_call1(Virtual_dom_Vdom[1][35], cst_text), _al_],
                  _an_ = [0, caml_call1(Virtual_dom_Vdom[1][9], _am_)];
                 return caml_call3(Virtual_dom_Node[23], 0, _an_, 0);
                });
           if(input_node)
            var
             input_node$0 = input_node[1],
             _aj_ = [0, button_node, [0, input_node$0, 0]];
           else
            var _aj_ = [0, button_node, 0];
           return caml_call3(Virtual_dom_Node[11], 0, 0, _aj_);
          }
          var
           _O_ = [0, button(cst_Move_to_Child_2, _s_, 0), 0],
           _P_ = [0, button(cst_Move_to_Child_1, _t_, 0), _O_],
           _Q_ = [0, button(cst_Move_to_Parent, _u_, 0), _P_],
           move_buttons = caml_call3(Virtual_dom_Node[11], 0, 0, _Q_),
           _R_ = [0, button(cst_Construct_NEHole, _v_, 0), 0],
           _S_ = [0, button(cst_Construct_Plus, _w_, 0), _R_],
           _T_ = [0, [0, 2, state[6]]];
          try{
           var
            _ae_ = [0, [1, [2, runtime.caml_int_of_string(state[6])]]],
            _V_ = _ae_;
          }
          catch(_af_){
           var _U_ = caml_wrap_exception(_af_);
           if(_U_[1] !== Stdlib[7]) throw caml_maybe_attach_backtrace(_U_, 0);
           var _V_ = _x_;
          }
          var
           _W_ = [0, button(cst_Construct_Lit, _V_, _T_), _S_],
           _X_ = [0, button(cst_Construct_Ap, _y_, 0), _W_],
           _Y_ =
             [0,
              button
               (cst_Construct_Lam,
                [0, [1, [1, state[5]]]],
                [0, [0, 1, state[5]]]),
              _X_],
           _Z_ =
             [0,
              button
               (cst_Construct_Var,
                [0, [1, [0, state[4]]]],
                [0, [0, 0, state[4]]]),
              _Y_],
           ___ = [0, button(cst_Construct_Asc, _z_, 0), _Z_],
           _$_ = [0, button(cst_Construct_Num, _A_, 0), ___],
           _aa_ = [0, button(cst_Construct_Arrow, _B_, 0), _$_],
           construct_buttons = caml_call3(Virtual_dom_Node[11], 0, 0, _aa_),
           _ab_ = [0, button(cst_Delete, _C_, 0), 0],
           delete_button = caml_call3(Virtual_dom_Node[11], 0, 0, _ab_),
           _ac_ = [0, button(cst_Finish, _D_, 0), 0],
           finish_button = caml_call3(Virtual_dom_Node[11], 0, 0, _ac_),
           buttons =
             caml_call3
              (Virtual_dom_Node[11],
               0,
               0,
               [0,
                move_buttons,
                [0,
                 construct_buttons,
                 [0, delete_button, [0, finish_button, 0]]]]),
           match = state[3];
          if(match)
           var
            warning = match[1],
            _ad_ = [0, caml_call1(Virtual_dom_Node[5], warning), 0];
          else
           var _ad_ = 0;
          var warning$0 = caml_call3(Virtual_dom_Node[29], 0, 0, _ad_);
          return caml_call3
                  (Virtual_dom_Node[11],
                   0,
                   0,
                   [0, expression, [0, buttons, [0, warning$0, 0]]]);
         }),
     let_syntax_107 =
       caml_call2
        (Incr_dom_Incr[78][4][6],
         _F_,
         function(body){
          return caml_call3(Virtual_dom_Node[8], 0, 0, [0, body, 0]);
         }),
     _G_ = caml_call2(Incr_dom_Incr[78][4][21], let_syntax_107, model),
     _H_ = caml_call2(Incr_dom_Incr[78][4][21], let_syntax_106, _G_);
    return caml_call2
            (Incr_dom_Incr[78][4][6],
             _H_,
             function(param){
              var
               match = param[2],
               model = match[2],
               view = match[1],
               apply_action = param[1];
              return caml_call5
                      (Incr_dom_Component[6],
                       [0, apply_action],
                       0,
                       0,
                       model,
                       view);
             });
   }
   var initial_model = [0, s];
   caml_call1(Ppx_inline_test_lib_Runtime[3], cst_app_lib);
   caml_call1(Expect_test_collector[5][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   var
    App_lib_App =
      [0,
       [0, t_of_sexp, sexp_of_t, cutoff],
       [0, sexp_of_t$0],
       State,
       on_startup,
       create,
       initial_model];
   runtime.caml_register_global(140, App_lib_App, "App_lib__App");
   return;
  }
  (globalThis));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLjAsImZpbGUiOiIuYXBwX2xpYi5vYmpzL2pzb28vZGVmYXVsdC9hcHBfbGliLmNtYS5qcyIsInNvdXJjZVJvb3QiOiIiLCJuYW1lcyI6WyJzIiwid2FybmluZyIsImVycm9yX3NvdXJjZV8wMjciLCJlcnJvcl9zb3VyY2VfMDU5IiwicGV4cF9vZl9odHlwIiwidDIiLCJ0MSIsInBleHBfb2ZfaGV4cCIsIngiLCJlIiwieCQwIiwiZTIiLCJlMSIsIm4iLCJlMiQwIiwiZTEkMCIsInQiLCJlJDAiLCJlJDEiLCJwZXhwX29mX3p0eXAiLCJ0MiQwIiwidDEkMCIsInBleHBfb2ZfemV4cCIsImUyJDEiLCJlMSQxIiwiZTIkMiIsImUxJDIiLCJ0JDAiLCJlJDIiLCJlJDMiLCJwcmVjIiwic3RyaW5nX29mX3BleHAiLCJvdXRlciIsInBhcmVuIiwiaW5uZXIiLCJzaWRlIiwidW5wYXJlbm5lZCIsInBhcmVubmVkIiwicHJlY19pbm5lciIsInByZWNfb3V0ZXIiLCJzdGF0ZV9vZl9zZXhwIiwic2V4cF8wMDIiLCJmaWVsZF9zZXhwc18wMDMiLCJlXzAwNCIsInRfMDA2Iiwid2FybmluZ18wMDgiLCJ2YXJfaW5wdXRfMDEwIiwibGFtX2lucHV0XzAxMiIsImxpdF9pbnB1dF8wMTQiLCJkdXBsaWNhdGVzXzAxNiIsImV4dHJhXzAxNyIsInNleHBfMDAyJDAiLCJmaWVsZF9zZXhwc18wMjAiLCJmaWVsZF9uYW1lXzAxOCIsInRhaWxfMDI5IiwiZmllbGRfc2V4cHNfMDIwJDAiLCJmaWVsZF9zZXhwXzAxOSIsInhfMDMwIiwiZmllbGRfc2V4cF8wMTkkMCIsImZ2YWx1ZV8wMjQiLCJmaWVsZF9zZXhwXzAxOSQxIiwiZnZhbHVlXzAyMyIsImZpZWxkX3NleHBfMDE5JDIiLCJmdmFsdWVfMDI1IiwiZmllbGRfc2V4cF8wMTkkMyIsImZ2YWx1ZV8wMjEiLCJmaWVsZF9zZXhwXzAxOSQ0IiwiZnZhbHVlXzAyMiIsImZpZWxkX3NleHBfMDE5JDUiLCJmdmFsdWVfMDI2IiwibGl0X2lucHV0XzAxNSIsImxhbV9pbnB1dF8wMTMiLCJ2YXJfaW5wdXRfMDExIiwid2FybmluZ18wMDkiLCJ0XzAwNyIsImVfMDA1IiwidF9vZl9zZXhwIiwic2V4cF8wNDkiLCJmaWVsZF9zZXhwc18wNTAiLCJzdGF0ZV8wNTEiLCJkdXBsaWNhdGVzXzA1MyIsImV4dHJhXzA1NCIsInNleHBfMDQ5JDAiLCJmaWVsZF9zZXhwc18wNTciLCJmaWVsZF9uYW1lXzA1NSIsInRhaWxfMDYxIiwieF8wNjIiLCJmaWVsZF9zZXhwXzA1NiIsImZ2YWx1ZV8wNTgiLCJzdGF0ZV8wNTIiLCJzZXhwX29mX3QiLCJzdGF0ZV8wNjQiLCJsaXRfaW5wdXRfMDQyIiwibGFtX2lucHV0XzA0MCIsInZhcl9pbnB1dF8wMzgiLCJ3YXJuaW5nXzAzNiIsInRfMDM0IiwiZV8wMzIiLCJhcmdfMDQzIiwiYm5kc18wMzEiLCJhcmdfMDQxIiwiYm5kc18wMzEkMCIsImFyZ18wMzkiLCJibmRzXzAzMSQxIiwiYXJnXzAzNyIsImJuZHNfMDMxJDIiLCJhcmdfMDM1IiwiYm5kc18wMzEkMyIsImFyZ18wMzMiLCJibmRzXzAzMSQ0IiwiYXJnXzA2NSIsImJuZHNfMDYzIiwic3RhdGUiLCJyIiwiY3V0b2ZmIiwiYV8wNjYiLCJiXzA2NyIsImJfMDQ1IiwiYV8wNDQiLCJuJDAiLCJuJDEiLCJhXzA0NiIsImJfMDQ3IiwibiQyIiwibiQzIiwic2V4cF9vZl9hY3Rpb24iLCJhcmcwXzA5MyIsInJlczBfMDk0IiwiYXJnMV8wOTYiLCJhcmcwXzA5NSIsInJlczBfMDk3IiwicmVzMV8wOTgiLCJhcmcwXzA5OSIsInJlczBfMTAwIiwic2V4cF9vZl90JDAiLCJ4XzEwMyIsIm9uX3N0YXJ0dXAiLCJjcmVhdGUiLCJtb2RlbCIsImluamVjdCIsImxldF9zeW50YXhfMTA2IiwiYWN0aW9ucyIsImYiLCJhY3Rpb24iLCJ3YXJuIiwiYWN0aW9uJDAiLCJyZXN1bHQiLCJuZXdfc3RhdGUiLCJzeW5fdCIsInRoZW9yZW1fMSIsInRoZW9yZW1fMiIsIndhcm5pbmckMCIsIndhcm5pbmckMSIsInZpb2xhdGlvbiIsInZhcl9pbnB1dCIsInMkMCIsImxhbV9pbnB1dCIsInMkMSIsImxpdF9pbnB1dCIsInMkMiIsIndhcm5pbmckMiIsInMkMyIsImV4cHJlc3Npb24iLCJidXR0b24iLCJsYWJlbCIsImlucHV0IiwiaW5wdXRfbG9jYXRpb24iLCJldiIsImJ1dHRvbl9ub2RlIiwiaW5wdXRfbm9kZSIsImlucHV0X3ZhbHVlIiwidGV4dCIsImlucHV0X25vZGUkMCIsIm1vdmVfYnV0dG9ucyIsImNvbnN0cnVjdF9idXR0b25zIiwiZGVsZXRlX2J1dHRvbiIsImZpbmlzaF9idXR0b24iLCJidXR0b25zIiwibGV0X3N5bnRheF8xMDciLCJib2R5IiwidmlldyIsImFwcGx5X2FjdGlvbiIsImluaXRpYWxfbW9kZWwiXSwic291cmNlcyI6WyIvVXNlcnMvcnVzc2VsbHJvemVuYmF1bS9Qcm9ncmFtbWluZy9kaXlIYXplbG51dC9fYnVpbGQvZGVmYXVsdC9saWIvYXBwLnJlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0U7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0c7Ozs7O0c7Ozs7O0c7Ozs7O0c7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQWdNYUE7SUFoREhDOztJQW1DVkM7SUFXRUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7WUF6S01DO0lBQ047SUFDMkMsSUFBL0JDLGVBQUpDLGVBQW1DLE9BRnJDRixhQUVNQztJQUFPLFdBRmJELGFBRUVFO0dBRU87WUFFVEM7SUFDTiw4QkFPVzs7O1dBTkxDLGNBQU0sV0FBTkE7O1dBQ0dDLGNBQUhDLGdCQUFTLFdBQVRBLEtBSEFILGFBR0dFOztPQUM0QixJQUE1QkUsZUFBSkMsZUFBZ0MsT0FKL0JMLGFBSUdJO09BQU8sV0FKVkosYUFJREs7O1dBQ0NDLGNBQU0sV0FBTkE7O09BQ21DLElBQTlCQyxpQkFBSkMsaUJBQWtDLE9BTm5DUixhQU1LTztPQUFPLFdBTlpQLGFBTUNROztPQUM2QixJQUEzQkMsY0FBSEMs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ZG9tO1xub3BlbiBNb25hZF9saWIuTW9uYWQ7XG5tb2R1bGUgSGF6ZWxudXQgPSBIYXplbG51dF9saWIuSGF6ZWxudXQ7XG5cbi8vIEEgY29tYmluYXRpb24gb2YgYWxsIEhhemVsbnV0IHR5cGVzIGZvciBwdXJwb3NlcyBvZiBwcmludGluZ1xubW9kdWxlIFBleHAgPSB7XG4gIHR5cGUgdCA9XG4gICAgfCBDdXJzb3IodClcbiAgICB8IEFycm93KHQsIHQpXG4gICAgfCBOdW1cbiAgICB8IFZhcihzdHJpbmcpXG4gICAgfCBMYW0oc3RyaW5nLCB0KVxuICAgIHwgQXAodCwgdClcbiAgICB8IExpdChpbnQpXG4gICAgfCBQbHVzKHQsIHQpXG4gICAgfCBBc2ModCwgdClcbiAgICB8IEVIb2xlXG4gICAgfCBORUhvbGUodCk7XG59O1xuXG5sZXQgcmVjIHBleHBfb2ZfaHR5cDogSGF6ZWxudXQuSHR5cC50ID0+IFBleHAudCA9XG4gIGZ1blxuICB8IEFycm93KHQxLCB0MikgPT4gQXJyb3cocGV4cF9vZl9odHlwKHQxKSwgcGV4cF9vZl9odHlwKHQyKSlcbiAgfCBOdW0gPT4gTnVtXG4gIHwgSG9sZSA9PiBFSG9sZTtcblxubGV0IHJlYyBwZXhwX29mX2hleHA6IEhhemVsbnV0LkhleHAudCA9PiBQZXhwLnQgPVxuICBmdW5cbiAgfCBWYXIoeCkgPT4gVmFyKHgpXG4gIHwgTGFtKHgsIGUpID0+IExhbSh4LCBwZXhwX29mX2hleHAoZSkpXG4gIHwgQXAoZTEsIGUyKSA9PiBBcChwZXhwX29mX2hleHAoZTEpLCBwZXhwX29mX2hleHAoZTIpKVxuICB8IExpdChuKSA9PiBMaXQobilcbiAgfCBQbHVzKGUxLCBlMikgPT4gUGx1cyhwZXhwX29mX2hleHAoZTEpLCBwZXhwX29mX2hleHAoZTIpKVxuICB8IEFzYyhlLCB0KSA9PiBBc2MocGV4cF9vZl9oZXhwKGUpLCBwZXhwX29mX2h0eXAodCkpXG4gIHwgRUhvbGUgPT4gRUhvbGVcbiAgfCBORUhvbGUoZSkgPT4gTkVIb2xlKHBleHBfb2ZfaGV4cChlKSk7XG5cbmxldCByZWMgcGV4cF9vZl96dHlwOiBIYXplbG51dC5adHlwLnQgPT4gUGV4cC50ID1cbiAgZnVuXG4gIHwgQ3Vyc29yKHQpID0+IEN1cnNvcihwZXhwX29mX2h0eXAodCkpXG4gIHwgTEFycm93KHQxLCB0MikgPT4gQXJyb3cocGV4cF9vZl96dHlwKHQxKSwgcGV4cF9vZl9odHlwKHQyKSlcbiAgfCBSQXJyb3codDEsIHQyKSA9PiBBcnJvdyhwZXhwX29mX2h0eXAodDEpLCBwZXhwX29mX3p0eXAodDIpKTtcblxubGV0IHJlYyBwZXhwX29mX3pleHA6IEhhemVsbnV0LlpleHAudCA9PiBQZXhwLnQgPVxuICBmdW5cbiAgfCBDdXJzb3IoZSkgPT4gQ3Vyc29yKHBleHBfb2ZfaGV4cChlKSlcbiAgfCBMYW0oeCwgZSkgPT4gTGFtKHgsIHBleHBfb2ZfemV4cChlKSlcbiAgfCBMQXAoZTEsIGUyKSA9PiBBcChwZXhwX29mX3pleHAoZTEpLCBwZXhwX29mX2hleHAoZTIpKVxuICB8IFJBcChlMSwgZTIpID0+IEFwKHBleHBfb2ZfaGV4cChlMSksIHBleHBfb2ZfemV4cChlMikpXG4gIHwgTFBsdXMoZTEsIGUyKSA9PiBQbHVzKHBleHBfb2ZfemV4cChlMSksIHBleHBfb2ZfaGV4cChlMikpXG4gIHwgUlBsdXMoZTEsIGUyKSA9PiBQbHVzKHBleHBfb2ZfaGV4cChlMSksIHBleHBfb2ZfemV4cChlMikpXG4gIHwgTEFzYyhlLCB0KSA9PiBBc2MocGV4cF9vZl96ZXhwKGUpLCBwZXhwX29mX2h0eXAodCkpXG4gIHwgUkFzYyhlLCB0KSA9PiBBc2MocGV4cF9vZl9oZXhwKGUpLCBwZXhwX29mX3p0eXAodCkpXG4gIHwgTkVIb2xlKGUpID0+IE5FSG9sZShwZXhwX29mX3pleHAoZSkpO1xuXG4vLyBMb3dlciBpcyB0aWdodGVyXG5sZXQgcmVjIHByZWM6IFBleHAudCA9PiBpbnQgPVxuICBmdW5cbiAgfCBDdXJzb3IoZSkgPT4gcHJlYyhlKVxuICB8IEFycm93KF8pID0+IDFcbiAgfCBOdW0gPT4gMFxuICB8IFZhcihfKSA9PiAwXG4gIHwgTGFtKF8pID0+IDBcbiAgfCBBcChfKSA9PiAyXG4gIHwgTGl0KF8pID0+IDBcbiAgfCBQbHVzKF8pID0+IDNcbiAgfCBBc2MoXykgPT4gNFxuICB8IEVIb2xlID0+IDBcbiAgfCBORUhvbGUoXykgPT4gMDtcblxubW9kdWxlIFNpZGUgPSB7XG4gIHR5cGUgdCA9XG4gICAgfCBMZWZ0XG4gICAgfCBSaWdodFxuICAgIHwgQXRvbTtcbn07XG5cbmxldCByZWMgYXNzb2M6IFBleHAudCA9PiBTaWRlLnQgPVxuICBmdW5cbiAgfCBDdXJzb3IoZSkgPT4gYXNzb2MoZSlcbiAgfCBBcnJvdyhfKSA9PiBSaWdodFxuICB8IE51bSA9PiBBdG9tXG4gIHwgVmFyKF8pID0+IEF0b21cbiAgfCBMYW0oXykgPT4gQXRvbVxuICB8IEFwKF8pID0+IExlZnRcbiAgfCBMaXQoXykgPT4gQXRvbVxuICB8IFBsdXMoXykgPT4gTGVmdFxuICB8IEFzYyhfKSA9PiBMZWZ0XG4gIHwgRUhvbGUgPT4gQXRvbVxuICB8IE5FSG9sZShfKSA9PiBBdG9tO1xuXG5sZXQgcmVjIHN0cmluZ19vZl9wZXhwOiBQZXhwLnQgPT4gc3RyaW5nID1cbiAgZnVuXG4gIHwgQ3Vyc29yKGUpID0+IFwi8J+RiVwiICsrIHN0cmluZ19vZl9wZXhwKGUpICsrIFwi8J+RiFwiXG4gIHwgQXJyb3codDEsIHQyKSBhcyBvdXRlciA9PlxuICAgIHBhcmVuKHQxLCBvdXRlciwgU2lkZS5MZWZ0KSArKyBcIiAtPiBcIiArKyBwYXJlbih0Miwgb3V0ZXIsIFNpZGUuUmlnaHQpXG4gIHwgTnVtID0+IFwiTnVtXCJcbiAgfCBWYXIoeCkgPT4geFxuICB8IExhbSh4LCBlKSA9PiBcImZ1biBcIiArKyB4ICsrIFwiIC0+IHsgXCIgKysgc3RyaW5nX29mX3BleHAoZSkgKysgXCIgfVwiXG4gIHwgQXAoZTEsIGUyKSBhcyBvdXRlciA9PlxuICAgIHBhcmVuKGUxLCBvdXRlciwgU2lkZS5MZWZ0KSArKyBcIiBcIiArKyBwYXJlbihlMiwgb3V0ZXIsIFNpZGUuUmlnaHQpXG4gIHwgTGl0KG4pID0+IHN0cmluZ19vZl9pbnQobilcbiAgfCBQbHVzKGUxLCBlMikgYXMgb3V0ZXIgPT5cbiAgICBwYXJlbihlMSwgb3V0ZXIsIFNpZGUuTGVmdCkgKysgXCIgKyBcIiArKyBwYXJlbihlMiwgb3V0ZXIsIFNpZGUuUmlnaHQpXG4gIHwgQXNjKGUsIHQpIGFzIG91dGVyID0+XG4gICAgcGFyZW4oZSwgb3V0ZXIsIFNpZGUuTGVmdCkgKysgXCI6IFwiICsrIHBhcmVuKHQsIG91dGVyLCBTaWRlLlJpZ2h0KVxuICB8IEVIb2xlID0+IFwiWyBdXCJcbiAgfCBORUhvbGUoZSkgPT4gXCJbIFwiICsrIHN0cmluZ19vZl9wZXhwKGUpICsrIFwiIF1cIlxuXG5hbmQgcGFyZW4gPSAoaW5uZXI6IFBleHAudCwgb3V0ZXI6IFBleHAudCwgc2lkZTogU2lkZS50KTogc3RyaW5nID0+IHtcbiAgbGV0IHVucGFyZW5uZWQgPSBzdHJpbmdfb2ZfcGV4cChpbm5lcik7XG4gIGxldCBwYXJlbm5lZCA9IFwiKFwiICsrIHVucGFyZW5uZWQgKysgXCIpXCI7XG5cbiAgbGV0IHByZWNfaW5uZXIgPSBwcmVjKGlubmVyKTtcbiAgbGV0IHByZWNfb3V0ZXIgPSBwcmVjKG91dGVyKTtcblxuICBpZiAocHJlY19pbm5lciA8IHByZWNfb3V0ZXIpIHtcbiAgICB1bnBhcmVubmVkO1xuICB9IGVsc2UgaWYgKHByZWNfaW5uZXIgPiBwcmVjX291dGVyKSB7XG4gICAgcGFyZW5uZWQ7XG4gIH0gZWxzZSB7XG4gICAgc3dpdGNoIChhc3NvYyhpbm5lciksIHNpZGUpIHtcbiAgICB8IChTaWRlLkxlZnQsIFNpZGUuUmlnaHQpXG4gICAgfCAoU2lkZS5SaWdodCwgU2lkZS5MZWZ0KSA9PiBwYXJlbm5lZFxuICAgIHwgXyA9PiB1bnBhcmVubmVkXG4gICAgfTtcbiAgfTtcbn07XG5cbmxldCBjaGVja19mb3JfdGhlb3JlbV92aW9sYXRpb24gPVxuICAgIChcbiAgICAgIGE6IEhhemVsbnV0LkFjdGlvbi50LFxuICAgICAgZTogSGF6ZWxudXQuWmV4cC50LFxuICAgICAgdDogSGF6ZWxudXQuSHR5cC50LFxuICAgICAgZSc6IEhhemVsbnV0LlpleHAudCxcbiAgICAgIHQnOiBIYXplbG51dC5IdHlwLnQsXG4gICAgKVxuICAgIDogb3B0aW9uKHN0cmluZykgPT5cbiAgdHJ5KHtcbiAgICBsZXQgZSA9IEhhemVsbnV0LmVyYXNlX2V4cChlKTtcbiAgICBsZXQgZScgPSBIYXplbG51dC5lcmFzZV9leHAoZScpO1xuXG4gICAgbGV0IHRoZW9yZW1fMSA9IHtcbiAgICAgIGxldCB3YXJuaW5nID0gU29tZShcIlRoZW9yZW0gMSB2aW9sYXRpb24gKEFjdGlvbiBzZW5zaWJpbGl0eSlcIik7XG5cbiAgICAgIHN3aXRjaCAoSGF6ZWxudXQuc3luKEhhemVsbnV0LlR5cEN0eC5lbXB0eSwgZScpKSB7XG4gICAgICB8IFNvbWUoc3luX3QnKSA9PlxuICAgICAgICBpZiAoSGF6ZWxudXQuSHR5cC5jb21wYXJlKHQnLCBzeW5fdCcpID09IDApIHtcbiAgICAgICAgICBOb25lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdhcm5pbmc7XG4gICAgICAgIH1cbiAgICAgIHwgTm9uZSA9PiB3YXJuaW5nXG4gICAgICB9O1xuICAgIH07XG5cbiAgICBsZXQgdGhlb3JlbV8yID1cbiAgICAgIHN3aXRjaCAoYSkge1xuICAgICAgfCBNb3ZlKF8pID0+XG4gICAgICAgIGlmIChIYXplbG51dC5IZXhwLmNvbXBhcmUoZSwgZScpID09IDBcbiAgICAgICAgICAgICYmIEhhemVsbnV0Lkh0eXAuY29tcGFyZSh0LCB0JykgPT0gMCkge1xuICAgICAgICAgIE5vbmU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgU29tZShcIlRoZW9yZW0gMiB2aW9sYXRpb24gKG1vdmVtZW50IGVyYXN1cmUgaW52YXJpYW5jZSlcIik7XG4gICAgICAgIH1cbiAgICAgIHwgXyA9PiBOb25lXG4gICAgICB9O1xuXG4gICAgc3dpdGNoICh0aGVvcmVtXzEsIHRoZW9yZW1fMikge1xuICAgIHwgKFNvbWUoXykgYXMgd2FybmluZywgXylcbiAgICB8IChfLCBTb21lKF8pIGFzIHdhcm5pbmcpID0+IHdhcm5pbmdcbiAgICB8IChOb25lLCBOb25lKSA9PiBOb25lXG4gICAgfTtcbiAgfSkge1xuICB8IEhhemVsbnV0LlVuaW1wbGVtZW50ZWQgPT4gTm9uZVxuICB9O1xuXG5bQGRlcml2aW5nIChzZXhwLCBmaWVsZHMsIGNvbXBhcmUpXVxudHlwZSBzdGF0ZSA9IHtcbiAgZTogSGF6ZWxudXQuWmV4cC50LFxuICB0OiBIYXplbG51dC5IdHlwLnQsXG4gIHdhcm5pbmc6IG9wdGlvbihzdHJpbmcpLFxuICB2YXJfaW5wdXQ6IHN0cmluZyxcbiAgbGFtX2lucHV0OiBzdHJpbmcsXG4gIGxpdF9pbnB1dDogc3RyaW5nLFxufTtcblxubW9kdWxlIE1vZGVsID0ge1xuICBbQGRlcml2aW5nIChzZXhwLCBmaWVsZHMsIGNvbXBhcmUpXVxuICB0eXBlIHQgPSB7c3RhdGV9O1xuXG4gIGxldCBzZXQgPSAoczogc3RhdGUpOiB0ID0+IHtzdGF0ZTogc307XG5cbiAgbGV0IGluaXQgPSAoKTogdCA9PlxuICAgIHNldCh7XG4gICAgICBlOiBDdXJzb3IoRUhvbGUpLFxuICAgICAgdDogSG9sZSxcbiAgICAgIHdhcm5pbmc6IE5vbmUsXG4gICAgICB2YXJfaW5wdXQ6IFwiXCIsXG4gICAgICBsYW1faW5wdXQ6IFwiXCIsXG4gICAgICBsaXRfaW5wdXQ6IFwiXCIsXG4gICAgfSk7XG5cbiAgbGV0IGN1dG9mZiA9ICh0MTogdCwgdDI6IHQpOiBib29sID0+IGNvbXBhcmUodDEsIHQyKSA9PSAwO1xufTtcblxubW9kdWxlIEFjdGlvbiA9IHtcbiAgW0BkZXJpdmluZyBzZXhwXVxuICB0eXBlIGlucHV0X2xvY2F0aW9uID1cbiAgICB8IFZhclxuICAgIHwgTGFtXG4gICAgfCBMaXQ7XG5cbiAgW0BkZXJpdmluZyBzZXhwXVxuICB0eXBlIGFjdGlvbiA9XG4gICAgfCBIYXplbG51dEFjdGlvbihIYXplbG51dC5BY3Rpb24udClcbiAgICB8IFVwZGF0ZUlucHV0KGlucHV0X2xvY2F0aW9uLCBzdHJpbmcpXG4gICAgfCBTaG93V2FybmluZyhzdHJpbmcpO1xuXG4gIFtAZGVyaXZpbmcgc2V4cF1cbiAgdHlwZSB0ID0gbGlzdChhY3Rpb24pO1xufTtcblxubW9kdWxlIFN0YXRlID0ge1xuICB0eXBlIHQgPSB1bml0O1xufTtcblxubGV0IGFwcGx5X2FjdGlvbiA9XG4gICAgKG1vZGVsOiBNb2RlbC50LCBhY3Rpb25zOiBBY3Rpb24udCwgXywgfnNjaGVkdWxlX2FjdGlvbiBhcyBfKTogTW9kZWwudCA9PiB7XG4gIGxldCBmID0gKG1vZGVsOiBNb2RlbC50LCBhY3Rpb246IEFjdGlvbi5hY3Rpb24pOiBNb2RlbC50ID0+IHtcbiAgICBsZXQgc3RhdGUgPSBtb2RlbC5zdGF0ZTtcblxuICAgIGxldCB3YXJuID0gKHdhcm5pbmc6IHN0cmluZyk6IE1vZGVsLnQgPT5cbiAgICAgIE1vZGVsLnNldCh7Li4uc3RhdGUsIHdhcm5pbmc6IFNvbWUod2FybmluZyl9KTtcblxuICAgIHN3aXRjaCAoYWN0aW9uKSB7XG4gICAgfCBIYXplbG51dEFjdGlvbihhY3Rpb24pID0+XG4gICAgICB0cnkoe1xuICAgICAgICBsZXQgcmVzdWx0ID1cbiAgICAgICAgICBIYXplbG51dC5zeW5fYWN0aW9uKFxuICAgICAgICAgICAgSGF6ZWxudXQuVHlwQ3R4LmVtcHR5LFxuICAgICAgICAgICAgKHN0YXRlLmUsIHN0YXRlLnQpLFxuICAgICAgICAgICAgYWN0aW9uLFxuICAgICAgICAgICk7XG5cbiAgICAgICAgc3dpdGNoIChyZXN1bHQpIHtcbiAgICAgICAgfCBTb21lKChlLCB0KSkgPT5cbiAgICAgICAgICBsZXQgbmV3X3N0YXRlID0gey4uLnN0YXRlLCBlLCB0LCB3YXJuaW5nOiBOb25lfTtcblxuICAgICAgICAgIGxldCB2aW9sYXRpb24gPVxuICAgICAgICAgICAgY2hlY2tfZm9yX3RoZW9yZW1fdmlvbGF0aW9uKGFjdGlvbiwgc3RhdGUuZSwgc3RhdGUudCwgZSwgdCk7XG5cbiAgICAgICAgICBzd2l0Y2ggKHZpb2xhdGlvbikge1xuICAgICAgICAgIHwgU29tZShfKSBhcyB3YXJuaW5nID0+IE1vZGVsLnNldCh7Li4ubmV3X3N0YXRlLCB3YXJuaW5nfSlcbiAgICAgICAgICB8IE5vbmUgPT4gTW9kZWwuc2V0KG5ld19zdGF0ZSlcbiAgICAgICAgICB9O1xuICAgICAgICB8IE5vbmUgPT4gd2FybihcIkludmFsaWQgYWN0aW9uXCIpXG4gICAgICAgIH07XG4gICAgICB9KSB7XG4gICAgICB8IEhhemVsbnV0LlVuaW1wbGVtZW50ZWQgPT4gd2FybihcIlVuaW1wbGVtZW50ZWRcIilcbiAgICAgIH1cbiAgICB8IFVwZGF0ZUlucHV0KFZhciwgdmFyX2lucHV0KSA9PiBNb2RlbC5zZXQoey4uLnN0YXRlLCB2YXJfaW5wdXR9KVxuICAgIHwgVXBkYXRlSW5wdXQoTGFtLCBsYW1faW5wdXQpID0+IE1vZGVsLnNldCh7Li4uc3RhdGUsIGxhbV9pbnB1dH0pXG4gICAgfCBVcGRhdGVJbnB1dChMaXQsIGxpdF9pbnB1dCkgPT4gTW9kZWwuc2V0KHsuLi5zdGF0ZSwgbGl0X2lucHV0fSlcbiAgICB8IFNob3dXYXJuaW5nKHdhcm5pbmcpID0+IE1vZGVsLnNldCh7Li4uc3RhdGUsIHdhcm5pbmc6IFNvbWUod2FybmluZyl9KVxuICAgIH07XG4gIH07XG5cbiAgTGlzdC5mb2xkX2xlZnQoYWN0aW9ucywgfmluaXQ9bW9kZWwsIH5mKTtcbn07XG5cbmxldCBvbl9zdGFydHVwID0gKH5zY2hlZHVsZV9hY3Rpb24gYXMgXywgXykgPT4gQXN5bmNfa2VybmVsLnJldHVybigpO1xuXG5sZXQgdmlldyA9XG4gICAgKG06IEluY3IudChNb2RlbC50KSwgfmluamVjdDogQWN0aW9uLnQgPT4gVWlfZWZmZWN0LnQoQmFzZS51bml0KSlcbiAgICA6IFVpX2luY3IudChWZG9tLk5vZGUudCkgPT4ge1xuICBvcGVuIEluY3IuTGV0X3N5bnRheDtcbiAgb3BlbiBWZG9tO1xuXG4gIGxldCVtYXAgYm9keSA9IHtcbiAgICBsZXQlbWFwIHN0YXRlID0gbSA+PnwgTW9kZWwuc3RhdGU7XG5cbiAgICBsZXQgZXhwcmVzc2lvbiA9XG4gICAgICBOb2RlLmRpdihbXG4gICAgICAgIE5vZGUucChbTm9kZS50ZXh0ZihcIiVzXCIsIHN0cmluZ19vZl9wZXhwKHBleHBfb2ZfemV4cChzdGF0ZS5lKSkpXSksXG4gICAgICAgIE5vZGUucChbTm9kZS50ZXh0ZihcIiVzXCIsIHN0cmluZ19vZl9wZXhwKHBleHBfb2ZfaHR5cChzdGF0ZS50KSkpXSksXG4gICAgICBdKTtcblxuICAgIGxldCBidXR0b25zID0ge1xuICAgICAgbGV0IGJ1dHRvbiA9XG4gICAgICAgICAgKFxuICAgICAgICAgICAgbGFiZWw6IHN0cmluZyxcbiAgICAgICAgICAgIGFjdGlvbjogQWN0aW9uLmFjdGlvbixcbiAgICAgICAgICAgIGlucHV0OiBvcHRpb24oKEFjdGlvbi5pbnB1dF9sb2NhdGlvbiwgc3RyaW5nKSksXG4gICAgICAgICAgKVxuICAgICAgICAgIDogTm9kZS50ID0+IHtcbiAgICAgICAgbGV0IGJ1dHRvbl9ub2RlID0ge1xuICAgICAgICAgIGxldCBhY3Rpb25zID1cbiAgICAgICAgICAgIHN3aXRjaCAoaW5wdXQpIHtcbiAgICAgICAgICAgIHwgU29tZSgoaW5wdXRfbG9jYXRpb24sIF8pKSA9PiBbXG4gICAgICAgICAgICAgICAgYWN0aW9uLFxuICAgICAgICAgICAgICAgIEFjdGlvbi5VcGRhdGVJbnB1dChpbnB1dF9sb2NhdGlvbiwgXCJcIiksXG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIHwgTm9uZSA9PiBbYWN0aW9uXVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgIE5vZGUuYnV0dG9uKFxuICAgICAgICAgICAgfmF0dHI9XG4gICAgICAgICAgICAgIEF0dHIubWFueV93aXRob3V0X21lcmdlKFtcbiAgICAgICAgICAgICAgICBBdHRyLm9uX2NsaWNrKF9ldiA9PiBpbmplY3QoYWN0aW9ucykpLFxuICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIFtOb2RlLnRleHQobGFiZWwpXSxcbiAgICAgICAgICApO1xuICAgICAgICB9O1xuXG4gICAgICAgIGxldCBpbnB1dF9ub2RlID0ge1xuICAgICAgICAgIGxldCsgKGlucHV0X2xvY2F0aW9uLCBpbnB1dF92YWx1ZSkgPSBpbnB1dDtcbiAgICAgICAgICBOb2RlLmlucHV0KFxuICAgICAgICAgICAgfmF0dHI9XG4gICAgICAgICAgICAgIEF0dHIubWFueV93aXRob3V0X21lcmdlKFtcbiAgICAgICAgICAgICAgICBBdHRyLnR5cGVfKFwidGV4dFwiKSxcbiAgICAgICAgICAgICAgICBBdHRyLnN0cmluZ19wcm9wZXJ0eShcInZhbHVlXCIsIGlucHV0X3ZhbHVlKSxcbiAgICAgICAgICAgICAgICBBdHRyLm9uX2lucHV0KChfZXYsIHRleHQpID0+XG4gICAgICAgICAgICAgICAgICBpbmplY3QoW0FjdGlvbi5VcGRhdGVJbnB1dChpbnB1dF9sb2NhdGlvbiwgdGV4dCldKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgW10sXG4gICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuICAgICAgICBOb2RlLmRpdihcbiAgICAgICAgICBzd2l0Y2ggKGlucHV0X25vZGUpIHtcbiAgICAgICAgICB8IFNvbWUoaW5wdXRfbm9kZSkgPT4gW2J1dHRvbl9ub2RlLCBpbnB1dF9ub2RlXVxuICAgICAgICAgIHwgTm9uZSA9PiBbYnV0dG9uX25vZGVdXG4gICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICAgIH07XG5cbiAgICAgIGxldCBtb3ZlX2J1dHRvbnMgPVxuICAgICAgICBOb2RlLmRpdihbXG4gICAgICAgICAgYnV0dG9uKFxuICAgICAgICAgICAgXCJNb3ZlIHRvIFBhcmVudFwiLFxuICAgICAgICAgICAgQWN0aW9uLkhhemVsbnV0QWN0aW9uKE1vdmUoUGFyZW50KSksXG4gICAgICAgICAgICBOb25lLFxuICAgICAgICAgICksXG4gICAgICAgICAgYnV0dG9uKFxuICAgICAgICAgICAgXCJNb3ZlIHRvIENoaWxkIDFcIixcbiAgICAgICAgICAgIEFjdGlvbi5IYXplbG51dEFjdGlvbihNb3ZlKENoaWxkKE9uZSkpKSxcbiAgICAgICAgICAgIE5vbmUsXG4gICAgICAgICAgKSxcbiAgICAgICAgICBidXR0b24oXG4gICAgICAgICAgICBcIk1vdmUgdG8gQ2hpbGQgMlwiLFxuICAgICAgICAgICAgQWN0aW9uLkhhemVsbnV0QWN0aW9uKE1vdmUoQ2hpbGQoVHdvKSkpLFxuICAgICAgICAgICAgTm9uZSxcbiAgICAgICAgICApLFxuICAgICAgICBdKTtcblxuICAgICAgbGV0IGNvbnN0cnVjdF9idXR0b25zID1cbiAgICAgICAgTm9kZS5kaXYoW1xuICAgICAgICAgIGJ1dHRvbihcbiAgICAgICAgICAgIFwiQ29uc3RydWN0IEFycm93XCIsXG4gICAgICAgICAgICBBY3Rpb24uSGF6ZWxudXRBY3Rpb24oQ29uc3RydWN0KEFycm93KSksXG4gICAgICAgICAgICBOb25lLFxuICAgICAgICAgICksXG4gICAgICAgICAgYnV0dG9uKFxuICAgICAgICAgICAgXCJDb25zdHJ1Y3QgTnVtXCIsXG4gICAgICAgICAgICBBY3Rpb24uSGF6ZWxudXRBY3Rpb24oQ29uc3RydWN0KE51bSkpLFxuICAgICAgICAgICAgTm9uZSxcbiAgICAgICAgICApLFxuICAgICAgICAgIGJ1dHRvbihcbiAgICAgICAgICAgIFwiQ29uc3RydWN0IEFzY1wiLFxuICAgICAgICAgICAgQWN0aW9uLkhhemVsbnV0QWN0aW9uKENvbnN0cnVjdChBc2MpKSxcbiAgICAgICAgICAgIE5vbmUsXG4gICAgICAgICAgKSxcbiAgICAgICAgICBidXR0b24oXG4gICAgICAgICAgICBcIkNvbnN0cnVjdCBWYXJcIixcbiAgICAgICAgICAgIEFjdGlvbi5IYXplbG51dEFjdGlvbihDb25zdHJ1Y3QoVmFyKHN0YXRlLnZhcl9pbnB1dCkpKSxcbiAgICAgICAgICAgIFNvbWUoKFZhciwgc3RhdGUudmFyX2lucHV0KSksXG4gICAgICAgICAgKSxcbiAgICAgICAgICBidXR0b24oXG4gICAgICAgICAgICBcIkNvbnN0cnVjdCBMYW1cIixcbiAgICAgICAgICAgIEFjdGlvbi5IYXplbG51dEFjdGlvbihDb25zdHJ1Y3QoTGFtKHN0YXRlLmxhbV9pbnB1dCkpKSxcbiAgICAgICAgICAgIFNvbWUoKExhbSwgc3RhdGUubGFtX2lucHV0KSksXG4gICAgICAgICAgKSxcbiAgICAgICAgICBidXR0b24oXG4gICAgICAgICAgICBcIkNvbnN0cnVjdCBBcFwiLFxuICAgICAgICAgICAgQWN0aW9uLkhhemVsbnV0QWN0aW9uKENvbnN0cnVjdChBcCkpLFxuICAgICAgICAgICAgTm9uZSxcbiAgICAgICAgICApLFxuICAgICAgICAgIGJ1dHRvbihcbiAgICAgICAgICAgIFwiQ29uc3RydWN0IExpdFwiLFxuICAgICAgICAgICAgdHJ5KFxuICAgICAgICAgICAgICBBY3Rpb24uSGF6ZWxudXRBY3Rpb24oXG4gICAgICAgICAgICAgICAgQ29uc3RydWN0KExpdChpbnRfb2Zfc3RyaW5nKHN0YXRlLmxpdF9pbnB1dCkpKSxcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICB8IEZhaWx1cmUoXykgPT4gQWN0aW9uLlNob3dXYXJuaW5nKFwiSW52YWxpZCBpbnB1dFwiKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFNvbWUoKExpdCwgc3RhdGUubGl0X2lucHV0KSksXG4gICAgICAgICAgKSxcbiAgICAgICAgICBidXR0b24oXG4gICAgICAgICAgICBcIkNvbnN0cnVjdCBQbHVzXCIsXG4gICAgICAgICAgICBBY3Rpb24uSGF6ZWxudXRBY3Rpb24oQ29uc3RydWN0KFBsdXMpKSxcbiAgICAgICAgICAgIE5vbmUsXG4gICAgICAgICAgKSxcbiAgICAgICAgICBidXR0b24oXG4gICAgICAgICAgICBcIkNvbnN0cnVjdCBORUhvbGVcIixcbiAgICAgICAgICAgIEFjdGlvbi5IYXplbG51dEFjdGlvbihDb25zdHJ1Y3QoTkVIb2xlKSksXG4gICAgICAgICAgICBOb25lLFxuICAgICAgICAgICksXG4gICAgICAgIF0pO1xuXG4gICAgICBsZXQgZGVsZXRlX2J1dHRvbiA9XG4gICAgICAgIE5vZGUuZGl2KFtidXR0b24oXCJEZWxldGVcIiwgQWN0aW9uLkhhemVsbnV0QWN0aW9uKERlbCksIE5vbmUpXSk7XG5cbiAgICAgIGxldCBmaW5pc2hfYnV0dG9uID1cbiAgICAgICAgTm9kZS5kaXYoW2J1dHRvbihcIkZpbmlzaFwiLCBBY3Rpb24uSGF6ZWxudXRBY3Rpb24oRmluaXNoKSwgTm9uZSldKTtcblxuICAgICAgTm9kZS5kaXYoW1xuICAgICAgICBtb3ZlX2J1dHRvbnMsXG4gICAgICAgIGNvbnN0cnVjdF9idXR0b25zLFxuICAgICAgICBkZWxldGVfYnV0dG9uLFxuICAgICAgICBmaW5pc2hfYnV0dG9uLFxuICAgICAgXSk7XG4gICAgfTtcblxuICAgIGxldCB3YXJuaW5nID1cbiAgICAgIE5vZGUucChcbiAgICAgICAgc3dpdGNoIChzdGF0ZS53YXJuaW5nKSB7XG4gICAgICAgIHwgU29tZSh3YXJuaW5nKSA9PiBbTm9kZS50ZXh0KHdhcm5pbmcpXVxuICAgICAgICB8IE5vbmUgPT4gW11cbiAgICAgICAgfSxcbiAgICAgICk7XG5cbiAgICBOb2RlLmRpdihbZXhwcmVzc2lvbiwgYnV0dG9ucywgd2FybmluZ10pO1xuICB9O1xuXG4gIE5vZGUuYm9keShbYm9keV0pO1xufTtcblxubGV0IGNyZWF0ZSA9IChtb2RlbCwgfm9sZF9tb2RlbCBhcyBfLCB+aW5qZWN0KSA9PiB7XG4gIG9wZW4gSW5jci5MZXRfc3ludGF4O1xuICBsZXQlbWFwIGFwcGx5X2FjdGlvbiA9IHtcbiAgICBsZXQlbWFwIG1vZGVsID0gbW9kZWw7XG4gICAgYXBwbHlfYWN0aW9uKG1vZGVsKTtcbiAgfVxuICBhbmQgdmlldyA9IHZpZXcobW9kZWwsIH5pbmplY3QpXG4gIGFuZCBtb2RlbCA9IG1vZGVsO1xuICBDb21wb25lbnQuY3JlYXRlKH5hcHBseV9hY3Rpb24sIG1vZGVsLCB2aWV3KTtcbn07XG5cbmxldCBpbml0aWFsX21vZGVsID0gTW9kZWwuaW5pdCgpO1xuIl19
